(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const c of u.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function i(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function r(o){if(o.ep)return;o.ep=!0;const u=i(o);fetch(o.href,u)}})();function JT(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Jd={exports:{}},Il={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var a_;function iS(){if(a_)return Il;a_=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(r,o,u){var c=null;if(u!==void 0&&(c=""+u),o.key!==void 0&&(c=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:n,type:r,key:c,ref:o!==void 0?o:null,props:u}}return Il.Fragment=t,Il.jsx=i,Il.jsxs=i,Il}var o_;function sS(){return o_||(o_=1,Jd.exports=iS()),Jd.exports}var A=sS(),Wd={exports:{}},Vt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l_;function rS(){if(l_)return Vt;l_=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),c=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),E=Symbol.for("react.activity"),x=Symbol.iterator;function M(b){return b===null||typeof b!="object"?null:(b=x&&b[x]||b["@@iterator"],typeof b=="function"?b:null)}var B={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},K=Object.assign,L={};function J(b,U,$){this.props=b,this.context=U,this.refs=L,this.updater=$||B}J.prototype.isReactComponent={},J.prototype.setState=function(b,U){if(typeof b!="object"&&typeof b!="function"&&b!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,b,U,"setState")},J.prototype.forceUpdate=function(b){this.updater.enqueueForceUpdate(this,b,"forceUpdate")};function it(){}it.prototype=J.prototype;function et(b,U,$){this.props=b,this.context=U,this.refs=L,this.updater=$||B}var mt=et.prototype=new it;mt.constructor=et,K(mt,J.prototype),mt.isPureReactComponent=!0;var ht=Array.isArray;function dt(){}var R={H:null,A:null,T:null,S:null},C=Object.prototype.hasOwnProperty;function V(b,U,$){var rt=$.ref;return{$$typeof:n,type:b,key:U,ref:rt!==void 0?rt:null,props:$}}function j(b,U){return V(b.type,U,b.props)}function I(b){return typeof b=="object"&&b!==null&&b.$$typeof===n}function k(b){var U={"=":"=0",":":"=2"};return"$"+b.replace(/[=:]/g,function($){return U[$]})}var D=/\/+/g;function Zt(b,U){return typeof b=="object"&&b!==null&&b.key!=null?k(""+b.key):U.toString(36)}function he(b){switch(b.status){case"fulfilled":return b.value;case"rejected":throw b.reason;default:switch(typeof b.status=="string"?b.then(dt,dt):(b.status="pending",b.then(function(U){b.status==="pending"&&(b.status="fulfilled",b.value=U)},function(U){b.status==="pending"&&(b.status="rejected",b.reason=U)})),b.status){case"fulfilled":return b.value;case"rejected":throw b.reason}}throw b}function X(b,U,$,rt,lt){var ft=typeof b;(ft==="undefined"||ft==="boolean")&&(b=null);var ct=!1;if(b===null)ct=!0;else switch(ft){case"bigint":case"string":case"number":ct=!0;break;case"object":switch(b.$$typeof){case n:case t:ct=!0;break;case v:return ct=b._init,X(ct(b._payload),U,$,rt,lt)}}if(ct)return lt=lt(b),ct=rt===""?"."+Zt(b,0):rt,ht(lt)?($="",ct!=null&&($=ct.replace(D,"$&/")+"/"),X(lt,U,$,"",function($t){return $t})):lt!=null&&(I(lt)&&(lt=j(lt,$+(lt.key==null||b&&b.key===lt.key?"":(""+lt.key).replace(D,"$&/")+"/")+ct)),U.push(lt)),1;ct=0;var Tt=rt===""?".":rt+":";if(ht(b))for(var xt=0;xt<b.length;xt++)rt=b[xt],ft=Tt+Zt(rt,xt),ct+=X(rt,U,$,ft,lt);else if(xt=M(b),typeof xt=="function")for(b=xt.call(b),xt=0;!(rt=b.next()).done;)rt=rt.value,ft=Tt+Zt(rt,xt++),ct+=X(rt,U,$,ft,lt);else if(ft==="object"){if(typeof b.then=="function")return X(he(b),U,$,rt,lt);throw U=String(b),Error("Objects are not valid as a React child (found: "+(U==="[object Object]"?"object with keys {"+Object.keys(b).join(", ")+"}":U)+"). If you meant to render a collection of children, use an array instead.")}return ct}function at(b,U,$){if(b==null)return b;var rt=[],lt=0;return X(b,rt,"","",function(ft){return U.call($,ft,lt++)}),rt}function gt(b){if(b._status===-1){var U=b._result;U=U(),U.then(function($){(b._status===0||b._status===-1)&&(b._status=1,b._result=$)},function($){(b._status===0||b._status===-1)&&(b._status=2,b._result=$)}),b._status===-1&&(b._status=0,b._result=U)}if(b._status===1)return b._result.default;throw b._result}var Mt=typeof reportError=="function"?reportError:function(b){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var U=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof b=="object"&&b!==null&&typeof b.message=="string"?String(b.message):String(b),error:b});if(!window.dispatchEvent(U))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",b);return}console.error(b)},z={map:at,forEach:function(b,U,$){at(b,function(){U.apply(this,arguments)},$)},count:function(b){var U=0;return at(b,function(){U++}),U},toArray:function(b){return at(b,function(U){return U})||[]},only:function(b){if(!I(b))throw Error("React.Children.only expected to receive a single React element child.");return b}};return Vt.Activity=E,Vt.Children=z,Vt.Component=J,Vt.Fragment=i,Vt.Profiler=o,Vt.PureComponent=et,Vt.StrictMode=r,Vt.Suspense=p,Vt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=R,Vt.__COMPILER_RUNTIME={__proto__:null,c:function(b){return R.H.useMemoCache(b)}},Vt.cache=function(b){return function(){return b.apply(null,arguments)}},Vt.cacheSignal=function(){return null},Vt.cloneElement=function(b,U,$){if(b==null)throw Error("The argument must be a React element, but you passed "+b+".");var rt=K({},b.props),lt=b.key;if(U!=null)for(ft in U.key!==void 0&&(lt=""+U.key),U)!C.call(U,ft)||ft==="key"||ft==="__self"||ft==="__source"||ft==="ref"&&U.ref===void 0||(rt[ft]=U[ft]);var ft=arguments.length-2;if(ft===1)rt.children=$;else if(1<ft){for(var ct=Array(ft),Tt=0;Tt<ft;Tt++)ct[Tt]=arguments[Tt+2];rt.children=ct}return V(b.type,lt,rt)},Vt.createContext=function(b){return b={$$typeof:c,_currentValue:b,_currentValue2:b,_threadCount:0,Provider:null,Consumer:null},b.Provider=b,b.Consumer={$$typeof:u,_context:b},b},Vt.createElement=function(b,U,$){var rt,lt={},ft=null;if(U!=null)for(rt in U.key!==void 0&&(ft=""+U.key),U)C.call(U,rt)&&rt!=="key"&&rt!=="__self"&&rt!=="__source"&&(lt[rt]=U[rt]);var ct=arguments.length-2;if(ct===1)lt.children=$;else if(1<ct){for(var Tt=Array(ct),xt=0;xt<ct;xt++)Tt[xt]=arguments[xt+2];lt.children=Tt}if(b&&b.defaultProps)for(rt in ct=b.defaultProps,ct)lt[rt]===void 0&&(lt[rt]=ct[rt]);return V(b,ft,lt)},Vt.createRef=function(){return{current:null}},Vt.forwardRef=function(b){return{$$typeof:m,render:b}},Vt.isValidElement=I,Vt.lazy=function(b){return{$$typeof:v,_payload:{_status:-1,_result:b},_init:gt}},Vt.memo=function(b,U){return{$$typeof:g,type:b,compare:U===void 0?null:U}},Vt.startTransition=function(b){var U=R.T,$={};R.T=$;try{var rt=b(),lt=R.S;lt!==null&&lt($,rt),typeof rt=="object"&&rt!==null&&typeof rt.then=="function"&&rt.then(dt,Mt)}catch(ft){Mt(ft)}finally{U!==null&&$.types!==null&&(U.types=$.types),R.T=U}},Vt.unstable_useCacheRefresh=function(){return R.H.useCacheRefresh()},Vt.use=function(b){return R.H.use(b)},Vt.useActionState=function(b,U,$){return R.H.useActionState(b,U,$)},Vt.useCallback=function(b,U){return R.H.useCallback(b,U)},Vt.useContext=function(b){return R.H.useContext(b)},Vt.useDebugValue=function(){},Vt.useDeferredValue=function(b,U){return R.H.useDeferredValue(b,U)},Vt.useEffect=function(b,U){return R.H.useEffect(b,U)},Vt.useEffectEvent=function(b){return R.H.useEffectEvent(b)},Vt.useId=function(){return R.H.useId()},Vt.useImperativeHandle=function(b,U,$){return R.H.useImperativeHandle(b,U,$)},Vt.useInsertionEffect=function(b,U){return R.H.useInsertionEffect(b,U)},Vt.useLayoutEffect=function(b,U){return R.H.useLayoutEffect(b,U)},Vt.useMemo=function(b,U){return R.H.useMemo(b,U)},Vt.useOptimistic=function(b,U){return R.H.useOptimistic(b,U)},Vt.useReducer=function(b,U,$){return R.H.useReducer(b,U,$)},Vt.useRef=function(b){return R.H.useRef(b)},Vt.useState=function(b){return R.H.useState(b)},Vt.useSyncExternalStore=function(b,U,$){return R.H.useSyncExternalStore(b,U,$)},Vt.useTransition=function(){return R.H.useTransition()},Vt.version="19.2.3",Vt}var u_;function Ep(){return u_||(u_=1,Wd.exports=rS()),Wd.exports}var ot=Ep();const WT=JT(ot);var tm={exports:{}},Ol={},em={exports:{}},nm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var c_;function aS(){return c_||(c_=1,(function(n){function t(X,at){var gt=X.length;X.push(at);t:for(;0<gt;){var Mt=gt-1>>>1,z=X[Mt];if(0<o(z,at))X[Mt]=at,X[gt]=z,gt=Mt;else break t}}function i(X){return X.length===0?null:X[0]}function r(X){if(X.length===0)return null;var at=X[0],gt=X.pop();if(gt!==at){X[0]=gt;t:for(var Mt=0,z=X.length,b=z>>>1;Mt<b;){var U=2*(Mt+1)-1,$=X[U],rt=U+1,lt=X[rt];if(0>o($,gt))rt<z&&0>o(lt,$)?(X[Mt]=lt,X[rt]=gt,Mt=rt):(X[Mt]=$,X[U]=gt,Mt=U);else if(rt<z&&0>o(lt,gt))X[Mt]=lt,X[rt]=gt,Mt=rt;else break t}}return at}function o(X,at){var gt=X.sortIndex-at.sortIndex;return gt!==0?gt:X.id-at.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;n.unstable_now=function(){return u.now()}}else{var c=Date,m=c.now();n.unstable_now=function(){return c.now()-m}}var p=[],g=[],v=1,E=null,x=3,M=!1,B=!1,K=!1,L=!1,J=typeof setTimeout=="function"?setTimeout:null,it=typeof clearTimeout=="function"?clearTimeout:null,et=typeof setImmediate<"u"?setImmediate:null;function mt(X){for(var at=i(g);at!==null;){if(at.callback===null)r(g);else if(at.startTime<=X)r(g),at.sortIndex=at.expirationTime,t(p,at);else break;at=i(g)}}function ht(X){if(K=!1,mt(X),!B)if(i(p)!==null)B=!0,dt||(dt=!0,k());else{var at=i(g);at!==null&&he(ht,at.startTime-X)}}var dt=!1,R=-1,C=5,V=-1;function j(){return L?!0:!(n.unstable_now()-V<C)}function I(){if(L=!1,dt){var X=n.unstable_now();V=X;var at=!0;try{t:{B=!1,K&&(K=!1,it(R),R=-1),M=!0;var gt=x;try{e:{for(mt(X),E=i(p);E!==null&&!(E.expirationTime>X&&j());){var Mt=E.callback;if(typeof Mt=="function"){E.callback=null,x=E.priorityLevel;var z=Mt(E.expirationTime<=X);if(X=n.unstable_now(),typeof z=="function"){E.callback=z,mt(X),at=!0;break e}E===i(p)&&r(p),mt(X)}else r(p);E=i(p)}if(E!==null)at=!0;else{var b=i(g);b!==null&&he(ht,b.startTime-X),at=!1}}break t}finally{E=null,x=gt,M=!1}at=void 0}}finally{at?k():dt=!1}}}var k;if(typeof et=="function")k=function(){et(I)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,Zt=D.port2;D.port1.onmessage=I,k=function(){Zt.postMessage(null)}}else k=function(){J(I,0)};function he(X,at){R=J(function(){X(n.unstable_now())},at)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(X){X.callback=null},n.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<X?Math.floor(1e3/X):5},n.unstable_getCurrentPriorityLevel=function(){return x},n.unstable_next=function(X){switch(x){case 1:case 2:case 3:var at=3;break;default:at=x}var gt=x;x=at;try{return X()}finally{x=gt}},n.unstable_requestPaint=function(){L=!0},n.unstable_runWithPriority=function(X,at){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var gt=x;x=X;try{return at()}finally{x=gt}},n.unstable_scheduleCallback=function(X,at,gt){var Mt=n.unstable_now();switch(typeof gt=="object"&&gt!==null?(gt=gt.delay,gt=typeof gt=="number"&&0<gt?Mt+gt:Mt):gt=Mt,X){case 1:var z=-1;break;case 2:z=250;break;case 5:z=1073741823;break;case 4:z=1e4;break;default:z=5e3}return z=gt+z,X={id:v++,callback:at,priorityLevel:X,startTime:gt,expirationTime:z,sortIndex:-1},gt>Mt?(X.sortIndex=gt,t(g,X),i(p)===null&&X===i(g)&&(K?(it(R),R=-1):K=!0,he(ht,gt-Mt))):(X.sortIndex=z,t(p,X),B||M||(B=!0,dt||(dt=!0,k()))),X},n.unstable_shouldYield=j,n.unstable_wrapCallback=function(X){var at=x;return function(){var gt=x;x=at;try{return X.apply(this,arguments)}finally{x=gt}}}})(nm)),nm}var h_;function oS(){return h_||(h_=1,em.exports=aS()),em.exports}var im={exports:{}},hn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f_;function lS(){if(f_)return hn;f_=1;var n=Ep();function t(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)g+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var r={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,g,v){var E=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:E==null?null:""+E,children:p,containerInfo:g,implementation:v}}var c=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return hn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,hn.createPortal=function(p,g){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(t(299));return u(p,g,null,v)},hn.flushSync=function(p){var g=c.T,v=r.p;try{if(c.T=null,r.p=2,p)return p()}finally{c.T=g,r.p=v,r.d.f()}},hn.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,r.d.C(p,g))},hn.prefetchDNS=function(p){typeof p=="string"&&r.d.D(p)},hn.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var v=g.as,E=m(v,g.crossOrigin),x=typeof g.integrity=="string"?g.integrity:void 0,M=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;v==="style"?r.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:E,integrity:x,fetchPriority:M}):v==="script"&&r.d.X(p,{crossOrigin:E,integrity:x,fetchPriority:M,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},hn.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var v=m(g.as,g.crossOrigin);r.d.M(p,{crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&r.d.M(p)},hn.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var v=g.as,E=m(v,g.crossOrigin);r.d.L(p,v,{crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},hn.preloadModule=function(p,g){if(typeof p=="string")if(g){var v=m(g.as,g.crossOrigin);r.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else r.d.m(p)},hn.requestFormReset=function(p){r.d.r(p)},hn.unstable_batchedUpdates=function(p,g){return p(g)},hn.useFormState=function(p,g,v){return c.H.useFormState(p,g,v)},hn.useFormStatus=function(){return c.H.useHostTransitionStatus()},hn.version="19.2.3",hn}var d_;function uS(){if(d_)return im.exports;d_=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),im.exports=lS(),im.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var m_;function cS(){if(m_)return Ol;m_=1;var n=oS(),t=Ep(),i=uS();function r(e){var s="https://react.dev/errors/"+e;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)s+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function u(e){var s=e,a=e;if(e.alternate)for(;s.return;)s=s.return;else{e=s;do s=e,(s.flags&4098)!==0&&(a=s.return),e=s.return;while(e)}return s.tag===3?a:null}function c(e){if(e.tag===13){var s=e.memoizedState;if(s===null&&(e=e.alternate,e!==null&&(s=e.memoizedState)),s!==null)return s.dehydrated}return null}function m(e){if(e.tag===31){var s=e.memoizedState;if(s===null&&(e=e.alternate,e!==null&&(s=e.memoizedState)),s!==null)return s.dehydrated}return null}function p(e){if(u(e)!==e)throw Error(r(188))}function g(e){var s=e.alternate;if(!s){if(s=u(e),s===null)throw Error(r(188));return s!==e?null:e}for(var a=e,l=s;;){var f=a.return;if(f===null)break;var d=f.alternate;if(d===null){if(l=f.return,l!==null){a=l;continue}break}if(f.child===d.child){for(d=f.child;d;){if(d===a)return p(f),e;if(d===l)return p(f),s;d=d.sibling}throw Error(r(188))}if(a.return!==l.return)a=f,l=d;else{for(var _=!1,S=f.child;S;){if(S===a){_=!0,a=f,l=d;break}if(S===l){_=!0,l=f,a=d;break}S=S.sibling}if(!_){for(S=d.child;S;){if(S===a){_=!0,a=d,l=f;break}if(S===l){_=!0,l=d,a=f;break}S=S.sibling}if(!_)throw Error(r(189))}}if(a.alternate!==l)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?e:s}function v(e){var s=e.tag;if(s===5||s===26||s===27||s===6)return e;for(e=e.child;e!==null;){if(s=v(e),s!==null)return s;e=e.sibling}return null}var E=Object.assign,x=Symbol.for("react.element"),M=Symbol.for("react.transitional.element"),B=Symbol.for("react.portal"),K=Symbol.for("react.fragment"),L=Symbol.for("react.strict_mode"),J=Symbol.for("react.profiler"),it=Symbol.for("react.consumer"),et=Symbol.for("react.context"),mt=Symbol.for("react.forward_ref"),ht=Symbol.for("react.suspense"),dt=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),C=Symbol.for("react.lazy"),V=Symbol.for("react.activity"),j=Symbol.for("react.memo_cache_sentinel"),I=Symbol.iterator;function k(e){return e===null||typeof e!="object"?null:(e=I&&e[I]||e["@@iterator"],typeof e=="function"?e:null)}var D=Symbol.for("react.client.reference");function Zt(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===D?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case K:return"Fragment";case J:return"Profiler";case L:return"StrictMode";case ht:return"Suspense";case dt:return"SuspenseList";case V:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case B:return"Portal";case et:return e.displayName||"Context";case it:return(e._context.displayName||"Context")+".Consumer";case mt:var s=e.render;return e=e.displayName,e||(e=s.displayName||s.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case R:return s=e.displayName||null,s!==null?s:Zt(e.type)||"Memo";case C:s=e._payload,e=e._init;try{return Zt(e(s))}catch{}}return null}var he=Array.isArray,X=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,at=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,gt={pending:!1,data:null,method:null,action:null},Mt=[],z=-1;function b(e){return{current:e}}function U(e){0>z||(e.current=Mt[z],Mt[z]=null,z--)}function $(e,s){z++,Mt[z]=e.current,e.current=s}var rt=b(null),lt=b(null),ft=b(null),ct=b(null);function Tt(e,s){switch($(ft,s),$(lt,e),$(rt,null),s.nodeType){case 9:case 11:e=(e=s.documentElement)&&(e=e.namespaceURI)?Vv(e):0;break;default:if(e=s.tagName,s=s.namespaceURI)s=Vv(s),e=Dv(s,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}U(rt),$(rt,e)}function xt(){U(rt),U(lt),U(ft)}function $t(e){e.memoizedState!==null&&$(ct,e);var s=rt.current,a=Dv(s,e.type);s!==a&&($(lt,e),$(rt,a))}function Gt(e){lt.current===e&&(U(rt),U(lt)),ct.current===e&&(U(ct),Vl._currentValue=gt)}var te,ge;function Rt(e){if(te===void 0)try{throw Error()}catch(a){var s=a.stack.trim().match(/\n( *(at )?)/);te=s&&s[1]||"",ge=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+te+e+ge}var De=!1;function Fe(e,s){if(!e||De)return"";De=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(s){var tt=function(){throw Error()};if(Object.defineProperty(tt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(tt,[])}catch(Q){var G=Q}Reflect.construct(e,[],tt)}else{try{tt.call()}catch(Q){G=Q}e.call(tt.prototype)}}else{try{throw Error()}catch(Q){G=Q}(tt=e())&&typeof tt.catch=="function"&&tt.catch(function(){})}}catch(Q){if(Q&&G&&typeof Q.stack=="string")return[Q.stack,G.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),_=d[0],S=d[1];if(_&&S){var N=_.split(`
`),H=S.split(`
`);for(f=l=0;l<N.length&&!N[l].includes("DetermineComponentFrameRoot");)l++;for(;f<H.length&&!H[f].includes("DetermineComponentFrameRoot");)f++;if(l===N.length||f===H.length)for(l=N.length-1,f=H.length-1;1<=l&&0<=f&&N[l]!==H[f];)f--;for(;1<=l&&0<=f;l--,f--)if(N[l]!==H[f]){if(l!==1||f!==1)do if(l--,f--,0>f||N[l]!==H[f]){var Z=`
`+N[l].replace(" at new "," at ");return e.displayName&&Z.includes("<anonymous>")&&(Z=Z.replace("<anonymous>",e.displayName)),Z}while(1<=l&&0<=f);break}}}finally{De=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?Rt(a):""}function We(e,s){switch(e.tag){case 26:case 27:case 5:return Rt(e.type);case 16:return Rt("Lazy");case 13:return e.child!==s&&s!==null?Rt("Suspense Fallback"):Rt("Suspense");case 19:return Rt("SuspenseList");case 0:case 15:return Fe(e.type,!1);case 11:return Fe(e.type.render,!1);case 1:return Fe(e.type,!0);case 31:return Rt("Activity");default:return""}}function gn(e){try{var s="",a=null;do s+=We(e,a),a=e,e=e.return;while(e);return s}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var se=Object.prototype.hasOwnProperty,Jt=n.unstable_scheduleCallback,_i=n.unstable_cancelCallback,Io=n.unstable_shouldYield,fa=n.unstable_requestPaint,Qe=n.unstable_now,Xi=n.unstable_getCurrentPriorityLevel,bs=n.unstable_ImmediatePriority,yr=n.unstable_UserBlockingPriority,Ti=n.unstable_NormalPriority,da=n.unstable_LowPriority,vr=n.unstable_IdlePriority,xs=n.log,ma=n.unstable_setDisableYieldValue,Vn=null,tn=null;function zn(e){if(typeof xs=="function"&&ma(e),tn&&typeof tn.setStrictMode=="function")try{tn.setStrictMode(Vn,e)}catch{}}var Se=Math.clz32?Math.clz32:Su,Au=Math.log,pa=Math.LN2;function Su(e){return e>>>=0,e===0?32:31-(Au(e)/pa|0)|0}var Ei=256,_r=262144,Me=4194304;function bi(e){var s=e&42;if(s!==0)return s;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function xi(e,s,a){var l=e.pendingLanes;if(l===0)return 0;var f=0,d=e.suspendedLanes,_=e.pingedLanes;e=e.warmLanes;var S=l&134217727;return S!==0?(l=S&~d,l!==0?f=bi(l):(_&=S,_!==0?f=bi(_):a||(a=S&~e,a!==0&&(f=bi(a))))):(S=l&~d,S!==0?f=bi(S):_!==0?f=bi(_):a||(a=l&~e,a!==0&&(f=bi(a)))),f===0?0:s!==0&&s!==f&&(s&d)===0&&(d=f&-f,a=s&-s,d>=a||d===32&&(a&4194048)!==0)?s:f}function ii(e,s){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&s)===0}function ef(e,s){switch(e){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wu(){var e=Me;return Me<<=1,(Me&62914560)===0&&(Me=4194304),e}function Ai(e){for(var s=[],a=0;31>a;a++)s.push(e);return s}function Tr(e,s){e.pendingLanes|=s,s!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function nf(e,s,a,l,f,d){var _=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var S=e.entanglements,N=e.expirationTimes,H=e.hiddenUpdates;for(a=_&~a;0<a;){var Z=31-Se(a),tt=1<<Z;S[Z]=0,N[Z]=-1;var G=H[Z];if(G!==null)for(H[Z]=null,Z=0;Z<G.length;Z++){var Q=G[Z];Q!==null&&(Q.lane&=-536870913)}a&=~tt}l!==0&&Er(e,l,0),d!==0&&f===0&&e.tag!==0&&(e.suspendedLanes|=d&~(_&~s))}function Er(e,s,a){e.pendingLanes|=s,e.suspendedLanes&=~s;var l=31-Se(s);e.entangledLanes|=s,e.entanglements[l]=e.entanglements[l]|1073741824|a&261930}function Oo(e,s){var a=e.entangledLanes|=s;for(e=e.entanglements;a;){var l=31-Se(a),f=1<<l;f&s|e[l]&s&&(e[l]|=s),a&=~f}}function jo(e,s){var a=s&-s;return a=(a&42)!==0?1:br(a),(a&(e.suspendedLanes|s))!==0?0:a}function br(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Zi(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Cu(){var e=at.p;return e!==0?e:(e=window.event,e===void 0?32:Wv(e.type))}function si(e,s){var a=at.p;try{return at.p=e,s()}finally{at.p=a}}var ri=Math.random().toString(36).slice(2),Ne="__reactFiber$"+ri,Xe="__reactProps$"+ri,Si="__reactContainer$"+ri,ga="__reactEvents$"+ri,sf="__reactListeners$"+ri,Ru="__reactHandles$"+ri,Vu="__reactResources$"+ri,wi="__reactMarker$"+ri;function ya(e){delete e[Ne],delete e[Xe],delete e[ga],delete e[sf],delete e[Ru]}function Ci(e){var s=e[Ne];if(s)return s;for(var a=e.parentNode;a;){if(s=a[Si]||a[Ne]){if(a=s.alternate,s.child!==null||a!==null&&a.child!==null)for(e=Lv(e);e!==null;){if(a=e[Ne])return a;e=Lv(e)}return s}e=a,a=e.parentNode}return null}function Un(e){if(e=e[Ne]||e[Si]){var s=e.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return e}return null}function Dn(e){var s=e.tag;if(s===5||s===26||s===27||s===6)return e.stateNode;throw Error(r(33))}function Ri(e){var s=e[Vu];return s||(s=e[Vu]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function Ie(e){e[wi]=!0}var Po=new Set,Lo={};function Vi(e,s){Di(e,s),Di(e+"Capture",s)}function Di(e,s){for(Lo[e]=s,e=0;e<s.length;e++)Po.add(s[e])}var ko=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),zo={},Uo={};function Du(e){return se.call(Uo,e)?!0:se.call(zo,e)?!1:ko.test(e)?Uo[e]=!0:(zo[e]=!0,!1)}function va(e,s,a){if(Du(s))if(a===null)e.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(s);return;case"boolean":var l=s.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(s);return}}e.setAttribute(s,""+a)}}function Mn(e,s,a){if(a===null)e.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(s);return}e.setAttribute(s,""+a)}}function Oe(e,s,a,l){if(l===null)e.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(s,a,""+l)}}function Ze(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function As(e){var s=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Bo(e,s,a){var l=Object.getOwnPropertyDescriptor(e.constructor.prototype,s);if(!e.hasOwnProperty(s)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var f=l.get,d=l.set;return Object.defineProperty(e,s,{configurable:!0,get:function(){return f.call(this)},set:function(_){a=""+_,d.call(this,_)}}),Object.defineProperty(e,s,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(_){a=""+_},stopTracking:function(){e._valueTracker=null,delete e[s]}}}}function ee(e){if(!e._valueTracker){var s=As(e)?"checked":"value";e._valueTracker=Bo(e,s,""+e[s])}}function xr(e){if(!e)return!1;var s=e._valueTracker;if(!s)return!0;var a=s.getValue(),l="";return e&&(l=As(e)?e.checked?"true":"false":e.value),e=l,e!==a?(s.setValue(e),!0):!1}function Mi(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Ar=/[\n"\\]/g;function Tn(e){return e.replace(Ar,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function _a(e,s,a,l,f,d,_,S){e.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?e.type=_:e.removeAttribute("type"),s!=null?_==="number"?(s===0&&e.value===""||e.value!=s)&&(e.value=""+Ze(s)):e.value!==""+Ze(s)&&(e.value=""+Ze(s)):_!=="submit"&&_!=="reset"||e.removeAttribute("value"),s!=null?qo(e,_,Ze(s)):a!=null?qo(e,_,Ze(a)):l!=null&&e.removeAttribute("value"),f==null&&d!=null&&(e.defaultChecked=!!d),f!=null&&(e.checked=f&&typeof f!="function"&&typeof f!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?e.name=""+Ze(S):e.removeAttribute("name")}function Mu(e,s,a,l,f,d,_,S){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(e.type=d),s!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||s!=null)){ee(e);return}a=a!=null?""+Ze(a):"",s=s!=null?""+Ze(s):a,S||s===e.value||(e.value=s),e.defaultValue=s}l=l??f,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=S?e.checked:!!l,e.defaultChecked=!!l,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(e.name=_),ee(e)}function qo(e,s,a){s==="number"&&Mi(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function Ss(e,s,a,l){if(e=e.options,s){s={};for(var f=0;f<a.length;f++)s["$"+a[f]]=!0;for(a=0;a<e.length;a++)f=s.hasOwnProperty("$"+e[a].value),e[a].selected!==f&&(e[a].selected=f),f&&l&&(e[a].defaultSelected=!0)}else{for(a=""+Ze(a),s=null,f=0;f<e.length;f++){if(e[f].value===a){e[f].selected=!0,l&&(e[f].defaultSelected=!0);return}s!==null||e[f].disabled||(s=e[f])}s!==null&&(s.selected=!0)}}function Nu(e,s,a){if(s!=null&&(s=""+Ze(s),s!==e.value&&(e.value=s),a==null)){e.defaultValue!==s&&(e.defaultValue=s);return}e.defaultValue=a!=null?""+Ze(a):""}function ws(e,s,a,l){if(s==null){if(l!=null){if(a!=null)throw Error(r(92));if(he(l)){if(1<l.length)throw Error(r(93));l=l[0]}a=l}a==null&&(a=""),s=a}a=Ze(s),e.defaultValue=a,l=e.textContent,l===a&&l!==""&&l!==null&&(e.value=l),ee(e)}function En(e,s){if(s){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=s;return}}e.textContent=s}var Iu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Fo(e,s,a){var l=s.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?e.setProperty(s,""):s==="float"?e.cssFloat="":e[s]="":l?e.setProperty(s,a):typeof a!="number"||a===0||Iu.has(s)?s==="float"?e.cssFloat=a:e[s]=(""+a).trim():e[s]=a+"px"}function Ho(e,s,a){if(s!=null&&typeof s!="object")throw Error(r(62));if(e=e.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||s!=null&&s.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var f in s)l=s[f],s.hasOwnProperty(f)&&a[f]!==l&&Fo(e,f,l)}else for(var d in s)s.hasOwnProperty(d)&&Fo(e,d,s[d])}function Ta(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ou=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Cs=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ea(e){return Cs.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function ai(){}var Go=null;function Bn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Rs=null,Ni=null;function Sr(e){var s=Un(e);if(s&&(e=s.stateNode)){var a=e[Xe]||null;t:switch(e=s.stateNode,s.type){case"input":if(_a(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),s=a.name,a.type==="radio"&&s!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Tn(""+s)+'"][type="radio"]'),s=0;s<a.length;s++){var l=a[s];if(l!==e&&l.form===e.form){var f=l[Xe]||null;if(!f)throw Error(r(90));_a(l,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(s=0;s<a.length;s++)l=a[s],l.form===e.form&&xr(l)}break t;case"textarea":Nu(e,a.value,a.defaultValue);break t;case"select":s=a.value,s!=null&&Ss(e,!!a.multiple,s,!1)}}}var ba=!1;function Vs(e,s,a){if(ba)return e(s,a);ba=!0;try{var l=e(s);return l}finally{if(ba=!1,(Rs!==null||Ni!==null)&&(Cc(),Rs&&(s=Rs,e=Ni,Ni=Rs=null,Sr(s),e)))for(s=0;s<e.length;s++)Sr(e[s])}}function oi(e,s){var a=e.stateNode;if(a===null)return null;var l=a[Xe]||null;if(l===null)return null;a=l[s];t:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break t;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(r(231,s,typeof a));return a}var qn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),wr=!1;if(qn)try{var re={};Object.defineProperty(re,"passive",{get:function(){wr=!0}}),window.addEventListener("test",re,re),window.removeEventListener("test",re,re)}catch{wr=!1}var Ii=null,Ko=null,Cr=null;function Yo(){if(Cr)return Cr;var e,s=Ko,a=s.length,l,f="value"in Ii?Ii.value:Ii.textContent,d=f.length;for(e=0;e<a&&s[e]===f[e];e++);var _=a-e;for(l=1;l<=_&&s[a-l]===f[d-l];l++);return Cr=f.slice(e,1<l?1-l:void 0)}function Rr(e){var s=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&s===13&&(e=13)):e=s,e===10&&(e=13),32<=e||e===13?e:0}function $i(){return!0}function li(){return!1}function en(e){function s(a,l,f,d,_){this._reactName=a,this._targetInst=f,this.type=l,this.nativeEvent=d,this.target=_,this.currentTarget=null;for(var S in e)e.hasOwnProperty(S)&&(a=e[S],this[S]=a?a(d):d[S]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?$i:li,this.isPropagationStopped=li,this}return E(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=$i)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=$i)},persist:function(){},isPersistent:$i}),s}var Ji={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Oi=en(Ji),Ds=E({},Ji,{view:0,detail:0}),Qo=en(Ds),Ms,xa,ji,Aa=E({},Ds,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ns,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ji&&(ji&&e.type==="mousemove"?(Ms=e.screenX-ji.screenX,xa=e.screenY-ji.screenY):xa=Ms=0,ji=e),Ms)},movementY:function(e){return"movementY"in e?e.movementY:xa}}),Xo=en(Aa),Vr=E({},Aa,{dataTransfer:0}),ju=en(Vr),Pu=E({},Ds,{relatedTarget:0}),Dr=en(Pu),Zo=E({},Ji,{animationName:0,elapsedTime:0,pseudoElement:0}),Lu=en(Zo),Sa=E({},Ji,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),ku=en(Sa),zu=E({},Ji,{data:0}),Pi=en(zu),Uu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Bu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},qu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Fu(e){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(e):(e=qu[e])?!!s[e]:!1}function Ns(){return Fu}var yn=E({},Ds,{key:function(e){if(e.key){var s=Uu[e.key]||e.key;if(s!=="Unidentified")return s}return e.type==="keypress"?(e=Rr(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Bu[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ns,charCode:function(e){return e.type==="keypress"?Rr(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Rr(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Hu=en(yn),Gu=E({},Aa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Wi=en(Gu),h=E({},Ds,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ns}),y=en(h),T=E({},Ji,{propertyName:0,elapsedTime:0,pseudoElement:0}),w=en(T),q=E({},Aa,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Y=en(q),ut=E({},Ji,{newState:0,oldState:0}),Nt=en(ut),we=[9,13,27,32],Qt=qn&&"CompositionEvent"in window,ye=null;qn&&"documentMode"in document&&(ye=document.documentMode);var Fn=qn&&"TextEvent"in window&&!ye,Li=qn&&(!Qt||ye&&8<ye&&11>=ye),ui=" ",ci=!1;function Mr(e,s){switch(e){case"keyup":return we.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function wa(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ca=!1;function CA(e,s){switch(e){case"compositionend":return wa(s);case"keypress":return s.which!==32?null:(ci=!0,ui);case"textInput":return e=s.data,e===ui&&ci?null:e;default:return null}}function RA(e,s){if(Ca)return e==="compositionend"||!Qt&&Mr(e,s)?(e=Yo(),Cr=Ko=Ii=null,Ca=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Li&&s.locale!=="ko"?null:s.data;default:return null}}var VA={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ug(e){var s=e&&e.nodeName&&e.nodeName.toLowerCase();return s==="input"?!!VA[e.type]:s==="textarea"}function Bg(e,s,a,l){Rs?Ni?Ni.push(l):Ni=[l]:Rs=l,s=Oc(s,"onChange"),0<s.length&&(a=new Oi("onChange","change",null,a,l),e.push({event:a,listeners:s}))}var $o=null,Jo=null;function DA(e){xv(e,0)}function Ku(e){var s=Dn(e);if(xr(s))return e}function qg(e,s){if(e==="change")return s}var Fg=!1;if(qn){var rf;if(qn){var af="oninput"in document;if(!af){var Hg=document.createElement("div");Hg.setAttribute("oninput","return;"),af=typeof Hg.oninput=="function"}rf=af}else rf=!1;Fg=rf&&(!document.documentMode||9<document.documentMode)}function Gg(){$o&&($o.detachEvent("onpropertychange",Kg),Jo=$o=null)}function Kg(e){if(e.propertyName==="value"&&Ku(Jo)){var s=[];Bg(s,Jo,e,Bn(e)),Vs(DA,s)}}function MA(e,s,a){e==="focusin"?(Gg(),$o=s,Jo=a,$o.attachEvent("onpropertychange",Kg)):e==="focusout"&&Gg()}function NA(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ku(Jo)}function IA(e,s){if(e==="click")return Ku(s)}function OA(e,s){if(e==="input"||e==="change")return Ku(s)}function jA(e,s){return e===s&&(e!==0||1/e===1/s)||e!==e&&s!==s}var Nn=typeof Object.is=="function"?Object.is:jA;function Wo(e,s){if(Nn(e,s))return!0;if(typeof e!="object"||e===null||typeof s!="object"||s===null)return!1;var a=Object.keys(e),l=Object.keys(s);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var f=a[l];if(!se.call(s,f)||!Nn(e[f],s[f]))return!1}return!0}function Yg(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Qg(e,s){var a=Yg(e);e=0;for(var l;a;){if(a.nodeType===3){if(l=e+a.textContent.length,e<=s&&l>=s)return{node:a,offset:s-e};e=l}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=Yg(a)}}function Xg(e,s){return e&&s?e===s?!0:e&&e.nodeType===3?!1:s&&s.nodeType===3?Xg(e,s.parentNode):"contains"in e?e.contains(s):e.compareDocumentPosition?!!(e.compareDocumentPosition(s)&16):!1:!1}function Zg(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var s=Mi(e.document);s instanceof e.HTMLIFrameElement;){try{var a=typeof s.contentWindow.location.href=="string"}catch{a=!1}if(a)e=s.contentWindow;else break;s=Mi(e.document)}return s}function of(e){var s=e&&e.nodeName&&e.nodeName.toLowerCase();return s&&(s==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||s==="textarea"||e.contentEditable==="true")}var PA=qn&&"documentMode"in document&&11>=document.documentMode,Ra=null,lf=null,tl=null,uf=!1;function $g(e,s,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;uf||Ra==null||Ra!==Mi(l)||(l=Ra,"selectionStart"in l&&of(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),tl&&Wo(tl,l)||(tl=l,l=Oc(lf,"onSelect"),0<l.length&&(s=new Oi("onSelect","select",null,s,a),e.push({event:s,listeners:l}),s.target=Ra)))}function Nr(e,s){var a={};return a[e.toLowerCase()]=s.toLowerCase(),a["Webkit"+e]="webkit"+s,a["Moz"+e]="moz"+s,a}var Va={animationend:Nr("Animation","AnimationEnd"),animationiteration:Nr("Animation","AnimationIteration"),animationstart:Nr("Animation","AnimationStart"),transitionrun:Nr("Transition","TransitionRun"),transitionstart:Nr("Transition","TransitionStart"),transitioncancel:Nr("Transition","TransitionCancel"),transitionend:Nr("Transition","TransitionEnd")},cf={},Jg={};qn&&(Jg=document.createElement("div").style,"AnimationEvent"in window||(delete Va.animationend.animation,delete Va.animationiteration.animation,delete Va.animationstart.animation),"TransitionEvent"in window||delete Va.transitionend.transition);function Ir(e){if(cf[e])return cf[e];if(!Va[e])return e;var s=Va[e],a;for(a in s)if(s.hasOwnProperty(a)&&a in Jg)return cf[e]=s[a];return e}var Wg=Ir("animationend"),ty=Ir("animationiteration"),ey=Ir("animationstart"),LA=Ir("transitionrun"),kA=Ir("transitionstart"),zA=Ir("transitioncancel"),ny=Ir("transitionend"),iy=new Map,hf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");hf.push("scrollEnd");function hi(e,s){iy.set(e,s),Vi(s,[e])}var Yu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Hn=[],Da=0,ff=0;function Qu(){for(var e=Da,s=ff=Da=0;s<e;){var a=Hn[s];Hn[s++]=null;var l=Hn[s];Hn[s++]=null;var f=Hn[s];Hn[s++]=null;var d=Hn[s];if(Hn[s++]=null,l!==null&&f!==null){var _=l.pending;_===null?f.next=f:(f.next=_.next,_.next=f),l.pending=f}d!==0&&sy(a,f,d)}}function Xu(e,s,a,l){Hn[Da++]=e,Hn[Da++]=s,Hn[Da++]=a,Hn[Da++]=l,ff|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function df(e,s,a,l){return Xu(e,s,a,l),Zu(e)}function Or(e,s){return Xu(e,null,null,s),Zu(e)}function sy(e,s,a){e.lanes|=a;var l=e.alternate;l!==null&&(l.lanes|=a);for(var f=!1,d=e.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(e=d.stateNode,e===null||e._visibility&1||(f=!0)),e=d,d=d.return;return e.tag===3?(d=e.stateNode,f&&s!==null&&(f=31-Se(a),e=d.hiddenUpdates,l=e[f],l===null?e[f]=[s]:l.push(s),s.lane=a|536870912),d):null}function Zu(e){if(50<bl)throw bl=0,bd=null,Error(r(185));for(var s=e.return;s!==null;)e=s,s=e.return;return e.tag===3?e.stateNode:null}var Ma={};function UA(e,s,a,l){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function In(e,s,a,l){return new UA(e,s,a,l)}function mf(e){return e=e.prototype,!(!e||!e.isReactComponent)}function ts(e,s){var a=e.alternate;return a===null?(a=In(e.tag,s,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=s,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,s=e.dependencies,a.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function ry(e,s){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=s,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,s=a.dependencies,e.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),e}function $u(e,s,a,l,f,d){var _=0;if(l=e,typeof e=="function")mf(e)&&(_=1);else if(typeof e=="string")_=G2(e,a,rt.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case V:return e=In(31,a,s,f),e.elementType=V,e.lanes=d,e;case K:return jr(a.children,f,d,s);case L:_=8,f|=24;break;case J:return e=In(12,a,s,f|2),e.elementType=J,e.lanes=d,e;case ht:return e=In(13,a,s,f),e.elementType=ht,e.lanes=d,e;case dt:return e=In(19,a,s,f),e.elementType=dt,e.lanes=d,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case et:_=10;break t;case it:_=9;break t;case mt:_=11;break t;case R:_=14;break t;case C:_=16,l=null;break t}_=29,a=Error(r(130,e===null?"null":typeof e,"")),l=null}return s=In(_,a,s,f),s.elementType=e,s.type=l,s.lanes=d,s}function jr(e,s,a,l){return e=In(7,e,l,s),e.lanes=a,e}function pf(e,s,a){return e=In(6,e,null,s),e.lanes=a,e}function ay(e){var s=In(18,null,null,0);return s.stateNode=e,s}function gf(e,s,a){return s=In(4,e.children!==null?e.children:[],e.key,s),s.lanes=a,s.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},s}var oy=new WeakMap;function Gn(e,s){if(typeof e=="object"&&e!==null){var a=oy.get(e);return a!==void 0?a:(s={value:e,source:s,stack:gn(s)},oy.set(e,s),s)}return{value:e,source:s,stack:gn(s)}}var Na=[],Ia=0,Ju=null,el=0,Kn=[],Yn=0,Is=null,ki=1,zi="";function es(e,s){Na[Ia++]=el,Na[Ia++]=Ju,Ju=e,el=s}function ly(e,s,a){Kn[Yn++]=ki,Kn[Yn++]=zi,Kn[Yn++]=Is,Is=e;var l=ki;e=zi;var f=32-Se(l)-1;l&=~(1<<f),a+=1;var d=32-Se(s)+f;if(30<d){var _=f-f%5;d=(l&(1<<_)-1).toString(32),l>>=_,f-=_,ki=1<<32-Se(s)+f|a<<f|l,zi=d+e}else ki=1<<d|a<<f|l,zi=e}function yf(e){e.return!==null&&(es(e,1),ly(e,1,0))}function vf(e){for(;e===Ju;)Ju=Na[--Ia],Na[Ia]=null,el=Na[--Ia],Na[Ia]=null;for(;e===Is;)Is=Kn[--Yn],Kn[Yn]=null,zi=Kn[--Yn],Kn[Yn]=null,ki=Kn[--Yn],Kn[Yn]=null}function uy(e,s){Kn[Yn++]=ki,Kn[Yn++]=zi,Kn[Yn++]=Is,ki=s.id,zi=s.overflow,Is=e}var nn=null,de=null,qt=!1,Os=null,Qn=!1,_f=Error(r(519));function js(e){var s=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw nl(Gn(s,e)),_f}function cy(e){var s=e.stateNode,a=e.type,l=e.memoizedProps;switch(s[Ne]=e,s[Xe]=l,a){case"dialog":Pt("cancel",s),Pt("close",s);break;case"iframe":case"object":case"embed":Pt("load",s);break;case"video":case"audio":for(a=0;a<Al.length;a++)Pt(Al[a],s);break;case"source":Pt("error",s);break;case"img":case"image":case"link":Pt("error",s),Pt("load",s);break;case"details":Pt("toggle",s);break;case"input":Pt("invalid",s),Mu(s,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Pt("invalid",s);break;case"textarea":Pt("invalid",s),ws(s,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||s.textContent===""+a||l.suppressHydrationWarning===!0||Cv(s.textContent,a)?(l.popover!=null&&(Pt("beforetoggle",s),Pt("toggle",s)),l.onScroll!=null&&Pt("scroll",s),l.onScrollEnd!=null&&Pt("scrollend",s),l.onClick!=null&&(s.onclick=ai),s=!0):s=!1,s||js(e,!0)}function hy(e){for(nn=e.return;nn;)switch(nn.tag){case 5:case 31:case 13:Qn=!1;return;case 27:case 3:Qn=!0;return;default:nn=nn.return}}function Oa(e){if(e!==nn)return!1;if(!qt)return hy(e),qt=!0,!1;var s=e.tag,a;if((a=s!==3&&s!==27)&&((a=s===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||Ld(e.type,e.memoizedProps)),a=!a),a&&de&&js(e),hy(e),s===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));de=Pv(e)}else if(s===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));de=Pv(e)}else s===27?(s=de,Xs(e.type)?(e=qd,qd=null,de=e):de=s):de=nn?Zn(e.stateNode.nextSibling):null;return!0}function Pr(){de=nn=null,qt=!1}function Tf(){var e=Os;return e!==null&&(Sn===null?Sn=e:Sn.push.apply(Sn,e),Os=null),e}function nl(e){Os===null?Os=[e]:Os.push(e)}var Ef=b(null),Lr=null,ns=null;function Ps(e,s,a){$(Ef,s._currentValue),s._currentValue=a}function is(e){e._currentValue=Ef.current,U(Ef)}function bf(e,s,a){for(;e!==null;){var l=e.alternate;if((e.childLanes&s)!==s?(e.childLanes|=s,l!==null&&(l.childLanes|=s)):l!==null&&(l.childLanes&s)!==s&&(l.childLanes|=s),e===a)break;e=e.return}}function xf(e,s,a,l){var f=e.child;for(f!==null&&(f.return=e);f!==null;){var d=f.dependencies;if(d!==null){var _=f.child;d=d.firstContext;t:for(;d!==null;){var S=d;d=f;for(var N=0;N<s.length;N++)if(S.context===s[N]){d.lanes|=a,S=d.alternate,S!==null&&(S.lanes|=a),bf(d.return,a,e),l||(_=null);break t}d=S.next}}else if(f.tag===18){if(_=f.return,_===null)throw Error(r(341));_.lanes|=a,d=_.alternate,d!==null&&(d.lanes|=a),bf(_,a,e),_=null}else _=f.child;if(_!==null)_.return=f;else for(_=f;_!==null;){if(_===e){_=null;break}if(f=_.sibling,f!==null){f.return=_.return,_=f;break}_=_.return}f=_}}function ja(e,s,a,l){e=null;for(var f=s,d=!1;f!==null;){if(!d){if((f.flags&524288)!==0)d=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var _=f.alternate;if(_===null)throw Error(r(387));if(_=_.memoizedProps,_!==null){var S=f.type;Nn(f.pendingProps.value,_.value)||(e!==null?e.push(S):e=[S])}}else if(f===ct.current){if(_=f.alternate,_===null)throw Error(r(387));_.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(e!==null?e.push(Vl):e=[Vl])}f=f.return}e!==null&&xf(s,e,a,l),s.flags|=262144}function Wu(e){for(e=e.firstContext;e!==null;){if(!Nn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function kr(e){Lr=e,ns=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function sn(e){return fy(Lr,e)}function tc(e,s){return Lr===null&&kr(e),fy(e,s)}function fy(e,s){var a=s._currentValue;if(s={context:s,memoizedValue:a,next:null},ns===null){if(e===null)throw Error(r(308));ns=s,e.dependencies={lanes:0,firstContext:s},e.flags|=524288}else ns=ns.next=s;return a}var BA=typeof AbortController<"u"?AbortController:function(){var e=[],s=this.signal={aborted:!1,addEventListener:function(a,l){e.push(l)}};this.abort=function(){s.aborted=!0,e.forEach(function(a){return a()})}},qA=n.unstable_scheduleCallback,FA=n.unstable_NormalPriority,je={$$typeof:et,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Af(){return{controller:new BA,data:new Map,refCount:0}}function il(e){e.refCount--,e.refCount===0&&qA(FA,function(){e.controller.abort()})}var sl=null,Sf=0,Pa=0,La=null;function HA(e,s){if(sl===null){var a=sl=[];Sf=0,Pa=Rd(),La={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Sf++,s.then(dy,dy),s}function dy(){if(--Sf===0&&sl!==null){La!==null&&(La.status="fulfilled");var e=sl;sl=null,Pa=0,La=null;for(var s=0;s<e.length;s++)(0,e[s])()}}function GA(e,s){var a=[],l={status:"pending",value:null,reason:null,then:function(f){a.push(f)}};return e.then(function(){l.status="fulfilled",l.value=s;for(var f=0;f<a.length;f++)(0,a[f])(s)},function(f){for(l.status="rejected",l.reason=f,f=0;f<a.length;f++)(0,a[f])(void 0)}),l}var my=X.S;X.S=function(e,s){$0=Qe(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&HA(e,s),my!==null&&my(e,s)};var zr=b(null);function wf(){var e=zr.current;return e!==null?e:ue.pooledCache}function ec(e,s){s===null?$(zr,zr.current):$(zr,s.pool)}function py(){var e=wf();return e===null?null:{parent:je._currentValue,pool:e}}var ka=Error(r(460)),Cf=Error(r(474)),nc=Error(r(542)),ic={then:function(){}};function gy(e){return e=e.status,e==="fulfilled"||e==="rejected"}function yy(e,s,a){switch(a=e[a],a===void 0?e.push(s):a!==s&&(s.then(ai,ai),s=a),s.status){case"fulfilled":return s.value;case"rejected":throw e=s.reason,_y(e),e;default:if(typeof s.status=="string")s.then(ai,ai);else{if(e=ue,e!==null&&100<e.shellSuspendCounter)throw Error(r(482));e=s,e.status="pending",e.then(function(l){if(s.status==="pending"){var f=s;f.status="fulfilled",f.value=l}},function(l){if(s.status==="pending"){var f=s;f.status="rejected",f.reason=l}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw e=s.reason,_y(e),e}throw Br=s,ka}}function Ur(e){try{var s=e._init;return s(e._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Br=a,ka):a}}var Br=null;function vy(){if(Br===null)throw Error(r(459));var e=Br;return Br=null,e}function _y(e){if(e===ka||e===nc)throw Error(r(483))}var za=null,rl=0;function sc(e){var s=rl;return rl+=1,za===null&&(za=[]),yy(za,e,s)}function al(e,s){s=s.props.ref,e.ref=s!==void 0?s:null}function rc(e,s){throw s.$$typeof===x?Error(r(525)):(e=Object.prototype.toString.call(s),Error(r(31,e==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":e)))}function Ty(e){function s(P,O){if(e){var F=P.deletions;F===null?(P.deletions=[O],P.flags|=16):F.push(O)}}function a(P,O){if(!e)return null;for(;O!==null;)s(P,O),O=O.sibling;return null}function l(P){for(var O=new Map;P!==null;)P.key!==null?O.set(P.key,P):O.set(P.index,P),P=P.sibling;return O}function f(P,O){return P=ts(P,O),P.index=0,P.sibling=null,P}function d(P,O,F){return P.index=F,e?(F=P.alternate,F!==null?(F=F.index,F<O?(P.flags|=67108866,O):F):(P.flags|=67108866,O)):(P.flags|=1048576,O)}function _(P){return e&&P.alternate===null&&(P.flags|=67108866),P}function S(P,O,F,W){return O===null||O.tag!==6?(O=pf(F,P.mode,W),O.return=P,O):(O=f(O,F),O.return=P,O)}function N(P,O,F,W){var Et=F.type;return Et===K?Z(P,O,F.props.children,W,F.key):O!==null&&(O.elementType===Et||typeof Et=="object"&&Et!==null&&Et.$$typeof===C&&Ur(Et)===O.type)?(O=f(O,F.props),al(O,F),O.return=P,O):(O=$u(F.type,F.key,F.props,null,P.mode,W),al(O,F),O.return=P,O)}function H(P,O,F,W){return O===null||O.tag!==4||O.stateNode.containerInfo!==F.containerInfo||O.stateNode.implementation!==F.implementation?(O=gf(F,P.mode,W),O.return=P,O):(O=f(O,F.children||[]),O.return=P,O)}function Z(P,O,F,W,Et){return O===null||O.tag!==7?(O=jr(F,P.mode,W,Et),O.return=P,O):(O=f(O,F),O.return=P,O)}function tt(P,O,F){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return O=pf(""+O,P.mode,F),O.return=P,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case M:return F=$u(O.type,O.key,O.props,null,P.mode,F),al(F,O),F.return=P,F;case B:return O=gf(O,P.mode,F),O.return=P,O;case C:return O=Ur(O),tt(P,O,F)}if(he(O)||k(O))return O=jr(O,P.mode,F,null),O.return=P,O;if(typeof O.then=="function")return tt(P,sc(O),F);if(O.$$typeof===et)return tt(P,tc(P,O),F);rc(P,O)}return null}function G(P,O,F,W){var Et=O!==null?O.key:null;if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return Et!==null?null:S(P,O,""+F,W);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case M:return F.key===Et?N(P,O,F,W):null;case B:return F.key===Et?H(P,O,F,W):null;case C:return F=Ur(F),G(P,O,F,W)}if(he(F)||k(F))return Et!==null?null:Z(P,O,F,W,null);if(typeof F.then=="function")return G(P,O,sc(F),W);if(F.$$typeof===et)return G(P,O,tc(P,F),W);rc(P,F)}return null}function Q(P,O,F,W,Et){if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return P=P.get(F)||null,S(O,P,""+W,Et);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case M:return P=P.get(W.key===null?F:W.key)||null,N(O,P,W,Et);case B:return P=P.get(W.key===null?F:W.key)||null,H(O,P,W,Et);case C:return W=Ur(W),Q(P,O,F,W,Et)}if(he(W)||k(W))return P=P.get(F)||null,Z(O,P,W,Et,null);if(typeof W.then=="function")return Q(P,O,F,sc(W),Et);if(W.$$typeof===et)return Q(P,O,F,tc(O,W),Et);rc(O,W)}return null}function vt(P,O,F,W){for(var Et=null,Kt=null,_t=O,Ot=O=0,zt=null;_t!==null&&Ot<F.length;Ot++){_t.index>Ot?(zt=_t,_t=null):zt=_t.sibling;var Yt=G(P,_t,F[Ot],W);if(Yt===null){_t===null&&(_t=zt);break}e&&_t&&Yt.alternate===null&&s(P,_t),O=d(Yt,O,Ot),Kt===null?Et=Yt:Kt.sibling=Yt,Kt=Yt,_t=zt}if(Ot===F.length)return a(P,_t),qt&&es(P,Ot),Et;if(_t===null){for(;Ot<F.length;Ot++)_t=tt(P,F[Ot],W),_t!==null&&(O=d(_t,O,Ot),Kt===null?Et=_t:Kt.sibling=_t,Kt=_t);return qt&&es(P,Ot),Et}for(_t=l(_t);Ot<F.length;Ot++)zt=Q(_t,P,Ot,F[Ot],W),zt!==null&&(e&&zt.alternate!==null&&_t.delete(zt.key===null?Ot:zt.key),O=d(zt,O,Ot),Kt===null?Et=zt:Kt.sibling=zt,Kt=zt);return e&&_t.forEach(function(tr){return s(P,tr)}),qt&&es(P,Ot),Et}function At(P,O,F,W){if(F==null)throw Error(r(151));for(var Et=null,Kt=null,_t=O,Ot=O=0,zt=null,Yt=F.next();_t!==null&&!Yt.done;Ot++,Yt=F.next()){_t.index>Ot?(zt=_t,_t=null):zt=_t.sibling;var tr=G(P,_t,Yt.value,W);if(tr===null){_t===null&&(_t=zt);break}e&&_t&&tr.alternate===null&&s(P,_t),O=d(tr,O,Ot),Kt===null?Et=tr:Kt.sibling=tr,Kt=tr,_t=zt}if(Yt.done)return a(P,_t),qt&&es(P,Ot),Et;if(_t===null){for(;!Yt.done;Ot++,Yt=F.next())Yt=tt(P,Yt.value,W),Yt!==null&&(O=d(Yt,O,Ot),Kt===null?Et=Yt:Kt.sibling=Yt,Kt=Yt);return qt&&es(P,Ot),Et}for(_t=l(_t);!Yt.done;Ot++,Yt=F.next())Yt=Q(_t,P,Ot,Yt.value,W),Yt!==null&&(e&&Yt.alternate!==null&&_t.delete(Yt.key===null?Ot:Yt.key),O=d(Yt,O,Ot),Kt===null?Et=Yt:Kt.sibling=Yt,Kt=Yt);return e&&_t.forEach(function(nS){return s(P,nS)}),qt&&es(P,Ot),Et}function le(P,O,F,W){if(typeof F=="object"&&F!==null&&F.type===K&&F.key===null&&(F=F.props.children),typeof F=="object"&&F!==null){switch(F.$$typeof){case M:t:{for(var Et=F.key;O!==null;){if(O.key===Et){if(Et=F.type,Et===K){if(O.tag===7){a(P,O.sibling),W=f(O,F.props.children),W.return=P,P=W;break t}}else if(O.elementType===Et||typeof Et=="object"&&Et!==null&&Et.$$typeof===C&&Ur(Et)===O.type){a(P,O.sibling),W=f(O,F.props),al(W,F),W.return=P,P=W;break t}a(P,O);break}else s(P,O);O=O.sibling}F.type===K?(W=jr(F.props.children,P.mode,W,F.key),W.return=P,P=W):(W=$u(F.type,F.key,F.props,null,P.mode,W),al(W,F),W.return=P,P=W)}return _(P);case B:t:{for(Et=F.key;O!==null;){if(O.key===Et)if(O.tag===4&&O.stateNode.containerInfo===F.containerInfo&&O.stateNode.implementation===F.implementation){a(P,O.sibling),W=f(O,F.children||[]),W.return=P,P=W;break t}else{a(P,O);break}else s(P,O);O=O.sibling}W=gf(F,P.mode,W),W.return=P,P=W}return _(P);case C:return F=Ur(F),le(P,O,F,W)}if(he(F))return vt(P,O,F,W);if(k(F)){if(Et=k(F),typeof Et!="function")throw Error(r(150));return F=Et.call(F),At(P,O,F,W)}if(typeof F.then=="function")return le(P,O,sc(F),W);if(F.$$typeof===et)return le(P,O,tc(P,F),W);rc(P,F)}return typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint"?(F=""+F,O!==null&&O.tag===6?(a(P,O.sibling),W=f(O,F),W.return=P,P=W):(a(P,O),W=pf(F,P.mode,W),W.return=P,P=W),_(P)):a(P,O)}return function(P,O,F,W){try{rl=0;var Et=le(P,O,F,W);return za=null,Et}catch(_t){if(_t===ka||_t===nc)throw _t;var Kt=In(29,_t,null,P.mode);return Kt.lanes=W,Kt.return=P,Kt}finally{}}}var qr=Ty(!0),Ey=Ty(!1),Ls=!1;function Rf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Vf(e,s){e=e.updateQueue,s.updateQueue===e&&(s.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function ks(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function zs(e,s,a){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(Xt&2)!==0){var f=l.pending;return f===null?s.next=s:(s.next=f.next,f.next=s),l.pending=s,s=Zu(e),sy(e,null,a),s}return Xu(e,l,s,a),Zu(e)}function ol(e,s,a){if(s=s.updateQueue,s!==null&&(s=s.shared,(a&4194048)!==0)){var l=s.lanes;l&=e.pendingLanes,a|=l,s.lanes=a,Oo(e,a)}}function Df(e,s){var a=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var f=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var _={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?f=d=_:d=d.next=_,a=a.next}while(a!==null);d===null?f=d=s:d=d.next=s}else f=d=s;a={baseState:l.baseState,firstBaseUpdate:f,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=s:e.next=s,a.lastBaseUpdate=s}var Mf=!1;function ll(){if(Mf){var e=La;if(e!==null)throw e}}function ul(e,s,a,l){Mf=!1;var f=e.updateQueue;Ls=!1;var d=f.firstBaseUpdate,_=f.lastBaseUpdate,S=f.shared.pending;if(S!==null){f.shared.pending=null;var N=S,H=N.next;N.next=null,_===null?d=H:_.next=H,_=N;var Z=e.alternate;Z!==null&&(Z=Z.updateQueue,S=Z.lastBaseUpdate,S!==_&&(S===null?Z.firstBaseUpdate=H:S.next=H,Z.lastBaseUpdate=N))}if(d!==null){var tt=f.baseState;_=0,Z=H=N=null,S=d;do{var G=S.lane&-536870913,Q=G!==S.lane;if(Q?(kt&G)===G:(l&G)===G){G!==0&&G===Pa&&(Mf=!0),Z!==null&&(Z=Z.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});t:{var vt=e,At=S;G=s;var le=a;switch(At.tag){case 1:if(vt=At.payload,typeof vt=="function"){tt=vt.call(le,tt,G);break t}tt=vt;break t;case 3:vt.flags=vt.flags&-65537|128;case 0:if(vt=At.payload,G=typeof vt=="function"?vt.call(le,tt,G):vt,G==null)break t;tt=E({},tt,G);break t;case 2:Ls=!0}}G=S.callback,G!==null&&(e.flags|=64,Q&&(e.flags|=8192),Q=f.callbacks,Q===null?f.callbacks=[G]:Q.push(G))}else Q={lane:G,tag:S.tag,payload:S.payload,callback:S.callback,next:null},Z===null?(H=Z=Q,N=tt):Z=Z.next=Q,_|=G;if(S=S.next,S===null){if(S=f.shared.pending,S===null)break;Q=S,S=Q.next,Q.next=null,f.lastBaseUpdate=Q,f.shared.pending=null}}while(!0);Z===null&&(N=tt),f.baseState=N,f.firstBaseUpdate=H,f.lastBaseUpdate=Z,d===null&&(f.shared.lanes=0),Hs|=_,e.lanes=_,e.memoizedState=tt}}function by(e,s){if(typeof e!="function")throw Error(r(191,e));e.call(s)}function xy(e,s){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)by(a[e],s)}var Ua=b(null),ac=b(0);function Ay(e,s){e=fs,$(ac,e),$(Ua,s),fs=e|s.baseLanes}function Nf(){$(ac,fs),$(Ua,Ua.current)}function If(){fs=ac.current,U(Ua),U(ac)}var On=b(null),Xn=null;function Us(e){var s=e.alternate;$(Ce,Ce.current&1),$(On,e),Xn===null&&(s===null||Ua.current!==null||s.memoizedState!==null)&&(Xn=e)}function Of(e){$(Ce,Ce.current),$(On,e),Xn===null&&(Xn=e)}function Sy(e){e.tag===22?($(Ce,Ce.current),$(On,e),Xn===null&&(Xn=e)):Bs()}function Bs(){$(Ce,Ce.current),$(On,On.current)}function jn(e){U(On),Xn===e&&(Xn=null),U(Ce)}var Ce=b(0);function oc(e){for(var s=e;s!==null;){if(s.tag===13){var a=s.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Ud(a)||Bd(a)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===e)break;for(;s.sibling===null;){if(s.return===null||s.return===e)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var ss=0,It=null,ae=null,Pe=null,lc=!1,Ba=!1,Fr=!1,uc=0,cl=0,qa=null,KA=0;function be(){throw Error(r(321))}function jf(e,s){if(s===null)return!1;for(var a=0;a<s.length&&a<e.length;a++)if(!Nn(e[a],s[a]))return!1;return!0}function Pf(e,s,a,l,f,d){return ss=d,It=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,X.H=e===null||e.memoizedState===null?l0:$f,Fr=!1,d=a(l,f),Fr=!1,Ba&&(d=Cy(s,a,l,f)),wy(e),d}function wy(e){X.H=dl;var s=ae!==null&&ae.next!==null;if(ss=0,Pe=ae=It=null,lc=!1,cl=0,qa=null,s)throw Error(r(300));e===null||Le||(e=e.dependencies,e!==null&&Wu(e)&&(Le=!0))}function Cy(e,s,a,l){It=e;var f=0;do{if(Ba&&(qa=null),cl=0,Ba=!1,25<=f)throw Error(r(301));if(f+=1,Pe=ae=null,e.updateQueue!=null){var d=e.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}X.H=u0,d=s(a,l)}while(Ba);return d}function YA(){var e=X.H,s=e.useState()[0];return s=typeof s.then=="function"?hl(s):s,e=e.useState()[0],(ae!==null?ae.memoizedState:null)!==e&&(It.flags|=1024),s}function Lf(){var e=uc!==0;return uc=0,e}function kf(e,s,a){s.updateQueue=e.updateQueue,s.flags&=-2053,e.lanes&=~a}function zf(e){if(lc){for(e=e.memoizedState;e!==null;){var s=e.queue;s!==null&&(s.pending=null),e=e.next}lc=!1}ss=0,Pe=ae=It=null,Ba=!1,cl=uc=0,qa=null}function vn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Pe===null?It.memoizedState=Pe=e:Pe=Pe.next=e,Pe}function Re(){if(ae===null){var e=It.alternate;e=e!==null?e.memoizedState:null}else e=ae.next;var s=Pe===null?It.memoizedState:Pe.next;if(s!==null)Pe=s,ae=e;else{if(e===null)throw It.alternate===null?Error(r(467)):Error(r(310));ae=e,e={memoizedState:ae.memoizedState,baseState:ae.baseState,baseQueue:ae.baseQueue,queue:ae.queue,next:null},Pe===null?It.memoizedState=Pe=e:Pe=Pe.next=e}return Pe}function cc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function hl(e){var s=cl;return cl+=1,qa===null&&(qa=[]),e=yy(qa,e,s),s=It,(Pe===null?s.memoizedState:Pe.next)===null&&(s=s.alternate,X.H=s===null||s.memoizedState===null?l0:$f),e}function hc(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return hl(e);if(e.$$typeof===et)return sn(e)}throw Error(r(438,String(e)))}function Uf(e){var s=null,a=It.updateQueue;if(a!==null&&(s=a.memoCache),s==null){var l=It.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(s={data:l.data.map(function(f){return f.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),a===null&&(a=cc(),It.updateQueue=a),a.memoCache=s,a=s.data[s.index],a===void 0)for(a=s.data[s.index]=Array(e),l=0;l<e;l++)a[l]=j;return s.index++,a}function rs(e,s){return typeof s=="function"?s(e):s}function fc(e){var s=Re();return Bf(s,ae,e)}function Bf(e,s,a){var l=e.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=a;var f=e.baseQueue,d=l.pending;if(d!==null){if(f!==null){var _=f.next;f.next=d.next,d.next=_}s.baseQueue=f=d,l.pending=null}if(d=e.baseState,f===null)e.memoizedState=d;else{s=f.next;var S=_=null,N=null,H=s,Z=!1;do{var tt=H.lane&-536870913;if(tt!==H.lane?(kt&tt)===tt:(ss&tt)===tt){var G=H.revertLane;if(G===0)N!==null&&(N=N.next={lane:0,revertLane:0,gesture:null,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null}),tt===Pa&&(Z=!0);else if((ss&G)===G){H=H.next,G===Pa&&(Z=!0);continue}else tt={lane:0,revertLane:H.revertLane,gesture:null,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},N===null?(S=N=tt,_=d):N=N.next=tt,It.lanes|=G,Hs|=G;tt=H.action,Fr&&a(d,tt),d=H.hasEagerState?H.eagerState:a(d,tt)}else G={lane:tt,revertLane:H.revertLane,gesture:H.gesture,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},N===null?(S=N=G,_=d):N=N.next=G,It.lanes|=tt,Hs|=tt;H=H.next}while(H!==null&&H!==s);if(N===null?_=d:N.next=S,!Nn(d,e.memoizedState)&&(Le=!0,Z&&(a=La,a!==null)))throw a;e.memoizedState=d,e.baseState=_,e.baseQueue=N,l.lastRenderedState=d}return f===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function qf(e){var s=Re(),a=s.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=e;var l=a.dispatch,f=a.pending,d=s.memoizedState;if(f!==null){a.pending=null;var _=f=f.next;do d=e(d,_.action),_=_.next;while(_!==f);Nn(d,s.memoizedState)||(Le=!0),s.memoizedState=d,s.baseQueue===null&&(s.baseState=d),a.lastRenderedState=d}return[d,l]}function Ry(e,s,a){var l=It,f=Re(),d=qt;if(d){if(a===void 0)throw Error(r(407));a=a()}else a=s();var _=!Nn((ae||f).memoizedState,a);if(_&&(f.memoizedState=a,Le=!0),f=f.queue,Gf(My.bind(null,l,f,e),[e]),f.getSnapshot!==s||_||Pe!==null&&Pe.memoizedState.tag&1){if(l.flags|=2048,Fa(9,{destroy:void 0},Dy.bind(null,l,f,a,s),null),ue===null)throw Error(r(349));d||(ss&127)!==0||Vy(l,s,a)}return a}function Vy(e,s,a){e.flags|=16384,e={getSnapshot:s,value:a},s=It.updateQueue,s===null?(s=cc(),It.updateQueue=s,s.stores=[e]):(a=s.stores,a===null?s.stores=[e]:a.push(e))}function Dy(e,s,a,l){s.value=a,s.getSnapshot=l,Ny(s)&&Iy(e)}function My(e,s,a){return a(function(){Ny(s)&&Iy(e)})}function Ny(e){var s=e.getSnapshot;e=e.value;try{var a=s();return!Nn(e,a)}catch{return!0}}function Iy(e){var s=Or(e,2);s!==null&&wn(s,e,2)}function Ff(e){var s=vn();if(typeof e=="function"){var a=e;if(e=a(),Fr){zn(!0);try{a()}finally{zn(!1)}}}return s.memoizedState=s.baseState=e,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:rs,lastRenderedState:e},s}function Oy(e,s,a,l){return e.baseState=a,Bf(e,ae,typeof l=="function"?l:rs)}function QA(e,s,a,l,f){if(pc(e))throw Error(r(485));if(e=s.action,e!==null){var d={payload:f,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){d.listeners.push(_)}};X.T!==null?a(!0):d.isTransition=!1,l(d),a=s.pending,a===null?(d.next=s.pending=d,jy(s,d)):(d.next=a.next,s.pending=a.next=d)}}function jy(e,s){var a=s.action,l=s.payload,f=e.state;if(s.isTransition){var d=X.T,_={};X.T=_;try{var S=a(f,l),N=X.S;N!==null&&N(_,S),Py(e,s,S)}catch(H){Hf(e,s,H)}finally{d!==null&&_.types!==null&&(d.types=_.types),X.T=d}}else try{d=a(f,l),Py(e,s,d)}catch(H){Hf(e,s,H)}}function Py(e,s,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Ly(e,s,l)},function(l){return Hf(e,s,l)}):Ly(e,s,a)}function Ly(e,s,a){s.status="fulfilled",s.value=a,ky(s),e.state=a,s=e.pending,s!==null&&(a=s.next,a===s?e.pending=null:(a=a.next,s.next=a,jy(e,a)))}function Hf(e,s,a){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do s.status="rejected",s.reason=a,ky(s),s=s.next;while(s!==l)}e.action=null}function ky(e){e=e.listeners;for(var s=0;s<e.length;s++)(0,e[s])()}function zy(e,s){return s}function Uy(e,s){if(qt){var a=ue.formState;if(a!==null){t:{var l=It;if(qt){if(de){e:{for(var f=de,d=Qn;f.nodeType!==8;){if(!d){f=null;break e}if(f=Zn(f.nextSibling),f===null){f=null;break e}}d=f.data,f=d==="F!"||d==="F"?f:null}if(f){de=Zn(f.nextSibling),l=f.data==="F!";break t}}js(l)}l=!1}l&&(s=a[0])}}return a=vn(),a.memoizedState=a.baseState=s,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:zy,lastRenderedState:s},a.queue=l,a=r0.bind(null,It,l),l.dispatch=a,l=Ff(!1),d=Zf.bind(null,It,!1,l.queue),l=vn(),f={state:s,dispatch:null,action:e,pending:null},l.queue=f,a=QA.bind(null,It,f,d,a),f.dispatch=a,l.memoizedState=e,[s,a,!1]}function By(e){var s=Re();return qy(s,ae,e)}function qy(e,s,a){if(s=Bf(e,s,zy)[0],e=fc(rs)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var l=hl(s)}catch(_){throw _===ka?nc:_}else l=s;s=Re();var f=s.queue,d=f.dispatch;return a!==s.memoizedState&&(It.flags|=2048,Fa(9,{destroy:void 0},XA.bind(null,f,a),null)),[l,d,e]}function XA(e,s){e.action=s}function Fy(e){var s=Re(),a=ae;if(a!==null)return qy(s,a,e);Re(),s=s.memoizedState,a=Re();var l=a.queue.dispatch;return a.memoizedState=e,[s,l,!1]}function Fa(e,s,a,l){return e={tag:e,create:a,deps:l,inst:s,next:null},s=It.updateQueue,s===null&&(s=cc(),It.updateQueue=s),a=s.lastEffect,a===null?s.lastEffect=e.next=e:(l=a.next,a.next=e,e.next=l,s.lastEffect=e),e}function Hy(){return Re().memoizedState}function dc(e,s,a,l){var f=vn();It.flags|=e,f.memoizedState=Fa(1|s,{destroy:void 0},a,l===void 0?null:l)}function mc(e,s,a,l){var f=Re();l=l===void 0?null:l;var d=f.memoizedState.inst;ae!==null&&l!==null&&jf(l,ae.memoizedState.deps)?f.memoizedState=Fa(s,d,a,l):(It.flags|=e,f.memoizedState=Fa(1|s,d,a,l))}function Gy(e,s){dc(8390656,8,e,s)}function Gf(e,s){mc(2048,8,e,s)}function ZA(e){It.flags|=4;var s=It.updateQueue;if(s===null)s=cc(),It.updateQueue=s,s.events=[e];else{var a=s.events;a===null?s.events=[e]:a.push(e)}}function Ky(e){var s=Re().memoizedState;return ZA({ref:s,nextImpl:e}),function(){if((Xt&2)!==0)throw Error(r(440));return s.impl.apply(void 0,arguments)}}function Yy(e,s){return mc(4,2,e,s)}function Qy(e,s){return mc(4,4,e,s)}function Xy(e,s){if(typeof s=="function"){e=e();var a=s(e);return function(){typeof a=="function"?a():s(null)}}if(s!=null)return e=e(),s.current=e,function(){s.current=null}}function Zy(e,s,a){a=a!=null?a.concat([e]):null,mc(4,4,Xy.bind(null,s,e),a)}function Kf(){}function $y(e,s){var a=Re();s=s===void 0?null:s;var l=a.memoizedState;return s!==null&&jf(s,l[1])?l[0]:(a.memoizedState=[e,s],e)}function Jy(e,s){var a=Re();s=s===void 0?null:s;var l=a.memoizedState;if(s!==null&&jf(s,l[1]))return l[0];if(l=e(),Fr){zn(!0);try{e()}finally{zn(!1)}}return a.memoizedState=[l,s],l}function Yf(e,s,a){return a===void 0||(ss&1073741824)!==0&&(kt&261930)===0?e.memoizedState=s:(e.memoizedState=a,e=W0(),It.lanes|=e,Hs|=e,a)}function Wy(e,s,a,l){return Nn(a,s)?a:Ua.current!==null?(e=Yf(e,a,l),Nn(e,s)||(Le=!0),e):(ss&42)===0||(ss&1073741824)!==0&&(kt&261930)===0?(Le=!0,e.memoizedState=a):(e=W0(),It.lanes|=e,Hs|=e,s)}function t0(e,s,a,l,f){var d=at.p;at.p=d!==0&&8>d?d:8;var _=X.T,S={};X.T=S,Zf(e,!1,s,a);try{var N=f(),H=X.S;if(H!==null&&H(S,N),N!==null&&typeof N=="object"&&typeof N.then=="function"){var Z=GA(N,l);fl(e,s,Z,kn(e))}else fl(e,s,l,kn(e))}catch(tt){fl(e,s,{then:function(){},status:"rejected",reason:tt},kn())}finally{at.p=d,_!==null&&S.types!==null&&(_.types=S.types),X.T=_}}function $A(){}function Qf(e,s,a,l){if(e.tag!==5)throw Error(r(476));var f=e0(e).queue;t0(e,f,s,gt,a===null?$A:function(){return n0(e),a(l)})}function e0(e){var s=e.memoizedState;if(s!==null)return s;s={memoizedState:gt,baseState:gt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:rs,lastRenderedState:gt},next:null};var a={};return s.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:rs,lastRenderedState:a},next:null},e.memoizedState=s,e=e.alternate,e!==null&&(e.memoizedState=s),s}function n0(e){var s=e0(e);s.next===null&&(s=e.alternate.memoizedState),fl(e,s.next.queue,{},kn())}function Xf(){return sn(Vl)}function i0(){return Re().memoizedState}function s0(){return Re().memoizedState}function JA(e){for(var s=e.return;s!==null;){switch(s.tag){case 24:case 3:var a=kn();e=ks(a);var l=zs(s,e,a);l!==null&&(wn(l,s,a),ol(l,s,a)),s={cache:Af()},e.payload=s;return}s=s.return}}function WA(e,s,a){var l=kn();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},pc(e)?a0(s,a):(a=df(e,s,a,l),a!==null&&(wn(a,e,l),o0(a,s,l)))}function r0(e,s,a){var l=kn();fl(e,s,a,l)}function fl(e,s,a,l){var f={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(pc(e))a0(s,f);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=s.lastRenderedReducer,d!==null))try{var _=s.lastRenderedState,S=d(_,a);if(f.hasEagerState=!0,f.eagerState=S,Nn(S,_))return Xu(e,s,f,0),ue===null&&Qu(),!1}catch{}finally{}if(a=df(e,s,f,l),a!==null)return wn(a,e,l),o0(a,s,l),!0}return!1}function Zf(e,s,a,l){if(l={lane:2,revertLane:Rd(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},pc(e)){if(s)throw Error(r(479))}else s=df(e,a,l,2),s!==null&&wn(s,e,2)}function pc(e){var s=e.alternate;return e===It||s!==null&&s===It}function a0(e,s){Ba=lc=!0;var a=e.pending;a===null?s.next=s:(s.next=a.next,a.next=s),e.pending=s}function o0(e,s,a){if((a&4194048)!==0){var l=s.lanes;l&=e.pendingLanes,a|=l,s.lanes=a,Oo(e,a)}}var dl={readContext:sn,use:hc,useCallback:be,useContext:be,useEffect:be,useImperativeHandle:be,useLayoutEffect:be,useInsertionEffect:be,useMemo:be,useReducer:be,useRef:be,useState:be,useDebugValue:be,useDeferredValue:be,useTransition:be,useSyncExternalStore:be,useId:be,useHostTransitionStatus:be,useFormState:be,useActionState:be,useOptimistic:be,useMemoCache:be,useCacheRefresh:be};dl.useEffectEvent=be;var l0={readContext:sn,use:hc,useCallback:function(e,s){return vn().memoizedState=[e,s===void 0?null:s],e},useContext:sn,useEffect:Gy,useImperativeHandle:function(e,s,a){a=a!=null?a.concat([e]):null,dc(4194308,4,Xy.bind(null,s,e),a)},useLayoutEffect:function(e,s){return dc(4194308,4,e,s)},useInsertionEffect:function(e,s){dc(4,2,e,s)},useMemo:function(e,s){var a=vn();s=s===void 0?null:s;var l=e();if(Fr){zn(!0);try{e()}finally{zn(!1)}}return a.memoizedState=[l,s],l},useReducer:function(e,s,a){var l=vn();if(a!==void 0){var f=a(s);if(Fr){zn(!0);try{a(s)}finally{zn(!1)}}}else f=s;return l.memoizedState=l.baseState=f,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:f},l.queue=e,e=e.dispatch=WA.bind(null,It,e),[l.memoizedState,e]},useRef:function(e){var s=vn();return e={current:e},s.memoizedState=e},useState:function(e){e=Ff(e);var s=e.queue,a=r0.bind(null,It,s);return s.dispatch=a,[e.memoizedState,a]},useDebugValue:Kf,useDeferredValue:function(e,s){var a=vn();return Yf(a,e,s)},useTransition:function(){var e=Ff(!1);return e=t0.bind(null,It,e.queue,!0,!1),vn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,s,a){var l=It,f=vn();if(qt){if(a===void 0)throw Error(r(407));a=a()}else{if(a=s(),ue===null)throw Error(r(349));(kt&127)!==0||Vy(l,s,a)}f.memoizedState=a;var d={value:a,getSnapshot:s};return f.queue=d,Gy(My.bind(null,l,d,e),[e]),l.flags|=2048,Fa(9,{destroy:void 0},Dy.bind(null,l,d,a,s),null),a},useId:function(){var e=vn(),s=ue.identifierPrefix;if(qt){var a=zi,l=ki;a=(l&~(1<<32-Se(l)-1)).toString(32)+a,s="_"+s+"R_"+a,a=uc++,0<a&&(s+="H"+a.toString(32)),s+="_"}else a=KA++,s="_"+s+"r_"+a.toString(32)+"_";return e.memoizedState=s},useHostTransitionStatus:Xf,useFormState:Uy,useActionState:Uy,useOptimistic:function(e){var s=vn();s.memoizedState=s.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=a,s=Zf.bind(null,It,!0,a),a.dispatch=s,[e,s]},useMemoCache:Uf,useCacheRefresh:function(){return vn().memoizedState=JA.bind(null,It)},useEffectEvent:function(e){var s=vn(),a={impl:e};return s.memoizedState=a,function(){if((Xt&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}},$f={readContext:sn,use:hc,useCallback:$y,useContext:sn,useEffect:Gf,useImperativeHandle:Zy,useInsertionEffect:Yy,useLayoutEffect:Qy,useMemo:Jy,useReducer:fc,useRef:Hy,useState:function(){return fc(rs)},useDebugValue:Kf,useDeferredValue:function(e,s){var a=Re();return Wy(a,ae.memoizedState,e,s)},useTransition:function(){var e=fc(rs)[0],s=Re().memoizedState;return[typeof e=="boolean"?e:hl(e),s]},useSyncExternalStore:Ry,useId:i0,useHostTransitionStatus:Xf,useFormState:By,useActionState:By,useOptimistic:function(e,s){var a=Re();return Oy(a,ae,e,s)},useMemoCache:Uf,useCacheRefresh:s0};$f.useEffectEvent=Ky;var u0={readContext:sn,use:hc,useCallback:$y,useContext:sn,useEffect:Gf,useImperativeHandle:Zy,useInsertionEffect:Yy,useLayoutEffect:Qy,useMemo:Jy,useReducer:qf,useRef:Hy,useState:function(){return qf(rs)},useDebugValue:Kf,useDeferredValue:function(e,s){var a=Re();return ae===null?Yf(a,e,s):Wy(a,ae.memoizedState,e,s)},useTransition:function(){var e=qf(rs)[0],s=Re().memoizedState;return[typeof e=="boolean"?e:hl(e),s]},useSyncExternalStore:Ry,useId:i0,useHostTransitionStatus:Xf,useFormState:Fy,useActionState:Fy,useOptimistic:function(e,s){var a=Re();return ae!==null?Oy(a,ae,e,s):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:Uf,useCacheRefresh:s0};u0.useEffectEvent=Ky;function Jf(e,s,a,l){s=e.memoizedState,a=a(l,s),a=a==null?s:E({},s,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var Wf={enqueueSetState:function(e,s,a){e=e._reactInternals;var l=kn(),f=ks(l);f.payload=s,a!=null&&(f.callback=a),s=zs(e,f,l),s!==null&&(wn(s,e,l),ol(s,e,l))},enqueueReplaceState:function(e,s,a){e=e._reactInternals;var l=kn(),f=ks(l);f.tag=1,f.payload=s,a!=null&&(f.callback=a),s=zs(e,f,l),s!==null&&(wn(s,e,l),ol(s,e,l))},enqueueForceUpdate:function(e,s){e=e._reactInternals;var a=kn(),l=ks(a);l.tag=2,s!=null&&(l.callback=s),s=zs(e,l,a),s!==null&&(wn(s,e,a),ol(s,e,a))}};function c0(e,s,a,l,f,d,_){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,d,_):s.prototype&&s.prototype.isPureReactComponent?!Wo(a,l)||!Wo(f,d):!0}function h0(e,s,a,l){e=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(a,l),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(a,l),s.state!==e&&Wf.enqueueReplaceState(s,s.state,null)}function Hr(e,s){var a=s;if("ref"in s){a={};for(var l in s)l!=="ref"&&(a[l]=s[l])}if(e=e.defaultProps){a===s&&(a=E({},a));for(var f in e)a[f]===void 0&&(a[f]=e[f])}return a}function f0(e){Yu(e)}function d0(e){console.error(e)}function m0(e){Yu(e)}function gc(e,s){try{var a=e.onUncaughtError;a(s.value,{componentStack:s.stack})}catch(l){setTimeout(function(){throw l})}}function p0(e,s,a){try{var l=e.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function td(e,s,a){return a=ks(a),a.tag=3,a.payload={element:null},a.callback=function(){gc(e,s)},a}function g0(e){return e=ks(e),e.tag=3,e}function y0(e,s,a,l){var f=a.type.getDerivedStateFromError;if(typeof f=="function"){var d=l.value;e.payload=function(){return f(d)},e.callback=function(){p0(s,a,l)}}var _=a.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(e.callback=function(){p0(s,a,l),typeof f!="function"&&(Gs===null?Gs=new Set([this]):Gs.add(this));var S=l.stack;this.componentDidCatch(l.value,{componentStack:S!==null?S:""})})}function t2(e,s,a,l,f){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(s=a.alternate,s!==null&&ja(s,a,f,!0),a=On.current,a!==null){switch(a.tag){case 31:case 13:return Xn===null?Rc():a.alternate===null&&xe===0&&(xe=3),a.flags&=-257,a.flags|=65536,a.lanes=f,l===ic?a.flags|=16384:(s=a.updateQueue,s===null?a.updateQueue=new Set([l]):s.add(l),Sd(e,l,f)),!1;case 22:return a.flags|=65536,l===ic?a.flags|=16384:(s=a.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=s):(a=s.retryQueue,a===null?s.retryQueue=new Set([l]):a.add(l)),Sd(e,l,f)),!1}throw Error(r(435,a.tag))}return Sd(e,l,f),Rc(),!1}if(qt)return s=On.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=f,l!==_f&&(e=Error(r(422),{cause:l}),nl(Gn(e,a)))):(l!==_f&&(s=Error(r(423),{cause:l}),nl(Gn(s,a))),e=e.current.alternate,e.flags|=65536,f&=-f,e.lanes|=f,l=Gn(l,a),f=td(e.stateNode,l,f),Df(e,f),xe!==4&&(xe=2)),!1;var d=Error(r(520),{cause:l});if(d=Gn(d,a),El===null?El=[d]:El.push(d),xe!==4&&(xe=2),s===null)return!0;l=Gn(l,a),a=s;do{switch(a.tag){case 3:return a.flags|=65536,e=f&-f,a.lanes|=e,e=td(a.stateNode,l,e),Df(a,e),!1;case 1:if(s=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Gs===null||!Gs.has(d))))return a.flags|=65536,f&=-f,a.lanes|=f,f=g0(f),y0(f,e,a,l),Df(a,f),!1}a=a.return}while(a!==null);return!1}var ed=Error(r(461)),Le=!1;function rn(e,s,a,l){s.child=e===null?Ey(s,null,a,l):qr(s,e.child,a,l)}function v0(e,s,a,l,f){a=a.render;var d=s.ref;if("ref"in l){var _={};for(var S in l)S!=="ref"&&(_[S]=l[S])}else _=l;return kr(s),l=Pf(e,s,a,_,d,f),S=Lf(),e!==null&&!Le?(kf(e,s,f),as(e,s,f)):(qt&&S&&yf(s),s.flags|=1,rn(e,s,l,f),s.child)}function _0(e,s,a,l,f){if(e===null){var d=a.type;return typeof d=="function"&&!mf(d)&&d.defaultProps===void 0&&a.compare===null?(s.tag=15,s.type=d,T0(e,s,d,l,f)):(e=$u(a.type,null,l,s,s.mode,f),e.ref=s.ref,e.return=s,s.child=e)}if(d=e.child,!ud(e,f)){var _=d.memoizedProps;if(a=a.compare,a=a!==null?a:Wo,a(_,l)&&e.ref===s.ref)return as(e,s,f)}return s.flags|=1,e=ts(d,l),e.ref=s.ref,e.return=s,s.child=e}function T0(e,s,a,l,f){if(e!==null){var d=e.memoizedProps;if(Wo(d,l)&&e.ref===s.ref)if(Le=!1,s.pendingProps=l=d,ud(e,f))(e.flags&131072)!==0&&(Le=!0);else return s.lanes=e.lanes,as(e,s,f)}return nd(e,s,a,l,f)}function E0(e,s,a,l){var f=l.children,d=e!==null?e.memoizedState:null;if(e===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((s.flags&128)!==0){if(d=d!==null?d.baseLanes|a:a,e!==null){for(l=s.child=e.child,f=0;l!==null;)f=f|l.lanes|l.childLanes,l=l.sibling;l=f&~d}else l=0,s.child=null;return b0(e,s,d,a,l)}if((a&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},e!==null&&ec(s,d!==null?d.cachePool:null),d!==null?Ay(s,d):Nf(),Sy(s);else return l=s.lanes=536870912,b0(e,s,d!==null?d.baseLanes|a:a,a,l)}else d!==null?(ec(s,d.cachePool),Ay(s,d),Bs(),s.memoizedState=null):(e!==null&&ec(s,null),Nf(),Bs());return rn(e,s,f,a),s.child}function ml(e,s){return e!==null&&e.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function b0(e,s,a,l,f){var d=wf();return d=d===null?null:{parent:je._currentValue,pool:d},s.memoizedState={baseLanes:a,cachePool:d},e!==null&&ec(s,null),Nf(),Sy(s),e!==null&&ja(e,s,l,!0),s.childLanes=f,null}function yc(e,s){return s=_c({mode:s.mode,children:s.children},e.mode),s.ref=e.ref,e.child=s,s.return=e,s}function x0(e,s,a){return qr(s,e.child,null,a),e=yc(s,s.pendingProps),e.flags|=2,jn(s),s.memoizedState=null,e}function e2(e,s,a){var l=s.pendingProps,f=(s.flags&128)!==0;if(s.flags&=-129,e===null){if(qt){if(l.mode==="hidden")return e=yc(s,l),s.lanes=536870912,ml(null,e);if(Of(s),(e=de)?(e=jv(e,Qn),e=e!==null&&e.data==="&"?e:null,e!==null&&(s.memoizedState={dehydrated:e,treeContext:Is!==null?{id:ki,overflow:zi}:null,retryLane:536870912,hydrationErrors:null},a=ay(e),a.return=s,s.child=a,nn=s,de=null)):e=null,e===null)throw js(s);return s.lanes=536870912,null}return yc(s,l)}var d=e.memoizedState;if(d!==null){var _=d.dehydrated;if(Of(s),f)if(s.flags&256)s.flags&=-257,s=x0(e,s,a);else if(s.memoizedState!==null)s.child=e.child,s.flags|=128,s=null;else throw Error(r(558));else if(Le||ja(e,s,a,!1),f=(a&e.childLanes)!==0,Le||f){if(l=ue,l!==null&&(_=jo(l,a),_!==0&&_!==d.retryLane))throw d.retryLane=_,Or(e,_),wn(l,e,_),ed;Rc(),s=x0(e,s,a)}else e=d.treeContext,de=Zn(_.nextSibling),nn=s,qt=!0,Os=null,Qn=!1,e!==null&&uy(s,e),s=yc(s,l),s.flags|=4096;return s}return e=ts(e.child,{mode:l.mode,children:l.children}),e.ref=s.ref,s.child=e,e.return=s,e}function vc(e,s){var a=s.ref;if(a===null)e!==null&&e.ref!==null&&(s.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(e===null||e.ref!==a)&&(s.flags|=4194816)}}function nd(e,s,a,l,f){return kr(s),a=Pf(e,s,a,l,void 0,f),l=Lf(),e!==null&&!Le?(kf(e,s,f),as(e,s,f)):(qt&&l&&yf(s),s.flags|=1,rn(e,s,a,f),s.child)}function A0(e,s,a,l,f,d){return kr(s),s.updateQueue=null,a=Cy(s,l,a,f),wy(e),l=Lf(),e!==null&&!Le?(kf(e,s,d),as(e,s,d)):(qt&&l&&yf(s),s.flags|=1,rn(e,s,a,d),s.child)}function S0(e,s,a,l,f){if(kr(s),s.stateNode===null){var d=Ma,_=a.contextType;typeof _=="object"&&_!==null&&(d=sn(_)),d=new a(l,d),s.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Wf,s.stateNode=d,d._reactInternals=s,d=s.stateNode,d.props=l,d.state=s.memoizedState,d.refs={},Rf(s),_=a.contextType,d.context=typeof _=="object"&&_!==null?sn(_):Ma,d.state=s.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(Jf(s,a,_,l),d.state=s.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(_=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),_!==d.state&&Wf.enqueueReplaceState(d,d.state,null),ul(s,l,d,f),ll(),d.state=s.memoizedState),typeof d.componentDidMount=="function"&&(s.flags|=4194308),l=!0}else if(e===null){d=s.stateNode;var S=s.memoizedProps,N=Hr(a,S);d.props=N;var H=d.context,Z=a.contextType;_=Ma,typeof Z=="object"&&Z!==null&&(_=sn(Z));var tt=a.getDerivedStateFromProps;Z=typeof tt=="function"||typeof d.getSnapshotBeforeUpdate=="function",S=s.pendingProps!==S,Z||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(S||H!==_)&&h0(s,d,l,_),Ls=!1;var G=s.memoizedState;d.state=G,ul(s,l,d,f),ll(),H=s.memoizedState,S||G!==H||Ls?(typeof tt=="function"&&(Jf(s,a,tt,l),H=s.memoizedState),(N=Ls||c0(s,a,N,l,G,H,_))?(Z||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(s.flags|=4194308)):(typeof d.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=l,s.memoizedState=H),d.props=l,d.state=H,d.context=_,l=N):(typeof d.componentDidMount=="function"&&(s.flags|=4194308),l=!1)}else{d=s.stateNode,Vf(e,s),_=s.memoizedProps,Z=Hr(a,_),d.props=Z,tt=s.pendingProps,G=d.context,H=a.contextType,N=Ma,typeof H=="object"&&H!==null&&(N=sn(H)),S=a.getDerivedStateFromProps,(H=typeof S=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(_!==tt||G!==N)&&h0(s,d,l,N),Ls=!1,G=s.memoizedState,d.state=G,ul(s,l,d,f),ll();var Q=s.memoizedState;_!==tt||G!==Q||Ls||e!==null&&e.dependencies!==null&&Wu(e.dependencies)?(typeof S=="function"&&(Jf(s,a,S,l),Q=s.memoizedState),(Z=Ls||c0(s,a,Z,l,G,Q,N)||e!==null&&e.dependencies!==null&&Wu(e.dependencies))?(H||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,Q,N),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,Q,N)),typeof d.componentDidUpdate=="function"&&(s.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof d.componentDidUpdate!="function"||_===e.memoizedProps&&G===e.memoizedState||(s.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===e.memoizedProps&&G===e.memoizedState||(s.flags|=1024),s.memoizedProps=l,s.memoizedState=Q),d.props=l,d.state=Q,d.context=N,l=Z):(typeof d.componentDidUpdate!="function"||_===e.memoizedProps&&G===e.memoizedState||(s.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===e.memoizedProps&&G===e.memoizedState||(s.flags|=1024),l=!1)}return d=l,vc(e,s),l=(s.flags&128)!==0,d||l?(d=s.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),s.flags|=1,e!==null&&l?(s.child=qr(s,e.child,null,f),s.child=qr(s,null,a,f)):rn(e,s,a,f),s.memoizedState=d.state,e=s.child):e=as(e,s,f),e}function w0(e,s,a,l){return Pr(),s.flags|=256,rn(e,s,a,l),s.child}var id={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function sd(e){return{baseLanes:e,cachePool:py()}}function rd(e,s,a){return e=e!==null?e.childLanes&~a:0,s&&(e|=Ln),e}function C0(e,s,a){var l=s.pendingProps,f=!1,d=(s.flags&128)!==0,_;if((_=d)||(_=e!==null&&e.memoizedState===null?!1:(Ce.current&2)!==0),_&&(f=!0,s.flags&=-129),_=(s.flags&32)!==0,s.flags&=-33,e===null){if(qt){if(f?Us(s):Bs(),(e=de)?(e=jv(e,Qn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(s.memoizedState={dehydrated:e,treeContext:Is!==null?{id:ki,overflow:zi}:null,retryLane:536870912,hydrationErrors:null},a=ay(e),a.return=s,s.child=a,nn=s,de=null)):e=null,e===null)throw js(s);return Bd(e)?s.lanes=32:s.lanes=536870912,null}var S=l.children;return l=l.fallback,f?(Bs(),f=s.mode,S=_c({mode:"hidden",children:S},f),l=jr(l,f,a,null),S.return=s,l.return=s,S.sibling=l,s.child=S,l=s.child,l.memoizedState=sd(a),l.childLanes=rd(e,_,a),s.memoizedState=id,ml(null,l)):(Us(s),ad(s,S))}var N=e.memoizedState;if(N!==null&&(S=N.dehydrated,S!==null)){if(d)s.flags&256?(Us(s),s.flags&=-257,s=od(e,s,a)):s.memoizedState!==null?(Bs(),s.child=e.child,s.flags|=128,s=null):(Bs(),S=l.fallback,f=s.mode,l=_c({mode:"visible",children:l.children},f),S=jr(S,f,a,null),S.flags|=2,l.return=s,S.return=s,l.sibling=S,s.child=l,qr(s,e.child,null,a),l=s.child,l.memoizedState=sd(a),l.childLanes=rd(e,_,a),s.memoizedState=id,s=ml(null,l));else if(Us(s),Bd(S)){if(_=S.nextSibling&&S.nextSibling.dataset,_)var H=_.dgst;_=H,l=Error(r(419)),l.stack="",l.digest=_,nl({value:l,source:null,stack:null}),s=od(e,s,a)}else if(Le||ja(e,s,a,!1),_=(a&e.childLanes)!==0,Le||_){if(_=ue,_!==null&&(l=jo(_,a),l!==0&&l!==N.retryLane))throw N.retryLane=l,Or(e,l),wn(_,e,l),ed;Ud(S)||Rc(),s=od(e,s,a)}else Ud(S)?(s.flags|=192,s.child=e.child,s=null):(e=N.treeContext,de=Zn(S.nextSibling),nn=s,qt=!0,Os=null,Qn=!1,e!==null&&uy(s,e),s=ad(s,l.children),s.flags|=4096);return s}return f?(Bs(),S=l.fallback,f=s.mode,N=e.child,H=N.sibling,l=ts(N,{mode:"hidden",children:l.children}),l.subtreeFlags=N.subtreeFlags&65011712,H!==null?S=ts(H,S):(S=jr(S,f,a,null),S.flags|=2),S.return=s,l.return=s,l.sibling=S,s.child=l,ml(null,l),l=s.child,S=e.child.memoizedState,S===null?S=sd(a):(f=S.cachePool,f!==null?(N=je._currentValue,f=f.parent!==N?{parent:N,pool:N}:f):f=py(),S={baseLanes:S.baseLanes|a,cachePool:f}),l.memoizedState=S,l.childLanes=rd(e,_,a),s.memoizedState=id,ml(e.child,l)):(Us(s),a=e.child,e=a.sibling,a=ts(a,{mode:"visible",children:l.children}),a.return=s,a.sibling=null,e!==null&&(_=s.deletions,_===null?(s.deletions=[e],s.flags|=16):_.push(e)),s.child=a,s.memoizedState=null,a)}function ad(e,s){return s=_c({mode:"visible",children:s},e.mode),s.return=e,e.child=s}function _c(e,s){return e=In(22,e,null,s),e.lanes=0,e}function od(e,s,a){return qr(s,e.child,null,a),e=ad(s,s.pendingProps.children),e.flags|=2,s.memoizedState=null,e}function R0(e,s,a){e.lanes|=s;var l=e.alternate;l!==null&&(l.lanes|=s),bf(e.return,s,a)}function ld(e,s,a,l,f,d){var _=e.memoizedState;_===null?e.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:f,treeForkCount:d}:(_.isBackwards=s,_.rendering=null,_.renderingStartTime=0,_.last=l,_.tail=a,_.tailMode=f,_.treeForkCount=d)}function V0(e,s,a){var l=s.pendingProps,f=l.revealOrder,d=l.tail;l=l.children;var _=Ce.current,S=(_&2)!==0;if(S?(_=_&1|2,s.flags|=128):_&=1,$(Ce,_),rn(e,s,l,a),l=qt?el:0,!S&&e!==null&&(e.flags&128)!==0)t:for(e=s.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&R0(e,a,s);else if(e.tag===19)R0(e,a,s);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===s)break t;for(;e.sibling===null;){if(e.return===null||e.return===s)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(f){case"forwards":for(a=s.child,f=null;a!==null;)e=a.alternate,e!==null&&oc(e)===null&&(f=a),a=a.sibling;a=f,a===null?(f=s.child,s.child=null):(f=a.sibling,a.sibling=null),ld(s,!1,f,a,d,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,f=s.child,s.child=null;f!==null;){if(e=f.alternate,e!==null&&oc(e)===null){s.child=f;break}e=f.sibling,f.sibling=a,a=f,f=e}ld(s,!0,a,null,d,l);break;case"together":ld(s,!1,null,null,void 0,l);break;default:s.memoizedState=null}return s.child}function as(e,s,a){if(e!==null&&(s.dependencies=e.dependencies),Hs|=s.lanes,(a&s.childLanes)===0)if(e!==null){if(ja(e,s,a,!1),(a&s.childLanes)===0)return null}else return null;if(e!==null&&s.child!==e.child)throw Error(r(153));if(s.child!==null){for(e=s.child,a=ts(e,e.pendingProps),s.child=a,a.return=s;e.sibling!==null;)e=e.sibling,a=a.sibling=ts(e,e.pendingProps),a.return=s;a.sibling=null}return s.child}function ud(e,s){return(e.lanes&s)!==0?!0:(e=e.dependencies,!!(e!==null&&Wu(e)))}function n2(e,s,a){switch(s.tag){case 3:Tt(s,s.stateNode.containerInfo),Ps(s,je,e.memoizedState.cache),Pr();break;case 27:case 5:$t(s);break;case 4:Tt(s,s.stateNode.containerInfo);break;case 10:Ps(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,Of(s),null;break;case 13:var l=s.memoizedState;if(l!==null)return l.dehydrated!==null?(Us(s),s.flags|=128,null):(a&s.child.childLanes)!==0?C0(e,s,a):(Us(s),e=as(e,s,a),e!==null?e.sibling:null);Us(s);break;case 19:var f=(e.flags&128)!==0;if(l=(a&s.childLanes)!==0,l||(ja(e,s,a,!1),l=(a&s.childLanes)!==0),f){if(l)return V0(e,s,a);s.flags|=128}if(f=s.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),$(Ce,Ce.current),l)break;return null;case 22:return s.lanes=0,E0(e,s,a,s.pendingProps);case 24:Ps(s,je,e.memoizedState.cache)}return as(e,s,a)}function D0(e,s,a){if(e!==null)if(e.memoizedProps!==s.pendingProps)Le=!0;else{if(!ud(e,a)&&(s.flags&128)===0)return Le=!1,n2(e,s,a);Le=(e.flags&131072)!==0}else Le=!1,qt&&(s.flags&1048576)!==0&&ly(s,el,s.index);switch(s.lanes=0,s.tag){case 16:t:{var l=s.pendingProps;if(e=Ur(s.elementType),s.type=e,typeof e=="function")mf(e)?(l=Hr(e,l),s.tag=1,s=S0(null,s,e,l,a)):(s.tag=0,s=nd(null,s,e,l,a));else{if(e!=null){var f=e.$$typeof;if(f===mt){s.tag=11,s=v0(null,s,e,l,a);break t}else if(f===R){s.tag=14,s=_0(null,s,e,l,a);break t}}throw s=Zt(e)||e,Error(r(306,s,""))}}return s;case 0:return nd(e,s,s.type,s.pendingProps,a);case 1:return l=s.type,f=Hr(l,s.pendingProps),S0(e,s,l,f,a);case 3:t:{if(Tt(s,s.stateNode.containerInfo),e===null)throw Error(r(387));l=s.pendingProps;var d=s.memoizedState;f=d.element,Vf(e,s),ul(s,l,null,a);var _=s.memoizedState;if(l=_.cache,Ps(s,je,l),l!==d.cache&&xf(s,[je],a,!0),ll(),l=_.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:_.cache},s.updateQueue.baseState=d,s.memoizedState=d,s.flags&256){s=w0(e,s,l,a);break t}else if(l!==f){f=Gn(Error(r(424)),s),nl(f),s=w0(e,s,l,a);break t}else{switch(e=s.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(de=Zn(e.firstChild),nn=s,qt=!0,Os=null,Qn=!0,a=Ey(s,null,l,a),s.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Pr(),l===f){s=as(e,s,a);break t}rn(e,s,l,a)}s=s.child}return s;case 26:return vc(e,s),e===null?(a=Bv(s.type,null,s.pendingProps,null))?s.memoizedState=a:qt||(a=s.type,e=s.pendingProps,l=jc(ft.current).createElement(a),l[Ne]=s,l[Xe]=e,an(l,a,e),Ie(l),s.stateNode=l):s.memoizedState=Bv(s.type,e.memoizedProps,s.pendingProps,e.memoizedState),null;case 27:return $t(s),e===null&&qt&&(l=s.stateNode=kv(s.type,s.pendingProps,ft.current),nn=s,Qn=!0,f=de,Xs(s.type)?(qd=f,de=Zn(l.firstChild)):de=f),rn(e,s,s.pendingProps.children,a),vc(e,s),e===null&&(s.flags|=4194304),s.child;case 5:return e===null&&qt&&((f=l=de)&&(l=N2(l,s.type,s.pendingProps,Qn),l!==null?(s.stateNode=l,nn=s,de=Zn(l.firstChild),Qn=!1,f=!0):f=!1),f||js(s)),$t(s),f=s.type,d=s.pendingProps,_=e!==null?e.memoizedProps:null,l=d.children,Ld(f,d)?l=null:_!==null&&Ld(f,_)&&(s.flags|=32),s.memoizedState!==null&&(f=Pf(e,s,YA,null,null,a),Vl._currentValue=f),vc(e,s),rn(e,s,l,a),s.child;case 6:return e===null&&qt&&((e=a=de)&&(a=I2(a,s.pendingProps,Qn),a!==null?(s.stateNode=a,nn=s,de=null,e=!0):e=!1),e||js(s)),null;case 13:return C0(e,s,a);case 4:return Tt(s,s.stateNode.containerInfo),l=s.pendingProps,e===null?s.child=qr(s,null,l,a):rn(e,s,l,a),s.child;case 11:return v0(e,s,s.type,s.pendingProps,a);case 7:return rn(e,s,s.pendingProps,a),s.child;case 8:return rn(e,s,s.pendingProps.children,a),s.child;case 12:return rn(e,s,s.pendingProps.children,a),s.child;case 10:return l=s.pendingProps,Ps(s,s.type,l.value),rn(e,s,l.children,a),s.child;case 9:return f=s.type._context,l=s.pendingProps.children,kr(s),f=sn(f),l=l(f),s.flags|=1,rn(e,s,l,a),s.child;case 14:return _0(e,s,s.type,s.pendingProps,a);case 15:return T0(e,s,s.type,s.pendingProps,a);case 19:return V0(e,s,a);case 31:return e2(e,s,a);case 22:return E0(e,s,a,s.pendingProps);case 24:return kr(s),l=sn(je),e===null?(f=wf(),f===null&&(f=ue,d=Af(),f.pooledCache=d,d.refCount++,d!==null&&(f.pooledCacheLanes|=a),f=d),s.memoizedState={parent:l,cache:f},Rf(s),Ps(s,je,f)):((e.lanes&a)!==0&&(Vf(e,s),ul(s,null,null,a),ll()),f=e.memoizedState,d=s.memoizedState,f.parent!==l?(f={parent:l,cache:l},s.memoizedState=f,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=f),Ps(s,je,l)):(l=d.cache,Ps(s,je,l),l!==f.cache&&xf(s,[je],a,!0))),rn(e,s,s.pendingProps.children,a),s.child;case 29:throw s.pendingProps}throw Error(r(156,s.tag))}function os(e){e.flags|=4}function cd(e,s,a,l,f){if((s=(e.mode&32)!==0)&&(s=!1),s){if(e.flags|=16777216,(f&335544128)===f)if(e.stateNode.complete)e.flags|=8192;else if(iv())e.flags|=8192;else throw Br=ic,Cf}else e.flags&=-16777217}function M0(e,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Kv(s))if(iv())e.flags|=8192;else throw Br=ic,Cf}function Tc(e,s){s!==null&&(e.flags|=4),e.flags&16384&&(s=e.tag!==22?wu():536870912,e.lanes|=s,Ya|=s)}function pl(e,s){if(!qt)switch(e.tailMode){case"hidden":s=e.tail;for(var a=null;s!==null;)s.alternate!==null&&(a=s),s=s.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?s||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function me(e){var s=e.alternate!==null&&e.alternate.child===e.child,a=0,l=0;if(s)for(var f=e.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags&65011712,l|=f.flags&65011712,f.return=e,f=f.sibling;else for(f=e.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags,l|=f.flags,f.return=e,f=f.sibling;return e.subtreeFlags|=l,e.childLanes=a,s}function i2(e,s,a){var l=s.pendingProps;switch(vf(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return me(s),null;case 1:return me(s),null;case 3:return a=s.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),s.memoizedState.cache!==l&&(s.flags|=2048),is(je),xt(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(Oa(s)?os(s):e===null||e.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Tf())),me(s),null;case 26:var f=s.type,d=s.memoizedState;return e===null?(os(s),d!==null?(me(s),M0(s,d)):(me(s),cd(s,f,null,l,a))):d?d!==e.memoizedState?(os(s),me(s),M0(s,d)):(me(s),s.flags&=-16777217):(e=e.memoizedProps,e!==l&&os(s),me(s),cd(s,f,e,l,a)),null;case 27:if(Gt(s),a=ft.current,f=s.type,e!==null&&s.stateNode!=null)e.memoizedProps!==l&&os(s);else{if(!l){if(s.stateNode===null)throw Error(r(166));return me(s),null}e=rt.current,Oa(s)?cy(s):(e=kv(f,l,a),s.stateNode=e,os(s))}return me(s),null;case 5:if(Gt(s),f=s.type,e!==null&&s.stateNode!=null)e.memoizedProps!==l&&os(s);else{if(!l){if(s.stateNode===null)throw Error(r(166));return me(s),null}if(d=rt.current,Oa(s))cy(s);else{var _=jc(ft.current);switch(d){case 1:d=_.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:d=_.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":d=_.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":d=_.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":d=_.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof l.is=="string"?_.createElement("select",{is:l.is}):_.createElement("select"),l.multiple?d.multiple=!0:l.size&&(d.size=l.size);break;default:d=typeof l.is=="string"?_.createElement(f,{is:l.is}):_.createElement(f)}}d[Ne]=s,d[Xe]=l;t:for(_=s.child;_!==null;){if(_.tag===5||_.tag===6)d.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===s)break t;for(;_.sibling===null;){if(_.return===null||_.return===s)break t;_=_.return}_.sibling.return=_.return,_=_.sibling}s.stateNode=d;t:switch(an(d,f,l),f){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break t;case"img":l=!0;break t;default:l=!1}l&&os(s)}}return me(s),cd(s,s.type,e===null?null:e.memoizedProps,s.pendingProps,a),null;case 6:if(e&&s.stateNode!=null)e.memoizedProps!==l&&os(s);else{if(typeof l!="string"&&s.stateNode===null)throw Error(r(166));if(e=ft.current,Oa(s)){if(e=s.stateNode,a=s.memoizedProps,l=null,f=nn,f!==null)switch(f.tag){case 27:case 5:l=f.memoizedProps}e[Ne]=s,e=!!(e.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||Cv(e.nodeValue,a)),e||js(s,!0)}else e=jc(e).createTextNode(l),e[Ne]=s,s.stateNode=e}return me(s),null;case 31:if(a=s.memoizedState,e===null||e.memoizedState!==null){if(l=Oa(s),a!==null){if(e===null){if(!l)throw Error(r(318));if(e=s.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(557));e[Ne]=s}else Pr(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;me(s),e=!1}else a=Tf(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),e=!0;if(!e)return s.flags&256?(jn(s),s):(jn(s),null);if((s.flags&128)!==0)throw Error(r(558))}return me(s),null;case 13:if(l=s.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(f=Oa(s),l!==null&&l.dehydrated!==null){if(e===null){if(!f)throw Error(r(318));if(f=s.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(r(317));f[Ne]=s}else Pr(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;me(s),f=!1}else f=Tf(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=f),f=!0;if(!f)return s.flags&256?(jn(s),s):(jn(s),null)}return jn(s),(s.flags&128)!==0?(s.lanes=a,s):(a=l!==null,e=e!==null&&e.memoizedState!==null,a&&(l=s.child,f=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(f=l.alternate.memoizedState.cachePool.pool),d=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==f&&(l.flags|=2048)),a!==e&&a&&(s.child.flags|=8192),Tc(s,s.updateQueue),me(s),null);case 4:return xt(),e===null&&Nd(s.stateNode.containerInfo),me(s),null;case 10:return is(s.type),me(s),null;case 19:if(U(Ce),l=s.memoizedState,l===null)return me(s),null;if(f=(s.flags&128)!==0,d=l.rendering,d===null)if(f)pl(l,!1);else{if(xe!==0||e!==null&&(e.flags&128)!==0)for(e=s.child;e!==null;){if(d=oc(e),d!==null){for(s.flags|=128,pl(l,!1),e=d.updateQueue,s.updateQueue=e,Tc(s,e),s.subtreeFlags=0,e=a,a=s.child;a!==null;)ry(a,e),a=a.sibling;return $(Ce,Ce.current&1|2),qt&&es(s,l.treeForkCount),s.child}e=e.sibling}l.tail!==null&&Qe()>Sc&&(s.flags|=128,f=!0,pl(l,!1),s.lanes=4194304)}else{if(!f)if(e=oc(d),e!==null){if(s.flags|=128,f=!0,e=e.updateQueue,s.updateQueue=e,Tc(s,e),pl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!d.alternate&&!qt)return me(s),null}else 2*Qe()-l.renderingStartTime>Sc&&a!==536870912&&(s.flags|=128,f=!0,pl(l,!1),s.lanes=4194304);l.isBackwards?(d.sibling=s.child,s.child=d):(e=l.last,e!==null?e.sibling=d:s.child=d,l.last=d)}return l.tail!==null?(e=l.tail,l.rendering=e,l.tail=e.sibling,l.renderingStartTime=Qe(),e.sibling=null,a=Ce.current,$(Ce,f?a&1|2:a&1),qt&&es(s,l.treeForkCount),e):(me(s),null);case 22:case 23:return jn(s),If(),l=s.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(s.flags|=8192):l&&(s.flags|=8192),l?(a&536870912)!==0&&(s.flags&128)===0&&(me(s),s.subtreeFlags&6&&(s.flags|=8192)):me(s),a=s.updateQueue,a!==null&&Tc(s,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),l=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),l!==a&&(s.flags|=2048),e!==null&&U(zr),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),s.memoizedState.cache!==a&&(s.flags|=2048),is(je),me(s),null;case 25:return null;case 30:return null}throw Error(r(156,s.tag))}function s2(e,s){switch(vf(s),s.tag){case 1:return e=s.flags,e&65536?(s.flags=e&-65537|128,s):null;case 3:return is(je),xt(),e=s.flags,(e&65536)!==0&&(e&128)===0?(s.flags=e&-65537|128,s):null;case 26:case 27:case 5:return Gt(s),null;case 31:if(s.memoizedState!==null){if(jn(s),s.alternate===null)throw Error(r(340));Pr()}return e=s.flags,e&65536?(s.flags=e&-65537|128,s):null;case 13:if(jn(s),e=s.memoizedState,e!==null&&e.dehydrated!==null){if(s.alternate===null)throw Error(r(340));Pr()}return e=s.flags,e&65536?(s.flags=e&-65537|128,s):null;case 19:return U(Ce),null;case 4:return xt(),null;case 10:return is(s.type),null;case 22:case 23:return jn(s),If(),e!==null&&U(zr),e=s.flags,e&65536?(s.flags=e&-65537|128,s):null;case 24:return is(je),null;case 25:return null;default:return null}}function N0(e,s){switch(vf(s),s.tag){case 3:is(je),xt();break;case 26:case 27:case 5:Gt(s);break;case 4:xt();break;case 31:s.memoizedState!==null&&jn(s);break;case 13:jn(s);break;case 19:U(Ce);break;case 10:is(s.type);break;case 22:case 23:jn(s),If(),e!==null&&U(zr);break;case 24:is(je)}}function gl(e,s){try{var a=s.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var f=l.next;a=f;do{if((a.tag&e)===e){l=void 0;var d=a.create,_=a.inst;l=d(),_.destroy=l}a=a.next}while(a!==f)}}catch(S){ie(s,s.return,S)}}function qs(e,s,a){try{var l=s.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var d=f.next;l=d;do{if((l.tag&e)===e){var _=l.inst,S=_.destroy;if(S!==void 0){_.destroy=void 0,f=s;var N=a,H=S;try{H()}catch(Z){ie(f,N,Z)}}}l=l.next}while(l!==d)}}catch(Z){ie(s,s.return,Z)}}function I0(e){var s=e.updateQueue;if(s!==null){var a=e.stateNode;try{xy(s,a)}catch(l){ie(e,e.return,l)}}}function O0(e,s,a){a.props=Hr(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(l){ie(e,s,l)}}function yl(e,s){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof a=="function"?e.refCleanup=a(l):a.current=l}}catch(f){ie(e,s,f)}}function Ui(e,s){var a=e.ref,l=e.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(f){ie(e,s,f)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(f){ie(e,s,f)}else a.current=null}function j0(e){var s=e.type,a=e.memoizedProps,l=e.stateNode;try{t:switch(s){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break t;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(f){ie(e,e.return,f)}}function hd(e,s,a){try{var l=e.stateNode;w2(l,e.type,a,s),l[Xe]=s}catch(f){ie(e,e.return,f)}}function P0(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Xs(e.type)||e.tag===4}function fd(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||P0(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Xs(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function dd(e,s,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,s?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,s):(s=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,s.appendChild(e),a=a._reactRootContainer,a!=null||s.onclick!==null||(s.onclick=ai));else if(l!==4&&(l===27&&Xs(e.type)&&(a=e.stateNode,s=null),e=e.child,e!==null))for(dd(e,s,a),e=e.sibling;e!==null;)dd(e,s,a),e=e.sibling}function Ec(e,s,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,s?a.insertBefore(e,s):a.appendChild(e);else if(l!==4&&(l===27&&Xs(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(Ec(e,s,a),e=e.sibling;e!==null;)Ec(e,s,a),e=e.sibling}function L0(e){var s=e.stateNode,a=e.memoizedProps;try{for(var l=e.type,f=s.attributes;f.length;)s.removeAttributeNode(f[0]);an(s,l,a),s[Ne]=e,s[Xe]=a}catch(d){ie(e,e.return,d)}}var ls=!1,ke=!1,md=!1,k0=typeof WeakSet=="function"?WeakSet:Set,$e=null;function r2(e,s){if(e=e.containerInfo,jd=qc,e=Zg(e),of(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else t:{a=(a=e.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var f=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break t}var _=0,S=-1,N=-1,H=0,Z=0,tt=e,G=null;e:for(;;){for(var Q;tt!==a||f!==0&&tt.nodeType!==3||(S=_+f),tt!==d||l!==0&&tt.nodeType!==3||(N=_+l),tt.nodeType===3&&(_+=tt.nodeValue.length),(Q=tt.firstChild)!==null;)G=tt,tt=Q;for(;;){if(tt===e)break e;if(G===a&&++H===f&&(S=_),G===d&&++Z===l&&(N=_),(Q=tt.nextSibling)!==null)break;tt=G,G=tt.parentNode}tt=Q}a=S===-1||N===-1?null:{start:S,end:N}}else a=null}a=a||{start:0,end:0}}else a=null;for(Pd={focusedElem:e,selectionRange:a},qc=!1,$e=s;$e!==null;)if(s=$e,e=s.child,(s.subtreeFlags&1028)!==0&&e!==null)e.return=s,$e=e;else for(;$e!==null;){switch(s=$e,d=s.alternate,e=s.flags,s.tag){case 0:if((e&4)!==0&&(e=s.updateQueue,e=e!==null?e.events:null,e!==null))for(a=0;a<e.length;a++)f=e[a],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&d!==null){e=void 0,a=s,f=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var vt=Hr(a.type,f);e=l.getSnapshotBeforeUpdate(vt,d),l.__reactInternalSnapshotBeforeUpdate=e}catch(At){ie(a,a.return,At)}}break;case 3:if((e&1024)!==0){if(e=s.stateNode.containerInfo,a=e.nodeType,a===9)zd(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":zd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(r(163))}if(e=s.sibling,e!==null){e.return=s.return,$e=e;break}$e=s.return}}function z0(e,s,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:cs(e,a),l&4&&gl(5,a);break;case 1:if(cs(e,a),l&4)if(e=a.stateNode,s===null)try{e.componentDidMount()}catch(_){ie(a,a.return,_)}else{var f=Hr(a.type,s.memoizedProps);s=s.memoizedState;try{e.componentDidUpdate(f,s,e.__reactInternalSnapshotBeforeUpdate)}catch(_){ie(a,a.return,_)}}l&64&&I0(a),l&512&&yl(a,a.return);break;case 3:if(cs(e,a),l&64&&(e=a.updateQueue,e!==null)){if(s=null,a.child!==null)switch(a.child.tag){case 27:case 5:s=a.child.stateNode;break;case 1:s=a.child.stateNode}try{xy(e,s)}catch(_){ie(a,a.return,_)}}break;case 27:s===null&&l&4&&L0(a);case 26:case 5:cs(e,a),s===null&&l&4&&j0(a),l&512&&yl(a,a.return);break;case 12:cs(e,a);break;case 31:cs(e,a),l&4&&q0(e,a);break;case 13:cs(e,a),l&4&&F0(e,a),l&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=m2.bind(null,a),O2(e,a))));break;case 22:if(l=a.memoizedState!==null||ls,!l){s=s!==null&&s.memoizedState!==null||ke,f=ls;var d=ke;ls=l,(ke=s)&&!d?hs(e,a,(a.subtreeFlags&8772)!==0):cs(e,a),ls=f,ke=d}break;case 30:break;default:cs(e,a)}}function U0(e){var s=e.alternate;s!==null&&(e.alternate=null,U0(s)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(s=e.stateNode,s!==null&&ya(s)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ve=null,bn=!1;function us(e,s,a){for(a=a.child;a!==null;)B0(e,s,a),a=a.sibling}function B0(e,s,a){if(tn&&typeof tn.onCommitFiberUnmount=="function")try{tn.onCommitFiberUnmount(Vn,a)}catch{}switch(a.tag){case 26:ke||Ui(a,s),us(e,s,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:ke||Ui(a,s);var l=ve,f=bn;Xs(a.type)&&(ve=a.stateNode,bn=!1),us(e,s,a),wl(a.stateNode),ve=l,bn=f;break;case 5:ke||Ui(a,s);case 6:if(l=ve,f=bn,ve=null,us(e,s,a),ve=l,bn=f,ve!==null)if(bn)try{(ve.nodeType===9?ve.body:ve.nodeName==="HTML"?ve.ownerDocument.body:ve).removeChild(a.stateNode)}catch(d){ie(a,s,d)}else try{ve.removeChild(a.stateNode)}catch(d){ie(a,s,d)}break;case 18:ve!==null&&(bn?(e=ve,Iv(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),eo(e)):Iv(ve,a.stateNode));break;case 4:l=ve,f=bn,ve=a.stateNode.containerInfo,bn=!0,us(e,s,a),ve=l,bn=f;break;case 0:case 11:case 14:case 15:qs(2,a,s),ke||qs(4,a,s),us(e,s,a);break;case 1:ke||(Ui(a,s),l=a.stateNode,typeof l.componentWillUnmount=="function"&&O0(a,s,l)),us(e,s,a);break;case 21:us(e,s,a);break;case 22:ke=(l=ke)||a.memoizedState!==null,us(e,s,a),ke=l;break;default:us(e,s,a)}}function q0(e,s){if(s.memoizedState===null&&(e=s.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{eo(e)}catch(a){ie(s,s.return,a)}}}function F0(e,s){if(s.memoizedState===null&&(e=s.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{eo(e)}catch(a){ie(s,s.return,a)}}function a2(e){switch(e.tag){case 31:case 13:case 19:var s=e.stateNode;return s===null&&(s=e.stateNode=new k0),s;case 22:return e=e.stateNode,s=e._retryCache,s===null&&(s=e._retryCache=new k0),s;default:throw Error(r(435,e.tag))}}function bc(e,s){var a=a2(e);s.forEach(function(l){if(!a.has(l)){a.add(l);var f=p2.bind(null,e,l);l.then(f,f)}})}function xn(e,s){var a=s.deletions;if(a!==null)for(var l=0;l<a.length;l++){var f=a[l],d=e,_=s,S=_;t:for(;S!==null;){switch(S.tag){case 27:if(Xs(S.type)){ve=S.stateNode,bn=!1;break t}break;case 5:ve=S.stateNode,bn=!1;break t;case 3:case 4:ve=S.stateNode.containerInfo,bn=!0;break t}S=S.return}if(ve===null)throw Error(r(160));B0(d,_,f),ve=null,bn=!1,d=f.alternate,d!==null&&(d.return=null),f.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)H0(s,e),s=s.sibling}var fi=null;function H0(e,s){var a=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:xn(s,e),An(e),l&4&&(qs(3,e,e.return),gl(3,e),qs(5,e,e.return));break;case 1:xn(s,e),An(e),l&512&&(ke||a===null||Ui(a,a.return)),l&64&&ls&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var f=fi;if(xn(s,e),An(e),l&512&&(ke||a===null||Ui(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=e.memoizedState,a===null)if(l===null)if(e.stateNode===null){t:{l=e.type,a=e.memoizedProps,f=f.ownerDocument||f;e:switch(l){case"title":d=f.getElementsByTagName("title")[0],(!d||d[wi]||d[Ne]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=f.createElement(l),f.head.insertBefore(d,f.querySelector("head > title"))),an(d,l,a),d[Ne]=e,Ie(d),l=d;break t;case"link":var _=Hv("link","href",f).get(l+(a.href||""));if(_){for(var S=0;S<_.length;S++)if(d=_[S],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){_.splice(S,1);break e}}d=f.createElement(l),an(d,l,a),f.head.appendChild(d);break;case"meta":if(_=Hv("meta","content",f).get(l+(a.content||""))){for(S=0;S<_.length;S++)if(d=_[S],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){_.splice(S,1);break e}}d=f.createElement(l),an(d,l,a),f.head.appendChild(d);break;default:throw Error(r(468,l))}d[Ne]=e,Ie(d),l=d}e.stateNode=l}else Gv(f,e.type,e.stateNode);else e.stateNode=Fv(f,l,e.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?Gv(f,e.type,e.stateNode):Fv(f,l,e.memoizedProps)):l===null&&e.stateNode!==null&&hd(e,e.memoizedProps,a.memoizedProps)}break;case 27:xn(s,e),An(e),l&512&&(ke||a===null||Ui(a,a.return)),a!==null&&l&4&&hd(e,e.memoizedProps,a.memoizedProps);break;case 5:if(xn(s,e),An(e),l&512&&(ke||a===null||Ui(a,a.return)),e.flags&32){f=e.stateNode;try{En(f,"")}catch(vt){ie(e,e.return,vt)}}l&4&&e.stateNode!=null&&(f=e.memoizedProps,hd(e,f,a!==null?a.memoizedProps:f)),l&1024&&(md=!0);break;case 6:if(xn(s,e),An(e),l&4){if(e.stateNode===null)throw Error(r(162));l=e.memoizedProps,a=e.stateNode;try{a.nodeValue=l}catch(vt){ie(e,e.return,vt)}}break;case 3:if(kc=null,f=fi,fi=Pc(s.containerInfo),xn(s,e),fi=f,An(e),l&4&&a!==null&&a.memoizedState.isDehydrated)try{eo(s.containerInfo)}catch(vt){ie(e,e.return,vt)}md&&(md=!1,G0(e));break;case 4:l=fi,fi=Pc(e.stateNode.containerInfo),xn(s,e),An(e),fi=l;break;case 12:xn(s,e),An(e);break;case 31:xn(s,e),An(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,bc(e,l)));break;case 13:xn(s,e),An(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Ac=Qe()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,bc(e,l)));break;case 22:f=e.memoizedState!==null;var N=a!==null&&a.memoizedState!==null,H=ls,Z=ke;if(ls=H||f,ke=Z||N,xn(s,e),ke=Z,ls=H,An(e),l&8192)t:for(s=e.stateNode,s._visibility=f?s._visibility&-2:s._visibility|1,f&&(a===null||N||ls||ke||Gr(e)),a=null,s=e;;){if(s.tag===5||s.tag===26){if(a===null){N=a=s;try{if(d=N.stateNode,f)_=d.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{S=N.stateNode;var tt=N.memoizedProps.style,G=tt!=null&&tt.hasOwnProperty("display")?tt.display:null;S.style.display=G==null||typeof G=="boolean"?"":(""+G).trim()}}catch(vt){ie(N,N.return,vt)}}}else if(s.tag===6){if(a===null){N=s;try{N.stateNode.nodeValue=f?"":N.memoizedProps}catch(vt){ie(N,N.return,vt)}}}else if(s.tag===18){if(a===null){N=s;try{var Q=N.stateNode;f?Ov(Q,!0):Ov(N.stateNode,!1)}catch(vt){ie(N,N.return,vt)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===e)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===e)break t;for(;s.sibling===null;){if(s.return===null||s.return===e)break t;a===s&&(a=null),s=s.return}a===s&&(a=null),s.sibling.return=s.return,s=s.sibling}l&4&&(l=e.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,bc(e,a))));break;case 19:xn(s,e),An(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,bc(e,l)));break;case 30:break;case 21:break;default:xn(s,e),An(e)}}function An(e){var s=e.flags;if(s&2){try{for(var a,l=e.return;l!==null;){if(P0(l)){a=l;break}l=l.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var f=a.stateNode,d=fd(e);Ec(e,d,f);break;case 5:var _=a.stateNode;a.flags&32&&(En(_,""),a.flags&=-33);var S=fd(e);Ec(e,S,_);break;case 3:case 4:var N=a.stateNode.containerInfo,H=fd(e);dd(e,H,N);break;default:throw Error(r(161))}}catch(Z){ie(e,e.return,Z)}e.flags&=-3}s&4096&&(e.flags&=-4097)}function G0(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var s=e;G0(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),e=e.sibling}}function cs(e,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)z0(e,s.alternate,s),s=s.sibling}function Gr(e){for(e=e.child;e!==null;){var s=e;switch(s.tag){case 0:case 11:case 14:case 15:qs(4,s,s.return),Gr(s);break;case 1:Ui(s,s.return);var a=s.stateNode;typeof a.componentWillUnmount=="function"&&O0(s,s.return,a),Gr(s);break;case 27:wl(s.stateNode);case 26:case 5:Ui(s,s.return),Gr(s);break;case 22:s.memoizedState===null&&Gr(s);break;case 30:Gr(s);break;default:Gr(s)}e=e.sibling}}function hs(e,s,a){for(a=a&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var l=s.alternate,f=e,d=s,_=d.flags;switch(d.tag){case 0:case 11:case 15:hs(f,d,a),gl(4,d);break;case 1:if(hs(f,d,a),l=d,f=l.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(H){ie(l,l.return,H)}if(l=d,f=l.updateQueue,f!==null){var S=l.stateNode;try{var N=f.shared.hiddenCallbacks;if(N!==null)for(f.shared.hiddenCallbacks=null,f=0;f<N.length;f++)by(N[f],S)}catch(H){ie(l,l.return,H)}}a&&_&64&&I0(d),yl(d,d.return);break;case 27:L0(d);case 26:case 5:hs(f,d,a),a&&l===null&&_&4&&j0(d),yl(d,d.return);break;case 12:hs(f,d,a);break;case 31:hs(f,d,a),a&&_&4&&q0(f,d);break;case 13:hs(f,d,a),a&&_&4&&F0(f,d);break;case 22:d.memoizedState===null&&hs(f,d,a),yl(d,d.return);break;case 30:break;default:hs(f,d,a)}s=s.sibling}}function pd(e,s){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(e=s.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&il(a))}function gd(e,s){e=null,s.alternate!==null&&(e=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==e&&(s.refCount++,e!=null&&il(e))}function di(e,s,a,l){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)K0(e,s,a,l),s=s.sibling}function K0(e,s,a,l){var f=s.flags;switch(s.tag){case 0:case 11:case 15:di(e,s,a,l),f&2048&&gl(9,s);break;case 1:di(e,s,a,l);break;case 3:di(e,s,a,l),f&2048&&(e=null,s.alternate!==null&&(e=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==e&&(s.refCount++,e!=null&&il(e)));break;case 12:if(f&2048){di(e,s,a,l),e=s.stateNode;try{var d=s.memoizedProps,_=d.id,S=d.onPostCommit;typeof S=="function"&&S(_,s.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(N){ie(s,s.return,N)}}else di(e,s,a,l);break;case 31:di(e,s,a,l);break;case 13:di(e,s,a,l);break;case 23:break;case 22:d=s.stateNode,_=s.alternate,s.memoizedState!==null?d._visibility&2?di(e,s,a,l):vl(e,s):d._visibility&2?di(e,s,a,l):(d._visibility|=2,Ha(e,s,a,l,(s.subtreeFlags&10256)!==0||!1)),f&2048&&pd(_,s);break;case 24:di(e,s,a,l),f&2048&&gd(s.alternate,s);break;default:di(e,s,a,l)}}function Ha(e,s,a,l,f){for(f=f&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var d=e,_=s,S=a,N=l,H=_.flags;switch(_.tag){case 0:case 11:case 15:Ha(d,_,S,N,f),gl(8,_);break;case 23:break;case 22:var Z=_.stateNode;_.memoizedState!==null?Z._visibility&2?Ha(d,_,S,N,f):vl(d,_):(Z._visibility|=2,Ha(d,_,S,N,f)),f&&H&2048&&pd(_.alternate,_);break;case 24:Ha(d,_,S,N,f),f&&H&2048&&gd(_.alternate,_);break;default:Ha(d,_,S,N,f)}s=s.sibling}}function vl(e,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var a=e,l=s,f=l.flags;switch(l.tag){case 22:vl(a,l),f&2048&&pd(l.alternate,l);break;case 24:vl(a,l),f&2048&&gd(l.alternate,l);break;default:vl(a,l)}s=s.sibling}}var _l=8192;function Ga(e,s,a){if(e.subtreeFlags&_l)for(e=e.child;e!==null;)Y0(e,s,a),e=e.sibling}function Y0(e,s,a){switch(e.tag){case 26:Ga(e,s,a),e.flags&_l&&e.memoizedState!==null&&K2(a,fi,e.memoizedState,e.memoizedProps);break;case 5:Ga(e,s,a);break;case 3:case 4:var l=fi;fi=Pc(e.stateNode.containerInfo),Ga(e,s,a),fi=l;break;case 22:e.memoizedState===null&&(l=e.alternate,l!==null&&l.memoizedState!==null?(l=_l,_l=16777216,Ga(e,s,a),_l=l):Ga(e,s,a));break;default:Ga(e,s,a)}}function Q0(e){var s=e.alternate;if(s!==null&&(e=s.child,e!==null)){s.child=null;do s=e.sibling,e.sibling=null,e=s;while(e!==null)}}function Tl(e){var s=e.deletions;if((e.flags&16)!==0){if(s!==null)for(var a=0;a<s.length;a++){var l=s[a];$e=l,Z0(l,e)}Q0(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)X0(e),e=e.sibling}function X0(e){switch(e.tag){case 0:case 11:case 15:Tl(e),e.flags&2048&&qs(9,e,e.return);break;case 3:Tl(e);break;case 12:Tl(e);break;case 22:var s=e.stateNode;e.memoizedState!==null&&s._visibility&2&&(e.return===null||e.return.tag!==13)?(s._visibility&=-3,xc(e)):Tl(e);break;default:Tl(e)}}function xc(e){var s=e.deletions;if((e.flags&16)!==0){if(s!==null)for(var a=0;a<s.length;a++){var l=s[a];$e=l,Z0(l,e)}Q0(e)}for(e=e.child;e!==null;){switch(s=e,s.tag){case 0:case 11:case 15:qs(8,s,s.return),xc(s);break;case 22:a=s.stateNode,a._visibility&2&&(a._visibility&=-3,xc(s));break;default:xc(s)}e=e.sibling}}function Z0(e,s){for(;$e!==null;){var a=$e;switch(a.tag){case 0:case 11:case 15:qs(8,a,s);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:il(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,$e=l;else t:for(a=e;$e!==null;){l=$e;var f=l.sibling,d=l.return;if(U0(l),l===a){$e=null;break t}if(f!==null){f.return=d,$e=f;break t}$e=d}}}var o2={getCacheForType:function(e){var s=sn(je),a=s.data.get(e);return a===void 0&&(a=e(),s.data.set(e,a)),a},cacheSignal:function(){return sn(je).controller.signal}},l2=typeof WeakMap=="function"?WeakMap:Map,Xt=0,ue=null,jt=null,kt=0,ne=0,Pn=null,Fs=!1,Ka=!1,yd=!1,fs=0,xe=0,Hs=0,Kr=0,vd=0,Ln=0,Ya=0,El=null,Sn=null,_d=!1,Ac=0,$0=0,Sc=1/0,wc=null,Gs=null,He=0,Ks=null,Qa=null,ds=0,Td=0,Ed=null,J0=null,bl=0,bd=null;function kn(){return(Xt&2)!==0&&kt!==0?kt&-kt:X.T!==null?Rd():Cu()}function W0(){if(Ln===0)if((kt&536870912)===0||qt){var e=_r;_r<<=1,(_r&3932160)===0&&(_r=262144),Ln=e}else Ln=536870912;return e=On.current,e!==null&&(e.flags|=32),Ln}function wn(e,s,a){(e===ue&&(ne===2||ne===9)||e.cancelPendingCommit!==null)&&(Xa(e,0),Ys(e,kt,Ln,!1)),Tr(e,a),((Xt&2)===0||e!==ue)&&(e===ue&&((Xt&2)===0&&(Kr|=a),xe===4&&Ys(e,kt,Ln,!1)),Bi(e))}function tv(e,s,a){if((Xt&6)!==0)throw Error(r(327));var l=!a&&(s&127)===0&&(s&e.expiredLanes)===0||ii(e,s),f=l?h2(e,s):Ad(e,s,!0),d=l;do{if(f===0){Ka&&!l&&Ys(e,s,0,!1);break}else{if(a=e.current.alternate,d&&!u2(a)){f=Ad(e,s,!1),d=!1;continue}if(f===2){if(d=s,e.errorRecoveryDisabledLanes&d)var _=0;else _=e.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){s=_;t:{var S=e;f=El;var N=S.current.memoizedState.isDehydrated;if(N&&(Xa(S,_).flags|=256),_=Ad(S,_,!1),_!==2){if(yd&&!N){S.errorRecoveryDisabledLanes|=d,Kr|=d,f=4;break t}d=Sn,Sn=f,d!==null&&(Sn===null?Sn=d:Sn.push.apply(Sn,d))}f=_}if(d=!1,f!==2)continue}}if(f===1){Xa(e,0),Ys(e,s,0,!0);break}t:{switch(l=e,d=f,d){case 0:case 1:throw Error(r(345));case 4:if((s&4194048)!==s)break;case 6:Ys(l,s,Ln,!Fs);break t;case 2:Sn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((s&62914560)===s&&(f=Ac+300-Qe(),10<f)){if(Ys(l,s,Ln,!Fs),xi(l,0,!0)!==0)break t;ds=s,l.timeoutHandle=Mv(ev.bind(null,l,a,Sn,wc,_d,s,Ln,Kr,Ya,Fs,d,"Throttled",-0,0),f);break t}ev(l,a,Sn,wc,_d,s,Ln,Kr,Ya,Fs,d,null,-0,0)}}break}while(!0);Bi(e)}function ev(e,s,a,l,f,d,_,S,N,H,Z,tt,G,Q){if(e.timeoutHandle=-1,tt=s.subtreeFlags,tt&8192||(tt&16785408)===16785408){tt={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ai},Y0(s,d,tt);var vt=(d&62914560)===d?Ac-Qe():(d&4194048)===d?$0-Qe():0;if(vt=Y2(tt,vt),vt!==null){ds=d,e.cancelPendingCommit=vt(uv.bind(null,e,s,d,a,l,f,_,S,N,Z,tt,null,G,Q)),Ys(e,d,_,!H);return}}uv(e,s,d,a,l,f,_,S,N)}function u2(e){for(var s=e;;){var a=s.tag;if((a===0||a===11||a===15)&&s.flags&16384&&(a=s.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var f=a[l],d=f.getSnapshot;f=f.value;try{if(!Nn(d(),f))return!1}catch{return!1}}if(a=s.child,s.subtreeFlags&16384&&a!==null)a.return=s,s=a;else{if(s===e)break;for(;s.sibling===null;){if(s.return===null||s.return===e)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Ys(e,s,a,l){s&=~vd,s&=~Kr,e.suspendedLanes|=s,e.pingedLanes&=~s,l&&(e.warmLanes|=s),l=e.expirationTimes;for(var f=s;0<f;){var d=31-Se(f),_=1<<d;l[d]=-1,f&=~_}a!==0&&Er(e,a,s)}function Cc(){return(Xt&6)===0?(xl(0),!1):!0}function xd(){if(jt!==null){if(ne===0)var e=jt.return;else e=jt,ns=Lr=null,zf(e),za=null,rl=0,e=jt;for(;e!==null;)N0(e.alternate,e),e=e.return;jt=null}}function Xa(e,s){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,V2(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),ds=0,xd(),ue=e,jt=a=ts(e.current,null),kt=s,ne=0,Pn=null,Fs=!1,Ka=ii(e,s),yd=!1,Ya=Ln=vd=Kr=Hs=xe=0,Sn=El=null,_d=!1,(s&8)!==0&&(s|=s&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=s;0<l;){var f=31-Se(l),d=1<<f;s|=e[f],l&=~d}return fs=s,Qu(),a}function nv(e,s){It=null,X.H=dl,s===ka||s===nc?(s=vy(),ne=3):s===Cf?(s=vy(),ne=4):ne=s===ed?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,Pn=s,jt===null&&(xe=1,gc(e,Gn(s,e.current)))}function iv(){var e=On.current;return e===null?!0:(kt&4194048)===kt?Xn===null:(kt&62914560)===kt||(kt&536870912)!==0?e===Xn:!1}function sv(){var e=X.H;return X.H=dl,e===null?dl:e}function rv(){var e=X.A;return X.A=o2,e}function Rc(){xe=4,Fs||(kt&4194048)!==kt&&On.current!==null||(Ka=!0),(Hs&134217727)===0&&(Kr&134217727)===0||ue===null||Ys(ue,kt,Ln,!1)}function Ad(e,s,a){var l=Xt;Xt|=2;var f=sv(),d=rv();(ue!==e||kt!==s)&&(wc=null,Xa(e,s)),s=!1;var _=xe;t:do try{if(ne!==0&&jt!==null){var S=jt,N=Pn;switch(ne){case 8:xd(),_=6;break t;case 3:case 2:case 9:case 6:On.current===null&&(s=!0);var H=ne;if(ne=0,Pn=null,Za(e,S,N,H),a&&Ka){_=0;break t}break;default:H=ne,ne=0,Pn=null,Za(e,S,N,H)}}c2(),_=xe;break}catch(Z){nv(e,Z)}while(!0);return s&&e.shellSuspendCounter++,ns=Lr=null,Xt=l,X.H=f,X.A=d,jt===null&&(ue=null,kt=0,Qu()),_}function c2(){for(;jt!==null;)av(jt)}function h2(e,s){var a=Xt;Xt|=2;var l=sv(),f=rv();ue!==e||kt!==s?(wc=null,Sc=Qe()+500,Xa(e,s)):Ka=ii(e,s);t:do try{if(ne!==0&&jt!==null){s=jt;var d=Pn;e:switch(ne){case 1:ne=0,Pn=null,Za(e,s,d,1);break;case 2:case 9:if(gy(d)){ne=0,Pn=null,ov(s);break}s=function(){ne!==2&&ne!==9||ue!==e||(ne=7),Bi(e)},d.then(s,s);break t;case 3:ne=7;break t;case 4:ne=5;break t;case 7:gy(d)?(ne=0,Pn=null,ov(s)):(ne=0,Pn=null,Za(e,s,d,7));break;case 5:var _=null;switch(jt.tag){case 26:_=jt.memoizedState;case 5:case 27:var S=jt;if(_?Kv(_):S.stateNode.complete){ne=0,Pn=null;var N=S.sibling;if(N!==null)jt=N;else{var H=S.return;H!==null?(jt=H,Vc(H)):jt=null}break e}}ne=0,Pn=null,Za(e,s,d,5);break;case 6:ne=0,Pn=null,Za(e,s,d,6);break;case 8:xd(),xe=6;break t;default:throw Error(r(462))}}f2();break}catch(Z){nv(e,Z)}while(!0);return ns=Lr=null,X.H=l,X.A=f,Xt=a,jt!==null?0:(ue=null,kt=0,Qu(),xe)}function f2(){for(;jt!==null&&!Io();)av(jt)}function av(e){var s=D0(e.alternate,e,fs);e.memoizedProps=e.pendingProps,s===null?Vc(e):jt=s}function ov(e){var s=e,a=s.alternate;switch(s.tag){case 15:case 0:s=A0(a,s,s.pendingProps,s.type,void 0,kt);break;case 11:s=A0(a,s,s.pendingProps,s.type.render,s.ref,kt);break;case 5:zf(s);default:N0(a,s),s=jt=ry(s,fs),s=D0(a,s,fs)}e.memoizedProps=e.pendingProps,s===null?Vc(e):jt=s}function Za(e,s,a,l){ns=Lr=null,zf(s),za=null,rl=0;var f=s.return;try{if(t2(e,f,s,a,kt)){xe=1,gc(e,Gn(a,e.current)),jt=null;return}}catch(d){if(f!==null)throw jt=f,d;xe=1,gc(e,Gn(a,e.current)),jt=null;return}s.flags&32768?(qt||l===1?e=!0:Ka||(kt&536870912)!==0?e=!1:(Fs=e=!0,(l===2||l===9||l===3||l===6)&&(l=On.current,l!==null&&l.tag===13&&(l.flags|=16384))),lv(s,e)):Vc(s)}function Vc(e){var s=e;do{if((s.flags&32768)!==0){lv(s,Fs);return}e=s.return;var a=i2(s.alternate,s,fs);if(a!==null){jt=a;return}if(s=s.sibling,s!==null){jt=s;return}jt=s=e}while(s!==null);xe===0&&(xe=5)}function lv(e,s){do{var a=s2(e.alternate,e);if(a!==null){a.flags&=32767,jt=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!s&&(e=e.sibling,e!==null)){jt=e;return}jt=e=a}while(e!==null);xe=6,jt=null}function uv(e,s,a,l,f,d,_,S,N){e.cancelPendingCommit=null;do Dc();while(He!==0);if((Xt&6)!==0)throw Error(r(327));if(s!==null){if(s===e.current)throw Error(r(177));if(d=s.lanes|s.childLanes,d|=ff,nf(e,a,d,_,S,N),e===ue&&(jt=ue=null,kt=0),Qa=s,Ks=e,ds=a,Td=d,Ed=f,J0=l,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,g2(Ti,function(){return mv(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||l){l=X.T,X.T=null,f=at.p,at.p=2,_=Xt,Xt|=4;try{r2(e,s,a)}finally{Xt=_,at.p=f,X.T=l}}He=1,cv(),hv(),fv()}}function cv(){if(He===1){He=0;var e=Ks,s=Qa,a=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||a){a=X.T,X.T=null;var l=at.p;at.p=2;var f=Xt;Xt|=4;try{H0(s,e);var d=Pd,_=Zg(e.containerInfo),S=d.focusedElem,N=d.selectionRange;if(_!==S&&S&&S.ownerDocument&&Xg(S.ownerDocument.documentElement,S)){if(N!==null&&of(S)){var H=N.start,Z=N.end;if(Z===void 0&&(Z=H),"selectionStart"in S)S.selectionStart=H,S.selectionEnd=Math.min(Z,S.value.length);else{var tt=S.ownerDocument||document,G=tt&&tt.defaultView||window;if(G.getSelection){var Q=G.getSelection(),vt=S.textContent.length,At=Math.min(N.start,vt),le=N.end===void 0?At:Math.min(N.end,vt);!Q.extend&&At>le&&(_=le,le=At,At=_);var P=Qg(S,At),O=Qg(S,le);if(P&&O&&(Q.rangeCount!==1||Q.anchorNode!==P.node||Q.anchorOffset!==P.offset||Q.focusNode!==O.node||Q.focusOffset!==O.offset)){var F=tt.createRange();F.setStart(P.node,P.offset),Q.removeAllRanges(),At>le?(Q.addRange(F),Q.extend(O.node,O.offset)):(F.setEnd(O.node,O.offset),Q.addRange(F))}}}}for(tt=[],Q=S;Q=Q.parentNode;)Q.nodeType===1&&tt.push({element:Q,left:Q.scrollLeft,top:Q.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<tt.length;S++){var W=tt[S];W.element.scrollLeft=W.left,W.element.scrollTop=W.top}}qc=!!jd,Pd=jd=null}finally{Xt=f,at.p=l,X.T=a}}e.current=s,He=2}}function hv(){if(He===2){He=0;var e=Ks,s=Qa,a=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||a){a=X.T,X.T=null;var l=at.p;at.p=2;var f=Xt;Xt|=4;try{z0(e,s.alternate,s)}finally{Xt=f,at.p=l,X.T=a}}He=3}}function fv(){if(He===4||He===3){He=0,fa();var e=Ks,s=Qa,a=ds,l=J0;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?He=5:(He=0,Qa=Ks=null,dv(e,e.pendingLanes));var f=e.pendingLanes;if(f===0&&(Gs=null),Zi(a),s=s.stateNode,tn&&typeof tn.onCommitFiberRoot=="function")try{tn.onCommitFiberRoot(Vn,s,void 0,(s.current.flags&128)===128)}catch{}if(l!==null){s=X.T,f=at.p,at.p=2,X.T=null;try{for(var d=e.onRecoverableError,_=0;_<l.length;_++){var S=l[_];d(S.value,{componentStack:S.stack})}}finally{X.T=s,at.p=f}}(ds&3)!==0&&Dc(),Bi(e),f=e.pendingLanes,(a&261930)!==0&&(f&42)!==0?e===bd?bl++:(bl=0,bd=e):bl=0,xl(0)}}function dv(e,s){(e.pooledCacheLanes&=s)===0&&(s=e.pooledCache,s!=null&&(e.pooledCache=null,il(s)))}function Dc(){return cv(),hv(),fv(),mv()}function mv(){if(He!==5)return!1;var e=Ks,s=Td;Td=0;var a=Zi(ds),l=X.T,f=at.p;try{at.p=32>a?32:a,X.T=null,a=Ed,Ed=null;var d=Ks,_=ds;if(He=0,Qa=Ks=null,ds=0,(Xt&6)!==0)throw Error(r(331));var S=Xt;if(Xt|=4,X0(d.current),K0(d,d.current,_,a),Xt=S,xl(0,!1),tn&&typeof tn.onPostCommitFiberRoot=="function")try{tn.onPostCommitFiberRoot(Vn,d)}catch{}return!0}finally{at.p=f,X.T=l,dv(e,s)}}function pv(e,s,a){s=Gn(a,s),s=td(e.stateNode,s,2),e=zs(e,s,2),e!==null&&(Tr(e,2),Bi(e))}function ie(e,s,a){if(e.tag===3)pv(e,e,a);else for(;s!==null;){if(s.tag===3){pv(s,e,a);break}else if(s.tag===1){var l=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Gs===null||!Gs.has(l))){e=Gn(a,e),a=g0(2),l=zs(s,a,2),l!==null&&(y0(a,l,s,e),Tr(l,2),Bi(l));break}}s=s.return}}function Sd(e,s,a){var l=e.pingCache;if(l===null){l=e.pingCache=new l2;var f=new Set;l.set(s,f)}else f=l.get(s),f===void 0&&(f=new Set,l.set(s,f));f.has(a)||(yd=!0,f.add(a),e=d2.bind(null,e,s,a),s.then(e,e))}function d2(e,s,a){var l=e.pingCache;l!==null&&l.delete(s),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,ue===e&&(kt&a)===a&&(xe===4||xe===3&&(kt&62914560)===kt&&300>Qe()-Ac?(Xt&2)===0&&Xa(e,0):vd|=a,Ya===kt&&(Ya=0)),Bi(e)}function gv(e,s){s===0&&(s=wu()),e=Or(e,s),e!==null&&(Tr(e,s),Bi(e))}function m2(e){var s=e.memoizedState,a=0;s!==null&&(a=s.retryLane),gv(e,a)}function p2(e,s){var a=0;switch(e.tag){case 31:case 13:var l=e.stateNode,f=e.memoizedState;f!==null&&(a=f.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(r(314))}l!==null&&l.delete(s),gv(e,a)}function g2(e,s){return Jt(e,s)}var Mc=null,$a=null,wd=!1,Nc=!1,Cd=!1,Qs=0;function Bi(e){e!==$a&&e.next===null&&($a===null?Mc=$a=e:$a=$a.next=e),Nc=!0,wd||(wd=!0,v2())}function xl(e,s){if(!Cd&&Nc){Cd=!0;do for(var a=!1,l=Mc;l!==null;){if(e!==0){var f=l.pendingLanes;if(f===0)var d=0;else{var _=l.suspendedLanes,S=l.pingedLanes;d=(1<<31-Se(42|e)+1)-1,d&=f&~(_&~S),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,Tv(l,d))}else d=kt,d=xi(l,l===ue?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||ii(l,d)||(a=!0,Tv(l,d));l=l.next}while(a);Cd=!1}}function y2(){yv()}function yv(){Nc=wd=!1;var e=0;Qs!==0&&R2()&&(e=Qs);for(var s=Qe(),a=null,l=Mc;l!==null;){var f=l.next,d=vv(l,s);d===0?(l.next=null,a===null?Mc=f:a.next=f,f===null&&($a=a)):(a=l,(e!==0||(d&3)!==0)&&(Nc=!0)),l=f}He!==0&&He!==5||xl(e),Qs!==0&&(Qs=0)}function vv(e,s){for(var a=e.suspendedLanes,l=e.pingedLanes,f=e.expirationTimes,d=e.pendingLanes&-62914561;0<d;){var _=31-Se(d),S=1<<_,N=f[_];N===-1?((S&a)===0||(S&l)!==0)&&(f[_]=ef(S,s)):N<=s&&(e.expiredLanes|=S),d&=~S}if(s=ue,a=kt,a=xi(e,e===s?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,a===0||e===s&&(ne===2||ne===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&_i(l),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||ii(e,a)){if(s=a&-a,s===e.callbackPriority)return s;switch(l!==null&&_i(l),Zi(a)){case 2:case 8:a=yr;break;case 32:a=Ti;break;case 268435456:a=vr;break;default:a=Ti}return l=_v.bind(null,e),a=Jt(a,l),e.callbackPriority=s,e.callbackNode=a,s}return l!==null&&l!==null&&_i(l),e.callbackPriority=2,e.callbackNode=null,2}function _v(e,s){if(He!==0&&He!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(Dc()&&e.callbackNode!==a)return null;var l=kt;return l=xi(e,e===ue?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(tv(e,l,s),vv(e,Qe()),e.callbackNode!=null&&e.callbackNode===a?_v.bind(null,e):null)}function Tv(e,s){if(Dc())return null;tv(e,s,!0)}function v2(){D2(function(){(Xt&6)!==0?Jt(bs,y2):yv()})}function Rd(){if(Qs===0){var e=Pa;e===0&&(e=Ei,Ei<<=1,(Ei&261888)===0&&(Ei=256)),Qs=e}return Qs}function Ev(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Ea(""+e)}function bv(e,s){var a=s.ownerDocument.createElement("input");return a.name=s.name,a.value=s.value,e.id&&a.setAttribute("form",e.id),s.parentNode.insertBefore(a,s),e=new FormData(e),a.parentNode.removeChild(a),e}function _2(e,s,a,l,f){if(s==="submit"&&a&&a.stateNode===f){var d=Ev((f[Xe]||null).action),_=l.submitter;_&&(s=(s=_[Xe]||null)?Ev(s.formAction):_.getAttribute("formAction"),s!==null&&(d=s,_=null));var S=new Oi("action","action",null,l,f);e.push({event:S,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Qs!==0){var N=_?bv(f,_):new FormData(f);Qf(a,{pending:!0,data:N,method:f.method,action:d},null,N)}}else typeof d=="function"&&(S.preventDefault(),N=_?bv(f,_):new FormData(f),Qf(a,{pending:!0,data:N,method:f.method,action:d},d,N))},currentTarget:f}]})}}for(var Vd=0;Vd<hf.length;Vd++){var Dd=hf[Vd],T2=Dd.toLowerCase(),E2=Dd[0].toUpperCase()+Dd.slice(1);hi(T2,"on"+E2)}hi(Wg,"onAnimationEnd"),hi(ty,"onAnimationIteration"),hi(ey,"onAnimationStart"),hi("dblclick","onDoubleClick"),hi("focusin","onFocus"),hi("focusout","onBlur"),hi(LA,"onTransitionRun"),hi(kA,"onTransitionStart"),hi(zA,"onTransitionCancel"),hi(ny,"onTransitionEnd"),Di("onMouseEnter",["mouseout","mouseover"]),Di("onMouseLeave",["mouseout","mouseover"]),Di("onPointerEnter",["pointerout","pointerover"]),Di("onPointerLeave",["pointerout","pointerover"]),Vi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Vi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Vi("onBeforeInput",["compositionend","keypress","textInput","paste"]),Vi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Vi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Vi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Al="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),b2=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Al));function xv(e,s){s=(s&4)!==0;for(var a=0;a<e.length;a++){var l=e[a],f=l.event;l=l.listeners;t:{var d=void 0;if(s)for(var _=l.length-1;0<=_;_--){var S=l[_],N=S.instance,H=S.currentTarget;if(S=S.listener,N!==d&&f.isPropagationStopped())break t;d=S,f.currentTarget=H;try{d(f)}catch(Z){Yu(Z)}f.currentTarget=null,d=N}else for(_=0;_<l.length;_++){if(S=l[_],N=S.instance,H=S.currentTarget,S=S.listener,N!==d&&f.isPropagationStopped())break t;d=S,f.currentTarget=H;try{d(f)}catch(Z){Yu(Z)}f.currentTarget=null,d=N}}}}function Pt(e,s){var a=s[ga];a===void 0&&(a=s[ga]=new Set);var l=e+"__bubble";a.has(l)||(Av(s,e,2,!1),a.add(l))}function Md(e,s,a){var l=0;s&&(l|=4),Av(a,e,l,s)}var Ic="_reactListening"+Math.random().toString(36).slice(2);function Nd(e){if(!e[Ic]){e[Ic]=!0,Po.forEach(function(a){a!=="selectionchange"&&(b2.has(a)||Md(a,!1,e),Md(a,!0,e))});var s=e.nodeType===9?e:e.ownerDocument;s===null||s[Ic]||(s[Ic]=!0,Md("selectionchange",!1,s))}}function Av(e,s,a,l){switch(Wv(s)){case 2:var f=Z2;break;case 8:f=$2;break;default:f=Yd}a=f.bind(null,s,a,e),f=void 0,!wr||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(f=!0),l?f!==void 0?e.addEventListener(s,a,{capture:!0,passive:f}):e.addEventListener(s,a,!0):f!==void 0?e.addEventListener(s,a,{passive:f}):e.addEventListener(s,a,!1)}function Id(e,s,a,l,f){var d=l;if((s&1)===0&&(s&2)===0&&l!==null)t:for(;;){if(l===null)return;var _=l.tag;if(_===3||_===4){var S=l.stateNode.containerInfo;if(S===f)break;if(_===4)for(_=l.return;_!==null;){var N=_.tag;if((N===3||N===4)&&_.stateNode.containerInfo===f)return;_=_.return}for(;S!==null;){if(_=Ci(S),_===null)return;if(N=_.tag,N===5||N===6||N===26||N===27){l=d=_;continue t}S=S.parentNode}}l=l.return}Vs(function(){var H=d,Z=Bn(a),tt=[];t:{var G=iy.get(e);if(G!==void 0){var Q=Oi,vt=e;switch(e){case"keypress":if(Rr(a)===0)break t;case"keydown":case"keyup":Q=Hu;break;case"focusin":vt="focus",Q=Dr;break;case"focusout":vt="blur",Q=Dr;break;case"beforeblur":case"afterblur":Q=Dr;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Q=Xo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Q=ju;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Q=y;break;case Wg:case ty:case ey:Q=Lu;break;case ny:Q=w;break;case"scroll":case"scrollend":Q=Qo;break;case"wheel":Q=Y;break;case"copy":case"cut":case"paste":Q=ku;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Q=Wi;break;case"toggle":case"beforetoggle":Q=Nt}var At=(s&4)!==0,le=!At&&(e==="scroll"||e==="scrollend"),P=At?G!==null?G+"Capture":null:G;At=[];for(var O=H,F;O!==null;){var W=O;if(F=W.stateNode,W=W.tag,W!==5&&W!==26&&W!==27||F===null||P===null||(W=oi(O,P),W!=null&&At.push(Sl(O,W,F))),le)break;O=O.return}0<At.length&&(G=new Q(G,vt,null,a,Z),tt.push({event:G,listeners:At}))}}if((s&7)===0){t:{if(G=e==="mouseover"||e==="pointerover",Q=e==="mouseout"||e==="pointerout",G&&a!==Go&&(vt=a.relatedTarget||a.fromElement)&&(Ci(vt)||vt[Si]))break t;if((Q||G)&&(G=Z.window===Z?Z:(G=Z.ownerDocument)?G.defaultView||G.parentWindow:window,Q?(vt=a.relatedTarget||a.toElement,Q=H,vt=vt?Ci(vt):null,vt!==null&&(le=u(vt),At=vt.tag,vt!==le||At!==5&&At!==27&&At!==6)&&(vt=null)):(Q=null,vt=H),Q!==vt)){if(At=Xo,W="onMouseLeave",P="onMouseEnter",O="mouse",(e==="pointerout"||e==="pointerover")&&(At=Wi,W="onPointerLeave",P="onPointerEnter",O="pointer"),le=Q==null?G:Dn(Q),F=vt==null?G:Dn(vt),G=new At(W,O+"leave",Q,a,Z),G.target=le,G.relatedTarget=F,W=null,Ci(Z)===H&&(At=new At(P,O+"enter",vt,a,Z),At.target=F,At.relatedTarget=le,W=At),le=W,Q&&vt)e:{for(At=x2,P=Q,O=vt,F=0,W=P;W;W=At(W))F++;W=0;for(var Et=O;Et;Et=At(Et))W++;for(;0<F-W;)P=At(P),F--;for(;0<W-F;)O=At(O),W--;for(;F--;){if(P===O||O!==null&&P===O.alternate){At=P;break e}P=At(P),O=At(O)}At=null}else At=null;Q!==null&&Sv(tt,G,Q,At,!1),vt!==null&&le!==null&&Sv(tt,le,vt,At,!0)}}t:{if(G=H?Dn(H):window,Q=G.nodeName&&G.nodeName.toLowerCase(),Q==="select"||Q==="input"&&G.type==="file")var Kt=qg;else if(Ug(G))if(Fg)Kt=OA;else{Kt=NA;var _t=MA}else Q=G.nodeName,!Q||Q.toLowerCase()!=="input"||G.type!=="checkbox"&&G.type!=="radio"?H&&Ta(H.elementType)&&(Kt=qg):Kt=IA;if(Kt&&(Kt=Kt(e,H))){Bg(tt,Kt,a,Z);break t}_t&&_t(e,G,H),e==="focusout"&&H&&G.type==="number"&&H.memoizedProps.value!=null&&qo(G,"number",G.value)}switch(_t=H?Dn(H):window,e){case"focusin":(Ug(_t)||_t.contentEditable==="true")&&(Ra=_t,lf=H,tl=null);break;case"focusout":tl=lf=Ra=null;break;case"mousedown":uf=!0;break;case"contextmenu":case"mouseup":case"dragend":uf=!1,$g(tt,a,Z);break;case"selectionchange":if(PA)break;case"keydown":case"keyup":$g(tt,a,Z)}var Ot;if(Qt)t:{switch(e){case"compositionstart":var zt="onCompositionStart";break t;case"compositionend":zt="onCompositionEnd";break t;case"compositionupdate":zt="onCompositionUpdate";break t}zt=void 0}else Ca?Mr(e,a)&&(zt="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(zt="onCompositionStart");zt&&(Li&&a.locale!=="ko"&&(Ca||zt!=="onCompositionStart"?zt==="onCompositionEnd"&&Ca&&(Ot=Yo()):(Ii=Z,Ko="value"in Ii?Ii.value:Ii.textContent,Ca=!0)),_t=Oc(H,zt),0<_t.length&&(zt=new Pi(zt,e,null,a,Z),tt.push({event:zt,listeners:_t}),Ot?zt.data=Ot:(Ot=wa(a),Ot!==null&&(zt.data=Ot)))),(Ot=Fn?CA(e,a):RA(e,a))&&(zt=Oc(H,"onBeforeInput"),0<zt.length&&(_t=new Pi("onBeforeInput","beforeinput",null,a,Z),tt.push({event:_t,listeners:zt}),_t.data=Ot)),_2(tt,e,H,a,Z)}xv(tt,s)})}function Sl(e,s,a){return{instance:e,listener:s,currentTarget:a}}function Oc(e,s){for(var a=s+"Capture",l=[];e!==null;){var f=e,d=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||d===null||(f=oi(e,a),f!=null&&l.unshift(Sl(e,f,d)),f=oi(e,s),f!=null&&l.push(Sl(e,f,d))),e.tag===3)return l;e=e.return}return[]}function x2(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Sv(e,s,a,l,f){for(var d=s._reactName,_=[];a!==null&&a!==l;){var S=a,N=S.alternate,H=S.stateNode;if(S=S.tag,N!==null&&N===l)break;S!==5&&S!==26&&S!==27||H===null||(N=H,f?(H=oi(a,d),H!=null&&_.unshift(Sl(a,H,N))):f||(H=oi(a,d),H!=null&&_.push(Sl(a,H,N)))),a=a.return}_.length!==0&&e.push({event:s,listeners:_})}var A2=/\r\n?/g,S2=/\u0000|\uFFFD/g;function wv(e){return(typeof e=="string"?e:""+e).replace(A2,`
`).replace(S2,"")}function Cv(e,s){return s=wv(s),wv(e)===s}function oe(e,s,a,l,f,d){switch(a){case"children":typeof l=="string"?s==="body"||s==="textarea"&&l===""||En(e,l):(typeof l=="number"||typeof l=="bigint")&&s!=="body"&&En(e,""+l);break;case"className":Mn(e,"class",l);break;case"tabIndex":Mn(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Mn(e,a,l);break;case"style":Ho(e,l,d);break;case"data":if(s!=="object"){Mn(e,"data",l);break}case"src":case"href":if(l===""&&(s!=="a"||a!=="href")){e.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=Ea(""+l),e.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(s!=="input"&&oe(e,s,"name",f.name,f,null),oe(e,s,"formEncType",f.formEncType,f,null),oe(e,s,"formMethod",f.formMethod,f,null),oe(e,s,"formTarget",f.formTarget,f,null)):(oe(e,s,"encType",f.encType,f,null),oe(e,s,"method",f.method,f,null),oe(e,s,"target",f.target,f,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=Ea(""+l),e.setAttribute(a,l);break;case"onClick":l!=null&&(e.onclick=ai);break;case"onScroll":l!=null&&Pt("scroll",e);break;case"onScrollEnd":l!=null&&Pt("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(r(60));e.innerHTML=a}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}a=Ea(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""+l):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":l===!0?e.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,l):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(a,l):e.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(a):e.setAttribute(a,l);break;case"popover":Pt("beforetoggle",e),Pt("toggle",e),va(e,"popover",l);break;case"xlinkActuate":Oe(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Oe(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Oe(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Oe(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Oe(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Oe(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Oe(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Oe(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Oe(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":va(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Ou.get(a)||a,va(e,a,l))}}function Od(e,s,a,l,f,d){switch(a){case"style":Ho(e,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(r(60));e.innerHTML=a}}break;case"children":typeof l=="string"?En(e,l):(typeof l=="number"||typeof l=="bigint")&&En(e,""+l);break;case"onScroll":l!=null&&Pt("scroll",e);break;case"onScrollEnd":l!=null&&Pt("scrollend",e);break;case"onClick":l!=null&&(e.onclick=ai);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Lo.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(f=a.endsWith("Capture"),s=a.slice(2,f?a.length-7:void 0),d=e[Xe]||null,d=d!=null?d[a]:null,typeof d=="function"&&e.removeEventListener(s,d,f),typeof l=="function")){typeof d!="function"&&d!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(s,l,f);break t}a in e?e[a]=l:l===!0?e.setAttribute(a,""):va(e,a,l)}}}function an(e,s,a){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Pt("error",e),Pt("load",e);var l=!1,f=!1,d;for(d in a)if(a.hasOwnProperty(d)){var _=a[d];if(_!=null)switch(d){case"src":l=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:oe(e,s,d,_,a,null)}}f&&oe(e,s,"srcSet",a.srcSet,a,null),l&&oe(e,s,"src",a.src,a,null);return;case"input":Pt("invalid",e);var S=d=_=f=null,N=null,H=null;for(l in a)if(a.hasOwnProperty(l)){var Z=a[l];if(Z!=null)switch(l){case"name":f=Z;break;case"type":_=Z;break;case"checked":N=Z;break;case"defaultChecked":H=Z;break;case"value":d=Z;break;case"defaultValue":S=Z;break;case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(r(137,s));break;default:oe(e,s,l,Z,a,null)}}Mu(e,d,S,N,H,_,f,!1);return;case"select":Pt("invalid",e),l=_=d=null;for(f in a)if(a.hasOwnProperty(f)&&(S=a[f],S!=null))switch(f){case"value":d=S;break;case"defaultValue":_=S;break;case"multiple":l=S;default:oe(e,s,f,S,a,null)}s=d,a=_,e.multiple=!!l,s!=null?Ss(e,!!l,s,!1):a!=null&&Ss(e,!!l,a,!0);return;case"textarea":Pt("invalid",e),d=f=l=null;for(_ in a)if(a.hasOwnProperty(_)&&(S=a[_],S!=null))switch(_){case"value":l=S;break;case"defaultValue":f=S;break;case"children":d=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(r(91));break;default:oe(e,s,_,S,a,null)}ws(e,l,f,d);return;case"option":for(N in a)if(a.hasOwnProperty(N)&&(l=a[N],l!=null))switch(N){case"selected":e.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:oe(e,s,N,l,a,null)}return;case"dialog":Pt("beforetoggle",e),Pt("toggle",e),Pt("cancel",e),Pt("close",e);break;case"iframe":case"object":Pt("load",e);break;case"video":case"audio":for(l=0;l<Al.length;l++)Pt(Al[l],e);break;case"image":Pt("error",e),Pt("load",e);break;case"details":Pt("toggle",e);break;case"embed":case"source":case"link":Pt("error",e),Pt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(H in a)if(a.hasOwnProperty(H)&&(l=a[H],l!=null))switch(H){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:oe(e,s,H,l,a,null)}return;default:if(Ta(s)){for(Z in a)a.hasOwnProperty(Z)&&(l=a[Z],l!==void 0&&Od(e,s,Z,l,a,void 0));return}}for(S in a)a.hasOwnProperty(S)&&(l=a[S],l!=null&&oe(e,s,S,l,a,null))}function w2(e,s,a,l){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,d=null,_=null,S=null,N=null,H=null,Z=null;for(Q in a){var tt=a[Q];if(a.hasOwnProperty(Q)&&tt!=null)switch(Q){case"checked":break;case"value":break;case"defaultValue":N=tt;default:l.hasOwnProperty(Q)||oe(e,s,Q,null,l,tt)}}for(var G in l){var Q=l[G];if(tt=a[G],l.hasOwnProperty(G)&&(Q!=null||tt!=null))switch(G){case"type":d=Q;break;case"name":f=Q;break;case"checked":H=Q;break;case"defaultChecked":Z=Q;break;case"value":_=Q;break;case"defaultValue":S=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(r(137,s));break;default:Q!==tt&&oe(e,s,G,Q,l,tt)}}_a(e,_,S,N,H,Z,d,f);return;case"select":Q=_=S=G=null;for(d in a)if(N=a[d],a.hasOwnProperty(d)&&N!=null)switch(d){case"value":break;case"multiple":Q=N;default:l.hasOwnProperty(d)||oe(e,s,d,null,l,N)}for(f in l)if(d=l[f],N=a[f],l.hasOwnProperty(f)&&(d!=null||N!=null))switch(f){case"value":G=d;break;case"defaultValue":S=d;break;case"multiple":_=d;default:d!==N&&oe(e,s,f,d,l,N)}s=S,a=_,l=Q,G!=null?Ss(e,!!a,G,!1):!!l!=!!a&&(s!=null?Ss(e,!!a,s,!0):Ss(e,!!a,a?[]:"",!1));return;case"textarea":Q=G=null;for(S in a)if(f=a[S],a.hasOwnProperty(S)&&f!=null&&!l.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:oe(e,s,S,null,l,f)}for(_ in l)if(f=l[_],d=a[_],l.hasOwnProperty(_)&&(f!=null||d!=null))switch(_){case"value":G=f;break;case"defaultValue":Q=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(r(91));break;default:f!==d&&oe(e,s,_,f,l,d)}Nu(e,G,Q);return;case"option":for(var vt in a)if(G=a[vt],a.hasOwnProperty(vt)&&G!=null&&!l.hasOwnProperty(vt))switch(vt){case"selected":e.selected=!1;break;default:oe(e,s,vt,null,l,G)}for(N in l)if(G=l[N],Q=a[N],l.hasOwnProperty(N)&&G!==Q&&(G!=null||Q!=null))switch(N){case"selected":e.selected=G&&typeof G!="function"&&typeof G!="symbol";break;default:oe(e,s,N,G,l,Q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var At in a)G=a[At],a.hasOwnProperty(At)&&G!=null&&!l.hasOwnProperty(At)&&oe(e,s,At,null,l,G);for(H in l)if(G=l[H],Q=a[H],l.hasOwnProperty(H)&&G!==Q&&(G!=null||Q!=null))switch(H){case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(r(137,s));break;default:oe(e,s,H,G,l,Q)}return;default:if(Ta(s)){for(var le in a)G=a[le],a.hasOwnProperty(le)&&G!==void 0&&!l.hasOwnProperty(le)&&Od(e,s,le,void 0,l,G);for(Z in l)G=l[Z],Q=a[Z],!l.hasOwnProperty(Z)||G===Q||G===void 0&&Q===void 0||Od(e,s,Z,G,l,Q);return}}for(var P in a)G=a[P],a.hasOwnProperty(P)&&G!=null&&!l.hasOwnProperty(P)&&oe(e,s,P,null,l,G);for(tt in l)G=l[tt],Q=a[tt],!l.hasOwnProperty(tt)||G===Q||G==null&&Q==null||oe(e,s,tt,G,l,Q)}function Rv(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function C2(){if(typeof performance.getEntriesByType=="function"){for(var e=0,s=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var f=a[l],d=f.transferSize,_=f.initiatorType,S=f.duration;if(d&&S&&Rv(_)){for(_=0,S=f.responseEnd,l+=1;l<a.length;l++){var N=a[l],H=N.startTime;if(H>S)break;var Z=N.transferSize,tt=N.initiatorType;Z&&Rv(tt)&&(N=N.responseEnd,_+=Z*(N<S?1:(S-H)/(N-H)))}if(--l,s+=8*(d+_)/(f.duration/1e3),e++,10<e)break}}if(0<e)return s/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var jd=null,Pd=null;function jc(e){return e.nodeType===9?e:e.ownerDocument}function Vv(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Dv(e,s){if(e===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&s==="foreignObject"?0:e}function Ld(e,s){return e==="textarea"||e==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var kd=null;function R2(){var e=window.event;return e&&e.type==="popstate"?e===kd?!1:(kd=e,!0):(kd=null,!1)}var Mv=typeof setTimeout=="function"?setTimeout:void 0,V2=typeof clearTimeout=="function"?clearTimeout:void 0,Nv=typeof Promise=="function"?Promise:void 0,D2=typeof queueMicrotask=="function"?queueMicrotask:typeof Nv<"u"?function(e){return Nv.resolve(null).then(e).catch(M2)}:Mv;function M2(e){setTimeout(function(){throw e})}function Xs(e){return e==="head"}function Iv(e,s){var a=s,l=0;do{var f=a.nextSibling;if(e.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"||a==="/&"){if(l===0){e.removeChild(f),eo(s);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")wl(e.ownerDocument.documentElement);else if(a==="head"){a=e.ownerDocument.head,wl(a);for(var d=a.firstChild;d;){var _=d.nextSibling,S=d.nodeName;d[wi]||S==="SCRIPT"||S==="STYLE"||S==="LINK"&&d.rel.toLowerCase()==="stylesheet"||a.removeChild(d),d=_}}else a==="body"&&wl(e.ownerDocument.body);a=f}while(a);eo(s)}function Ov(e,s){var a=e;e=0;do{var l=a.nextSibling;if(a.nodeType===1?s?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(s?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(e===0)break;e--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||e++;a=l}while(a)}function zd(e){var s=e.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var a=s;switch(s=s.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":zd(a),ya(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function N2(e,s,a,l){for(;e.nodeType===1;){var f=a;if(e.nodeName.toLowerCase()!==s.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[wi])switch(s){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(d=e.getAttribute("rel"),d==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(d!==f.rel||e.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||e.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||e.getAttribute("title")!==(f.title==null?null:f.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(d=e.getAttribute("src"),(d!==(f.src==null?null:f.src)||e.getAttribute("type")!==(f.type==null?null:f.type)||e.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&d&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(s==="input"&&e.type==="hidden"){var d=f.name==null?null:""+f.name;if(f.type==="hidden"&&e.getAttribute("name")===d)return e}else return e;if(e=Zn(e.nextSibling),e===null)break}return null}function I2(e,s,a){if(s==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=Zn(e.nextSibling),e===null))return null;return e}function jv(e,s){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!s||(e=Zn(e.nextSibling),e===null))return null;return e}function Ud(e){return e.data==="$?"||e.data==="$~"}function Bd(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function O2(e,s){var a=e.ownerDocument;if(e.data==="$~")e._reactRetry=s;else if(e.data!=="$?"||a.readyState!=="loading")s();else{var l=function(){s(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function Zn(e){for(;e!=null;e=e.nextSibling){var s=e.nodeType;if(s===1||s===3)break;if(s===8){if(s=e.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return e}var qd=null;function Pv(e){e=e.nextSibling;for(var s=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"||a==="/&"){if(s===0)return Zn(e.nextSibling);s--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||s++}e=e.nextSibling}return null}function Lv(e){e=e.previousSibling;for(var s=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(s===0)return e;s--}else a!=="/$"&&a!=="/&"||s++}e=e.previousSibling}return null}function kv(e,s,a){switch(s=jc(a),e){case"html":if(e=s.documentElement,!e)throw Error(r(452));return e;case"head":if(e=s.head,!e)throw Error(r(453));return e;case"body":if(e=s.body,!e)throw Error(r(454));return e;default:throw Error(r(451))}}function wl(e){for(var s=e.attributes;s.length;)e.removeAttributeNode(s[0]);ya(e)}var $n=new Map,zv=new Set;function Pc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var ms=at.d;at.d={f:j2,r:P2,D:L2,C:k2,L:z2,m:U2,X:q2,S:B2,M:F2};function j2(){var e=ms.f(),s=Cc();return e||s}function P2(e){var s=Un(e);s!==null&&s.tag===5&&s.type==="form"?n0(s):ms.r(e)}var Ja=typeof document>"u"?null:document;function Uv(e,s,a){var l=Ja;if(l&&typeof s=="string"&&s){var f=Tn(s);f='link[rel="'+e+'"][href="'+f+'"]',typeof a=="string"&&(f+='[crossorigin="'+a+'"]'),zv.has(f)||(zv.add(f),e={rel:e,crossOrigin:a,href:s},l.querySelector(f)===null&&(s=l.createElement("link"),an(s,"link",e),Ie(s),l.head.appendChild(s)))}}function L2(e){ms.D(e),Uv("dns-prefetch",e,null)}function k2(e,s){ms.C(e,s),Uv("preconnect",e,s)}function z2(e,s,a){ms.L(e,s,a);var l=Ja;if(l&&e&&s){var f='link[rel="preload"][as="'+Tn(s)+'"]';s==="image"&&a&&a.imageSrcSet?(f+='[imagesrcset="'+Tn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(f+='[imagesizes="'+Tn(a.imageSizes)+'"]')):f+='[href="'+Tn(e)+'"]';var d=f;switch(s){case"style":d=Wa(e);break;case"script":d=to(e)}$n.has(d)||(e=E({rel:"preload",href:s==="image"&&a&&a.imageSrcSet?void 0:e,as:s},a),$n.set(d,e),l.querySelector(f)!==null||s==="style"&&l.querySelector(Cl(d))||s==="script"&&l.querySelector(Rl(d))||(s=l.createElement("link"),an(s,"link",e),Ie(s),l.head.appendChild(s)))}}function U2(e,s){ms.m(e,s);var a=Ja;if(a&&e){var l=s&&typeof s.as=="string"?s.as:"script",f='link[rel="modulepreload"][as="'+Tn(l)+'"][href="'+Tn(e)+'"]',d=f;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=to(e)}if(!$n.has(d)&&(e=E({rel:"modulepreload",href:e},s),$n.set(d,e),a.querySelector(f)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Rl(d)))return}l=a.createElement("link"),an(l,"link",e),Ie(l),a.head.appendChild(l)}}}function B2(e,s,a){ms.S(e,s,a);var l=Ja;if(l&&e){var f=Ri(l).hoistableStyles,d=Wa(e);s=s||"default";var _=f.get(d);if(!_){var S={loading:0,preload:null};if(_=l.querySelector(Cl(d)))S.loading=5;else{e=E({rel:"stylesheet",href:e,"data-precedence":s},a),(a=$n.get(d))&&Fd(e,a);var N=_=l.createElement("link");Ie(N),an(N,"link",e),N._p=new Promise(function(H,Z){N.onload=H,N.onerror=Z}),N.addEventListener("load",function(){S.loading|=1}),N.addEventListener("error",function(){S.loading|=2}),S.loading|=4,Lc(_,s,l)}_={type:"stylesheet",instance:_,count:1,state:S},f.set(d,_)}}}function q2(e,s){ms.X(e,s);var a=Ja;if(a&&e){var l=Ri(a).hoistableScripts,f=to(e),d=l.get(f);d||(d=a.querySelector(Rl(f)),d||(e=E({src:e,async:!0},s),(s=$n.get(f))&&Hd(e,s),d=a.createElement("script"),Ie(d),an(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function F2(e,s){ms.M(e,s);var a=Ja;if(a&&e){var l=Ri(a).hoistableScripts,f=to(e),d=l.get(f);d||(d=a.querySelector(Rl(f)),d||(e=E({src:e,async:!0,type:"module"},s),(s=$n.get(f))&&Hd(e,s),d=a.createElement("script"),Ie(d),an(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function Bv(e,s,a,l){var f=(f=ft.current)?Pc(f):null;if(!f)throw Error(r(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(s=Wa(a.href),a=Ri(f).hoistableStyles,l=a.get(s),l||(l={type:"style",instance:null,count:0,state:null},a.set(s,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=Wa(a.href);var d=Ri(f).hoistableStyles,_=d.get(e);if(_||(f=f.ownerDocument||f,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(e,_),(d=f.querySelector(Cl(e)))&&!d._p&&(_.instance=d,_.state.loading=5),$n.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},$n.set(e,a),d||H2(f,e,a,_.state))),s&&l===null)throw Error(r(528,""));return _}if(s&&l!==null)throw Error(r(529,""));return null;case"script":return s=a.async,a=a.src,typeof a=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=to(a),a=Ri(f).hoistableScripts,l=a.get(s),l||(l={type:"script",instance:null,count:0,state:null},a.set(s,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,e))}}function Wa(e){return'href="'+Tn(e)+'"'}function Cl(e){return'link[rel="stylesheet"]['+e+"]"}function qv(e){return E({},e,{"data-precedence":e.precedence,precedence:null})}function H2(e,s,a,l){e.querySelector('link[rel="preload"][as="style"]['+s+"]")?l.loading=1:(s=e.createElement("link"),l.preload=s,s.addEventListener("load",function(){return l.loading|=1}),s.addEventListener("error",function(){return l.loading|=2}),an(s,"link",a),Ie(s),e.head.appendChild(s))}function to(e){return'[src="'+Tn(e)+'"]'}function Rl(e){return"script[async]"+e}function Fv(e,s,a){if(s.count++,s.instance===null)switch(s.type){case"style":var l=e.querySelector('style[data-href~="'+Tn(a.href)+'"]');if(l)return s.instance=l,Ie(l),l;var f=E({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),Ie(l),an(l,"style",f),Lc(l,a.precedence,e),s.instance=l;case"stylesheet":f=Wa(a.href);var d=e.querySelector(Cl(f));if(d)return s.state.loading|=4,s.instance=d,Ie(d),d;l=qv(a),(f=$n.get(f))&&Fd(l,f),d=(e.ownerDocument||e).createElement("link"),Ie(d);var _=d;return _._p=new Promise(function(S,N){_.onload=S,_.onerror=N}),an(d,"link",l),s.state.loading|=4,Lc(d,a.precedence,e),s.instance=d;case"script":return d=to(a.src),(f=e.querySelector(Rl(d)))?(s.instance=f,Ie(f),f):(l=a,(f=$n.get(d))&&(l=E({},a),Hd(l,f)),e=e.ownerDocument||e,f=e.createElement("script"),Ie(f),an(f,"link",l),e.head.appendChild(f),s.instance=f);case"void":return null;default:throw Error(r(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(l=s.instance,s.state.loading|=4,Lc(l,a.precedence,e));return s.instance}function Lc(e,s,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=l.length?l[l.length-1]:null,d=f,_=0;_<l.length;_++){var S=l[_];if(S.dataset.precedence===s)d=S;else if(d!==f)break}d?d.parentNode.insertBefore(e,d.nextSibling):(s=a.nodeType===9?a.head:a,s.insertBefore(e,s.firstChild))}function Fd(e,s){e.crossOrigin==null&&(e.crossOrigin=s.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=s.referrerPolicy),e.title==null&&(e.title=s.title)}function Hd(e,s){e.crossOrigin==null&&(e.crossOrigin=s.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=s.referrerPolicy),e.integrity==null&&(e.integrity=s.integrity)}var kc=null;function Hv(e,s,a){if(kc===null){var l=new Map,f=kc=new Map;f.set(a,l)}else f=kc,l=f.get(a),l||(l=new Map,f.set(a,l));if(l.has(e))return l;for(l.set(e,null),a=a.getElementsByTagName(e),f=0;f<a.length;f++){var d=a[f];if(!(d[wi]||d[Ne]||e==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var _=d.getAttribute(s)||"";_=e+_;var S=l.get(_);S?S.push(d):l.set(_,[d])}}return l}function Gv(e,s,a){e=e.ownerDocument||e,e.head.insertBefore(a,s==="title"?e.querySelector("head > title"):null)}function G2(e,s,a){if(a===1||s.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return e=s.disabled,typeof s.precedence=="string"&&e==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function Kv(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function K2(e,s,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var f=Wa(l.href),d=s.querySelector(Cl(f));if(d){s=d._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(e.count++,e=zc.bind(e),s.then(e,e)),a.state.loading|=4,a.instance=d,Ie(d);return}d=s.ownerDocument||s,l=qv(l),(f=$n.get(f))&&Fd(l,f),d=d.createElement("link"),Ie(d);var _=d;_._p=new Promise(function(S,N){_.onload=S,_.onerror=N}),an(d,"link",l),a.instance=d}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(a,s),(s=a.state.preload)&&(a.state.loading&3)===0&&(e.count++,a=zc.bind(e),s.addEventListener("load",a),s.addEventListener("error",a))}}var Gd=0;function Y2(e,s){return e.stylesheets&&e.count===0&&Bc(e,e.stylesheets),0<e.count||0<e.imgCount?function(a){var l=setTimeout(function(){if(e.stylesheets&&Bc(e,e.stylesheets),e.unsuspend){var d=e.unsuspend;e.unsuspend=null,d()}},6e4+s);0<e.imgBytes&&Gd===0&&(Gd=62500*C2());var f=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Bc(e,e.stylesheets),e.unsuspend)){var d=e.unsuspend;e.unsuspend=null,d()}},(e.imgBytes>Gd?50:800)+s);return e.unsuspend=a,function(){e.unsuspend=null,clearTimeout(l),clearTimeout(f)}}:null}function zc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Bc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Uc=null;function Bc(e,s){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Uc=new Map,s.forEach(Q2,e),Uc=null,zc.call(e))}function Q2(e,s){if(!(s.state.loading&4)){var a=Uc.get(e);if(a)var l=a.get(null);else{a=new Map,Uc.set(e,a);for(var f=e.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<f.length;d++){var _=f[d];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(a.set(_.dataset.precedence,_),l=_)}l&&a.set(null,l)}f=s.instance,_=f.getAttribute("data-precedence"),d=a.get(_)||l,d===l&&a.set(null,f),a.set(_,f),this.count++,l=zc.bind(this),f.addEventListener("load",l),f.addEventListener("error",l),d?d.parentNode.insertBefore(f,d.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(f,e.firstChild)),s.state.loading|=4}}var Vl={$$typeof:et,Provider:null,Consumer:null,_currentValue:gt,_currentValue2:gt,_threadCount:0};function X2(e,s,a,l,f,d,_,S,N){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ai(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ai(0),this.hiddenUpdates=Ai(null),this.identifierPrefix=l,this.onUncaughtError=f,this.onCaughtError=d,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=N,this.incompleteTransitions=new Map}function Yv(e,s,a,l,f,d,_,S,N,H,Z,tt){return e=new X2(e,s,a,_,N,H,Z,tt,S),s=1,d===!0&&(s|=24),d=In(3,null,null,s),e.current=d,d.stateNode=e,s=Af(),s.refCount++,e.pooledCache=s,s.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:s},Rf(d),e}function Qv(e){return e?(e=Ma,e):Ma}function Xv(e,s,a,l,f,d){f=Qv(f),l.context===null?l.context=f:l.pendingContext=f,l=ks(s),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=zs(e,l,s),a!==null&&(wn(a,e,s),ol(a,e,s))}function Zv(e,s){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<s?a:s}}function Kd(e,s){Zv(e,s),(e=e.alternate)&&Zv(e,s)}function $v(e){if(e.tag===13||e.tag===31){var s=Or(e,67108864);s!==null&&wn(s,e,67108864),Kd(e,67108864)}}function Jv(e){if(e.tag===13||e.tag===31){var s=kn();s=br(s);var a=Or(e,s);a!==null&&wn(a,e,s),Kd(e,s)}}var qc=!0;function Z2(e,s,a,l){var f=X.T;X.T=null;var d=at.p;try{at.p=2,Yd(e,s,a,l)}finally{at.p=d,X.T=f}}function $2(e,s,a,l){var f=X.T;X.T=null;var d=at.p;try{at.p=8,Yd(e,s,a,l)}finally{at.p=d,X.T=f}}function Yd(e,s,a,l){if(qc){var f=Qd(l);if(f===null)Id(e,s,l,Fc,a),t_(e,l);else if(W2(f,e,s,a,l))l.stopPropagation();else if(t_(e,l),s&4&&-1<J2.indexOf(e)){for(;f!==null;){var d=Un(f);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var _=bi(d.pendingLanes);if(_!==0){var S=d;for(S.pendingLanes|=2,S.entangledLanes|=2;_;){var N=1<<31-Se(_);S.entanglements[1]|=N,_&=~N}Bi(d),(Xt&6)===0&&(Sc=Qe()+500,xl(0))}}break;case 31:case 13:S=Or(d,2),S!==null&&wn(S,d,2),Cc(),Kd(d,2)}if(d=Qd(l),d===null&&Id(e,s,l,Fc,a),d===f)break;f=d}f!==null&&l.stopPropagation()}else Id(e,s,l,null,a)}}function Qd(e){return e=Bn(e),Xd(e)}var Fc=null;function Xd(e){if(Fc=null,e=Ci(e),e!==null){var s=u(e);if(s===null)e=null;else{var a=s.tag;if(a===13){if(e=c(s),e!==null)return e;e=null}else if(a===31){if(e=m(s),e!==null)return e;e=null}else if(a===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;e=null}else s!==e&&(e=null)}}return Fc=e,null}function Wv(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Xi()){case bs:return 2;case yr:return 8;case Ti:case da:return 32;case vr:return 268435456;default:return 32}default:return 32}}var Zd=!1,Zs=null,$s=null,Js=null,Dl=new Map,Ml=new Map,Ws=[],J2="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function t_(e,s){switch(e){case"focusin":case"focusout":Zs=null;break;case"dragenter":case"dragleave":$s=null;break;case"mouseover":case"mouseout":Js=null;break;case"pointerover":case"pointerout":Dl.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ml.delete(s.pointerId)}}function Nl(e,s,a,l,f,d){return e===null||e.nativeEvent!==d?(e={blockedOn:s,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[f]},s!==null&&(s=Un(s),s!==null&&$v(s)),e):(e.eventSystemFlags|=l,s=e.targetContainers,f!==null&&s.indexOf(f)===-1&&s.push(f),e)}function W2(e,s,a,l,f){switch(s){case"focusin":return Zs=Nl(Zs,e,s,a,l,f),!0;case"dragenter":return $s=Nl($s,e,s,a,l,f),!0;case"mouseover":return Js=Nl(Js,e,s,a,l,f),!0;case"pointerover":var d=f.pointerId;return Dl.set(d,Nl(Dl.get(d)||null,e,s,a,l,f)),!0;case"gotpointercapture":return d=f.pointerId,Ml.set(d,Nl(Ml.get(d)||null,e,s,a,l,f)),!0}return!1}function e_(e){var s=Ci(e.target);if(s!==null){var a=u(s);if(a!==null){if(s=a.tag,s===13){if(s=c(a),s!==null){e.blockedOn=s,si(e.priority,function(){Jv(a)});return}}else if(s===31){if(s=m(a),s!==null){e.blockedOn=s,si(e.priority,function(){Jv(a)});return}}else if(s===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Hc(e){if(e.blockedOn!==null)return!1;for(var s=e.targetContainers;0<s.length;){var a=Qd(e.nativeEvent);if(a===null){a=e.nativeEvent;var l=new a.constructor(a.type,a);Go=l,a.target.dispatchEvent(l),Go=null}else return s=Un(a),s!==null&&$v(s),e.blockedOn=a,!1;s.shift()}return!0}function n_(e,s,a){Hc(e)&&a.delete(s)}function tS(){Zd=!1,Zs!==null&&Hc(Zs)&&(Zs=null),$s!==null&&Hc($s)&&($s=null),Js!==null&&Hc(Js)&&(Js=null),Dl.forEach(n_),Ml.forEach(n_)}function Gc(e,s){e.blockedOn===s&&(e.blockedOn=null,Zd||(Zd=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,tS)))}var Kc=null;function i_(e){Kc!==e&&(Kc=e,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Kc===e&&(Kc=null);for(var s=0;s<e.length;s+=3){var a=e[s],l=e[s+1],f=e[s+2];if(typeof l!="function"){if(Xd(l||a)===null)continue;break}var d=Un(a);d!==null&&(e.splice(s,3),s-=3,Qf(d,{pending:!0,data:f,method:a.method,action:l},l,f))}}))}function eo(e){function s(N){return Gc(N,e)}Zs!==null&&Gc(Zs,e),$s!==null&&Gc($s,e),Js!==null&&Gc(Js,e),Dl.forEach(s),Ml.forEach(s);for(var a=0;a<Ws.length;a++){var l=Ws[a];l.blockedOn===e&&(l.blockedOn=null)}for(;0<Ws.length&&(a=Ws[0],a.blockedOn===null);)e_(a),a.blockedOn===null&&Ws.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var f=a[l],d=a[l+1],_=f[Xe]||null;if(typeof d=="function")_||i_(a);else if(_){var S=null;if(d&&d.hasAttribute("formAction")){if(f=d,_=d[Xe]||null)S=_.formAction;else if(Xd(f)!==null)continue}else S=_.action;typeof S=="function"?a[l+1]=S:(a.splice(l,3),l-=3),i_(a)}}}function s_(){function e(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(_){return f=_})},focusReset:"manual",scroll:"manual"})}function s(){f!==null&&(f(),f=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,f=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),f!==null&&(f(),f=null)}}}function $d(e){this._internalRoot=e}Yc.prototype.render=$d.prototype.render=function(e){var s=this._internalRoot;if(s===null)throw Error(r(409));var a=s.current,l=kn();Xv(a,l,e,s,null,null)},Yc.prototype.unmount=$d.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var s=e.containerInfo;Xv(e.current,2,null,e,null,null),Cc(),s[Si]=null}};function Yc(e){this._internalRoot=e}Yc.prototype.unstable_scheduleHydration=function(e){if(e){var s=Cu();e={blockedOn:null,target:e,priority:s};for(var a=0;a<Ws.length&&s!==0&&s<Ws[a].priority;a++);Ws.splice(a,0,e),a===0&&e_(e)}};var r_=t.version;if(r_!=="19.2.3")throw Error(r(527,r_,"19.2.3"));at.findDOMNode=function(e){var s=e._reactInternals;if(s===void 0)throw typeof e.render=="function"?Error(r(188)):(e=Object.keys(e).join(","),Error(r(268,e)));return e=g(s),e=e!==null?v(e):null,e=e===null?null:e.stateNode,e};var eS={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:X,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Qc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Qc.isDisabled&&Qc.supportsFiber)try{Vn=Qc.inject(eS),tn=Qc}catch{}}return Ol.createRoot=function(e,s){if(!o(e))throw Error(r(299));var a=!1,l="",f=f0,d=d0,_=m0;return s!=null&&(s.unstable_strictMode===!0&&(a=!0),s.identifierPrefix!==void 0&&(l=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(d=s.onCaughtError),s.onRecoverableError!==void 0&&(_=s.onRecoverableError)),s=Yv(e,1,!1,null,null,a,l,null,f,d,_,s_),e[Si]=s.current,Nd(e),new $d(s)},Ol.hydrateRoot=function(e,s,a){if(!o(e))throw Error(r(299));var l=!1,f="",d=f0,_=d0,S=m0,N=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(S=a.onRecoverableError),a.formState!==void 0&&(N=a.formState)),s=Yv(e,1,!0,s,a??null,l,f,N,d,_,S,s_),s.context=Qv(null),a=s.current,l=kn(),l=br(l),f=ks(l),f.callback=null,zs(a,f,l),a=l,s.current.lanes=a,Tr(s,a),Bi(s),e[Si]=s.current,Nd(e),new Yc(s)},Ol.version="19.2.3",Ol}var p_;function hS(){if(p_)return tm.exports;p_=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),tm.exports=cS(),tm.exports}var fS=hS();const dS=JT(fS),bp=ot.createContext({});function xp(n){const t=ot.useRef(null);return t.current===null&&(t.current=n()),t.current}const Ap=typeof window<"u",tE=Ap?ot.useLayoutEffect:ot.useEffect,Lh=ot.createContext(null);function Sp(n,t){n.indexOf(t)===-1&&n.push(t)}function wp(n,t){const i=n.indexOf(t);i>-1&&n.splice(i,1)}const ys=(n,t,i)=>i>t?t:i<n?n:i;let Cp=()=>{};const vs={},eE=n=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(n);function nE(n){return typeof n=="object"&&n!==null}const iE=n=>/^0[^.\s]+$/u.test(n);function Rp(n){let t;return()=>(t===void 0&&(t=n()),t)}const ni=n=>n,mS=(n,t)=>i=>t(n(i)),pu=(...n)=>n.reduce(mS),tu=(n,t,i)=>{const r=t-n;return r===0?1:(i-n)/r};class Vp{constructor(){this.subscriptions=[]}add(t){return Sp(this.subscriptions,t),()=>wp(this.subscriptions,t)}notify(t,i,r){const o=this.subscriptions.length;if(o)if(o===1)this.subscriptions[0](t,i,r);else for(let u=0;u<o;u++){const c=this.subscriptions[u];c&&c(t,i,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Fi=n=>n*1e3,ei=n=>n/1e3;function sE(n,t){return t?n*(1e3/t):0}const rE=(n,t,i)=>(((1-3*i+3*t)*n+(3*i-6*t))*n+3*t)*n,pS=1e-7,gS=12;function yS(n,t,i,r,o){let u,c,m=0;do c=t+(i-t)/2,u=rE(c,r,o)-n,u>0?i=c:t=c;while(Math.abs(u)>pS&&++m<gS);return c}function gu(n,t,i,r){if(n===t&&i===r)return ni;const o=u=>yS(u,0,1,n,i);return u=>u===0||u===1?u:rE(o(u),t,r)}const aE=n=>t=>t<=.5?n(2*t)/2:(2-n(2*(1-t)))/2,oE=n=>t=>1-n(1-t),lE=gu(.33,1.53,.69,.99),Dp=oE(lE),uE=aE(Dp),cE=n=>(n*=2)<1?.5*Dp(n):.5*(2-Math.pow(2,-10*(n-1))),Mp=n=>1-Math.sin(Math.acos(n)),hE=oE(Mp),fE=aE(Mp),vS=gu(.42,0,1,1),_S=gu(0,0,.58,1),dE=gu(.42,0,.58,1),TS=n=>Array.isArray(n)&&typeof n[0]!="number",mE=n=>Array.isArray(n)&&typeof n[0]=="number",ES={linear:ni,easeIn:vS,easeInOut:dE,easeOut:_S,circIn:Mp,circInOut:fE,circOut:hE,backIn:Dp,backInOut:uE,backOut:lE,anticipate:cE},bS=n=>typeof n=="string",g_=n=>{if(mE(n)){Cp(n.length===4);const[t,i,r,o]=n;return gu(t,i,r,o)}else if(bS(n))return ES[n];return n},Xc=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function xS(n,t){let i=new Set,r=new Set,o=!1,u=!1;const c=new WeakSet;let m={delta:0,timestamp:0,isProcessing:!1};function p(v){c.has(v)&&(g.schedule(v),n()),v(m)}const g={schedule:(v,E=!1,x=!1)=>{const B=x&&o?i:r;return E&&c.add(v),B.has(v)||B.add(v),v},cancel:v=>{r.delete(v),c.delete(v)},process:v=>{if(m=v,o){u=!0;return}o=!0,[i,r]=[r,i],i.forEach(p),i.clear(),o=!1,u&&(u=!1,g.process(v))}};return g}const AS=40;function pE(n,t){let i=!1,r=!0;const o={delta:0,timestamp:0,isProcessing:!1},u=()=>i=!0,c=Xc.reduce((et,mt)=>(et[mt]=xS(u),et),{}),{setup:m,read:p,resolveKeyframes:g,preUpdate:v,update:E,preRender:x,render:M,postRender:B}=c,K=()=>{const et=vs.useManualTiming?o.timestamp:performance.now();i=!1,vs.useManualTiming||(o.delta=r?1e3/60:Math.max(Math.min(et-o.timestamp,AS),1)),o.timestamp=et,o.isProcessing=!0,m.process(o),p.process(o),g.process(o),v.process(o),E.process(o),x.process(o),M.process(o),B.process(o),o.isProcessing=!1,i&&t&&(r=!1,n(K))},L=()=>{i=!0,r=!0,o.isProcessing||n(K)};return{schedule:Xc.reduce((et,mt)=>{const ht=c[mt];return et[mt]=(dt,R=!1,C=!1)=>(i||L(),ht.schedule(dt,R,C)),et},{}),cancel:et=>{for(let mt=0;mt<Xc.length;mt++)c[Xc[mt]].cancel(et)},state:o,steps:c}}const{schedule:_e,cancel:or,state:on,steps:sm}=pE(typeof requestAnimationFrame<"u"?requestAnimationFrame:ni,!0);let sh;function SS(){sh=void 0}const Rn={now:()=>(sh===void 0&&Rn.set(on.isProcessing||vs.useManualTiming?on.timestamp:performance.now()),sh),set:n=>{sh=n,queueMicrotask(SS)}},gE=n=>t=>typeof t=="string"&&t.startsWith(n),yE=gE("--"),wS=gE("var(--"),Np=n=>wS(n)?CS.test(n.split("/*")[0].trim()):!1,CS=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Ao={test:n=>typeof n=="number",parse:parseFloat,transform:n=>n},eu={...Ao,transform:n=>ys(0,1,n)},Zc={...Ao,default:1},Fl=n=>Math.round(n*1e5)/1e5,Ip=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function RS(n){return n==null}const VS=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Op=(n,t)=>i=>!!(typeof i=="string"&&VS.test(i)&&i.startsWith(n)||t&&!RS(i)&&Object.prototype.hasOwnProperty.call(i,t)),vE=(n,t,i)=>r=>{if(typeof r!="string")return r;const[o,u,c,m]=r.match(Ip);return{[n]:parseFloat(o),[t]:parseFloat(u),[i]:parseFloat(c),alpha:m!==void 0?parseFloat(m):1}},DS=n=>ys(0,255,n),rm={...Ao,transform:n=>Math.round(DS(n))},$r={test:Op("rgb","red"),parse:vE("red","green","blue"),transform:({red:n,green:t,blue:i,alpha:r=1})=>"rgba("+rm.transform(n)+", "+rm.transform(t)+", "+rm.transform(i)+", "+Fl(eu.transform(r))+")"};function MS(n){let t="",i="",r="",o="";return n.length>5?(t=n.substring(1,3),i=n.substring(3,5),r=n.substring(5,7),o=n.substring(7,9)):(t=n.substring(1,2),i=n.substring(2,3),r=n.substring(3,4),o=n.substring(4,5),t+=t,i+=i,r+=r,o+=o),{red:parseInt(t,16),green:parseInt(i,16),blue:parseInt(r,16),alpha:o?parseInt(o,16)/255:1}}const Mm={test:Op("#"),parse:MS,transform:$r.transform},yu=n=>({test:t=>typeof t=="string"&&t.endsWith(n)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${n}`}),er=yu("deg"),Hi=yu("%"),wt=yu("px"),NS=yu("vh"),IS=yu("vw"),y_={...Hi,parse:n=>Hi.parse(n)/100,transform:n=>Hi.transform(n*100)},ao={test:Op("hsl","hue"),parse:vE("hue","saturation","lightness"),transform:({hue:n,saturation:t,lightness:i,alpha:r=1})=>"hsla("+Math.round(n)+", "+Hi.transform(Fl(t))+", "+Hi.transform(Fl(i))+", "+Fl(eu.transform(r))+")"},Ue={test:n=>$r.test(n)||Mm.test(n)||ao.test(n),parse:n=>$r.test(n)?$r.parse(n):ao.test(n)?ao.parse(n):Mm.parse(n),transform:n=>typeof n=="string"?n:n.hasOwnProperty("red")?$r.transform(n):ao.transform(n),getAnimatableNone:n=>{const t=Ue.parse(n);return t.alpha=0,Ue.transform(t)}},OS=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function jS(n){var t,i;return isNaN(n)&&typeof n=="string"&&(((t=n.match(Ip))==null?void 0:t.length)||0)+(((i=n.match(OS))==null?void 0:i.length)||0)>0}const _E="number",TE="color",PS="var",LS="var(",v_="${}",kS=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function nu(n){const t=n.toString(),i=[],r={color:[],number:[],var:[]},o=[];let u=0;const m=t.replace(kS,p=>(Ue.test(p)?(r.color.push(u),o.push(TE),i.push(Ue.parse(p))):p.startsWith(LS)?(r.var.push(u),o.push(PS),i.push(p)):(r.number.push(u),o.push(_E),i.push(parseFloat(p))),++u,v_)).split(v_);return{values:i,split:m,indexes:r,types:o}}function EE(n){return nu(n).values}function bE(n){const{split:t,types:i}=nu(n),r=t.length;return o=>{let u="";for(let c=0;c<r;c++)if(u+=t[c],o[c]!==void 0){const m=i[c];m===_E?u+=Fl(o[c]):m===TE?u+=Ue.transform(o[c]):u+=o[c]}return u}}const zS=n=>typeof n=="number"?0:Ue.test(n)?Ue.getAnimatableNone(n):n;function US(n){const t=EE(n);return bE(n)(t.map(zS))}const lr={test:jS,parse:EE,createTransformer:bE,getAnimatableNone:US};function am(n,t,i){return i<0&&(i+=1),i>1&&(i-=1),i<1/6?n+(t-n)*6*i:i<1/2?t:i<2/3?n+(t-n)*(2/3-i)*6:n}function BS({hue:n,saturation:t,lightness:i,alpha:r}){n/=360,t/=100,i/=100;let o=0,u=0,c=0;if(!t)o=u=c=i;else{const m=i<.5?i*(1+t):i+t-i*t,p=2*i-m;o=am(p,m,n+1/3),u=am(p,m,n),c=am(p,m,n-1/3)}return{red:Math.round(o*255),green:Math.round(u*255),blue:Math.round(c*255),alpha:r}}function mh(n,t){return i=>i>0?t:n}const Te=(n,t,i)=>n+(t-n)*i,om=(n,t,i)=>{const r=n*n,o=i*(t*t-r)+r;return o<0?0:Math.sqrt(o)},qS=[Mm,$r,ao],FS=n=>qS.find(t=>t.test(n));function __(n){const t=FS(n);if(!t)return!1;let i=t.parse(n);return t===ao&&(i=BS(i)),i}const T_=(n,t)=>{const i=__(n),r=__(t);if(!i||!r)return mh(n,t);const o={...i};return u=>(o.red=om(i.red,r.red,u),o.green=om(i.green,r.green,u),o.blue=om(i.blue,r.blue,u),o.alpha=Te(i.alpha,r.alpha,u),$r.transform(o))},Nm=new Set(["none","hidden"]);function HS(n,t){return Nm.has(n)?i=>i<=0?n:t:i=>i>=1?t:n}function GS(n,t){return i=>Te(n,t,i)}function jp(n){return typeof n=="number"?GS:typeof n=="string"?Np(n)?mh:Ue.test(n)?T_:QS:Array.isArray(n)?xE:typeof n=="object"?Ue.test(n)?T_:KS:mh}function xE(n,t){const i=[...n],r=i.length,o=n.map((u,c)=>jp(u)(u,t[c]));return u=>{for(let c=0;c<r;c++)i[c]=o[c](u);return i}}function KS(n,t){const i={...n,...t},r={};for(const o in i)n[o]!==void 0&&t[o]!==void 0&&(r[o]=jp(n[o])(n[o],t[o]));return o=>{for(const u in r)i[u]=r[u](o);return i}}function YS(n,t){const i=[],r={color:0,var:0,number:0};for(let o=0;o<t.values.length;o++){const u=t.types[o],c=n.indexes[u][r[u]],m=n.values[c]??0;i[o]=m,r[u]++}return i}const QS=(n,t)=>{const i=lr.createTransformer(t),r=nu(n),o=nu(t);return r.indexes.var.length===o.indexes.var.length&&r.indexes.color.length===o.indexes.color.length&&r.indexes.number.length>=o.indexes.number.length?Nm.has(n)&&!o.values.length||Nm.has(t)&&!r.values.length?HS(n,t):pu(xE(YS(r,o),o.values),i):mh(n,t)};function AE(n,t,i){return typeof n=="number"&&typeof t=="number"&&typeof i=="number"?Te(n,t,i):jp(n)(n,t)}const XS=n=>{const t=({timestamp:i})=>n(i);return{start:(i=!0)=>_e.update(t,i),stop:()=>or(t),now:()=>on.isProcessing?on.timestamp:Rn.now()}},SE=(n,t,i=10)=>{let r="";const o=Math.max(Math.round(t/i),2);for(let u=0;u<o;u++)r+=Math.round(n(u/(o-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},ph=2e4;function Pp(n){let t=0;const i=50;let r=n.next(t);for(;!r.done&&t<ph;)t+=i,r=n.next(t);return t>=ph?1/0:t}function ZS(n,t=100,i){const r=i({...n,keyframes:[0,t]}),o=Math.min(Pp(r),ph);return{type:"keyframes",ease:u=>r.next(o*u).value/t,duration:ei(o)}}const $S=5;function wE(n,t,i){const r=Math.max(t-$S,0);return sE(i-n(r),t-r)}const Ae={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},lm=.001;function JS({duration:n=Ae.duration,bounce:t=Ae.bounce,velocity:i=Ae.velocity,mass:r=Ae.mass}){let o,u,c=1-t;c=ys(Ae.minDamping,Ae.maxDamping,c),n=ys(Ae.minDuration,Ae.maxDuration,ei(n)),c<1?(o=g=>{const v=g*c,E=v*n,x=v-i,M=Im(g,c),B=Math.exp(-E);return lm-x/M*B},u=g=>{const E=g*c*n,x=E*i+i,M=Math.pow(c,2)*Math.pow(g,2)*n,B=Math.exp(-E),K=Im(Math.pow(g,2),c);return(-o(g)+lm>0?-1:1)*((x-M)*B)/K}):(o=g=>{const v=Math.exp(-g*n),E=(g-i)*n+1;return-lm+v*E},u=g=>{const v=Math.exp(-g*n),E=(i-g)*(n*n);return v*E});const m=5/n,p=tw(o,u,m);if(n=Fi(n),isNaN(p))return{stiffness:Ae.stiffness,damping:Ae.damping,duration:n};{const g=Math.pow(p,2)*r;return{stiffness:g,damping:c*2*Math.sqrt(r*g),duration:n}}}const WS=12;function tw(n,t,i){let r=i;for(let o=1;o<WS;o++)r=r-n(r)/t(r);return r}function Im(n,t){return n*Math.sqrt(1-t*t)}const ew=["duration","bounce"],nw=["stiffness","damping","mass"];function E_(n,t){return t.some(i=>n[i]!==void 0)}function iw(n){let t={velocity:Ae.velocity,stiffness:Ae.stiffness,damping:Ae.damping,mass:Ae.mass,isResolvedFromDuration:!1,...n};if(!E_(n,nw)&&E_(n,ew))if(n.visualDuration){const i=n.visualDuration,r=2*Math.PI/(i*1.2),o=r*r,u=2*ys(.05,1,1-(n.bounce||0))*Math.sqrt(o);t={...t,mass:Ae.mass,stiffness:o,damping:u}}else{const i=JS(n);t={...t,...i,mass:Ae.mass},t.isResolvedFromDuration=!0}return t}function gh(n=Ae.visualDuration,t=Ae.bounce){const i=typeof n!="object"?{visualDuration:n,keyframes:[0,1],bounce:t}:n;let{restSpeed:r,restDelta:o}=i;const u=i.keyframes[0],c=i.keyframes[i.keyframes.length-1],m={done:!1,value:u},{stiffness:p,damping:g,mass:v,duration:E,velocity:x,isResolvedFromDuration:M}=iw({...i,velocity:-ei(i.velocity||0)}),B=x||0,K=g/(2*Math.sqrt(p*v)),L=c-u,J=ei(Math.sqrt(p/v)),it=Math.abs(L)<5;r||(r=it?Ae.restSpeed.granular:Ae.restSpeed.default),o||(o=it?Ae.restDelta.granular:Ae.restDelta.default);let et;if(K<1){const ht=Im(J,K);et=dt=>{const R=Math.exp(-K*J*dt);return c-R*((B+K*J*L)/ht*Math.sin(ht*dt)+L*Math.cos(ht*dt))}}else if(K===1)et=ht=>c-Math.exp(-J*ht)*(L+(B+J*L)*ht);else{const ht=J*Math.sqrt(K*K-1);et=dt=>{const R=Math.exp(-K*J*dt),C=Math.min(ht*dt,300);return c-R*((B+K*J*L)*Math.sinh(C)+ht*L*Math.cosh(C))/ht}}const mt={calculatedDuration:M&&E||null,next:ht=>{const dt=et(ht);if(M)m.done=ht>=E;else{let R=ht===0?B:0;K<1&&(R=ht===0?Fi(B):wE(et,ht,dt));const C=Math.abs(R)<=r,V=Math.abs(c-dt)<=o;m.done=C&&V}return m.value=m.done?c:dt,m},toString:()=>{const ht=Math.min(Pp(mt),ph),dt=SE(R=>mt.next(ht*R).value,ht,30);return ht+"ms "+dt},toTransition:()=>{}};return mt}gh.applyToOptions=n=>{const t=ZS(n,100,gh);return n.ease=t.ease,n.duration=Fi(t.duration),n.type="keyframes",n};function Om({keyframes:n,velocity:t=0,power:i=.8,timeConstant:r=325,bounceDamping:o=10,bounceStiffness:u=500,modifyTarget:c,min:m,max:p,restDelta:g=.5,restSpeed:v}){const E=n[0],x={done:!1,value:E},M=C=>m!==void 0&&C<m||p!==void 0&&C>p,B=C=>m===void 0?p:p===void 0||Math.abs(m-C)<Math.abs(p-C)?m:p;let K=i*t;const L=E+K,J=c===void 0?L:c(L);J!==L&&(K=J-E);const it=C=>-K*Math.exp(-C/r),et=C=>J+it(C),mt=C=>{const V=it(C),j=et(C);x.done=Math.abs(V)<=g,x.value=x.done?J:j};let ht,dt;const R=C=>{M(x.value)&&(ht=C,dt=gh({keyframes:[x.value,B(x.value)],velocity:wE(et,C,x.value),damping:o,stiffness:u,restDelta:g,restSpeed:v}))};return R(0),{calculatedDuration:null,next:C=>{let V=!1;return!dt&&ht===void 0&&(V=!0,mt(C),R(C)),ht!==void 0&&C>=ht?dt.next(C-ht):(!V&&mt(C),x)}}}function sw(n,t,i){const r=[],o=i||vs.mix||AE,u=n.length-1;for(let c=0;c<u;c++){let m=o(n[c],n[c+1]);if(t){const p=Array.isArray(t)?t[c]||ni:t;m=pu(p,m)}r.push(m)}return r}function rw(n,t,{clamp:i=!0,ease:r,mixer:o}={}){const u=n.length;if(Cp(u===t.length),u===1)return()=>t[0];if(u===2&&t[0]===t[1])return()=>t[1];const c=n[0]===n[1];n[0]>n[u-1]&&(n=[...n].reverse(),t=[...t].reverse());const m=sw(t,r,o),p=m.length,g=v=>{if(c&&v<n[0])return t[0];let E=0;if(p>1)for(;E<n.length-2&&!(v<n[E+1]);E++);const x=tu(n[E],n[E+1],v);return m[E](x)};return i?v=>g(ys(n[0],n[u-1],v)):g}function aw(n,t){const i=n[n.length-1];for(let r=1;r<=t;r++){const o=tu(0,t,r);n.push(Te(i,1,o))}}function ow(n){const t=[0];return aw(t,n.length-1),t}function lw(n,t){return n.map(i=>i*t)}function uw(n,t){return n.map(()=>t||dE).splice(0,n.length-1)}function Hl({duration:n=300,keyframes:t,times:i,ease:r="easeInOut"}){const o=TS(r)?r.map(g_):g_(r),u={done:!1,value:t[0]},c=lw(i&&i.length===t.length?i:ow(t),n),m=rw(c,t,{ease:Array.isArray(o)?o:uw(t,o)});return{calculatedDuration:n,next:p=>(u.value=m(p),u.done=p>=n,u)}}const cw=n=>n!==null;function Lp(n,{repeat:t,repeatType:i="loop"},r,o=1){const u=n.filter(cw),m=o<0||t&&i!=="loop"&&t%2===1?0:u.length-1;return!m||r===void 0?u[m]:r}const hw={decay:Om,inertia:Om,tween:Hl,keyframes:Hl,spring:gh};function CE(n){typeof n.type=="string"&&(n.type=hw[n.type])}class kp{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,i){return this.finished.then(t,i)}}const fw=n=>n/100;class zp extends kp{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var r,o;const{motionValue:i}=this.options;i&&i.updatedAt!==Rn.now()&&this.tick(Rn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(o=(r=this.options).onStop)==null||o.call(r))},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;CE(t);const{type:i=Hl,repeat:r=0,repeatDelay:o=0,repeatType:u,velocity:c=0}=t;let{keyframes:m}=t;const p=i||Hl;p!==Hl&&typeof m[0]!="number"&&(this.mixKeyframes=pu(fw,AE(m[0],m[1])),m=[0,100]);const g=p({...t,keyframes:m});u==="mirror"&&(this.mirroredGenerator=p({...t,keyframes:[...m].reverse(),velocity:-c})),g.calculatedDuration===null&&(g.calculatedDuration=Pp(g));const{calculatedDuration:v}=g;this.calculatedDuration=v,this.resolvedDuration=v+o,this.totalDuration=this.resolvedDuration*(r+1)-o,this.generator=g}updateTime(t){const i=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=i}tick(t,i=!1){const{generator:r,totalDuration:o,mixKeyframes:u,mirroredGenerator:c,resolvedDuration:m,calculatedDuration:p}=this;if(this.startTime===null)return r.next(0);const{delay:g=0,keyframes:v,repeat:E,repeatType:x,repeatDelay:M,type:B,onUpdate:K,finalKeyframe:L}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-o/this.speed,this.startTime)),i?this.currentTime=t:this.updateTime(t);const J=this.currentTime-g*(this.playbackSpeed>=0?1:-1),it=this.playbackSpeed>=0?J<0:J>o;this.currentTime=Math.max(J,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=o);let et=this.currentTime,mt=r;if(E){const C=Math.min(this.currentTime,o)/m;let V=Math.floor(C),j=C%1;!j&&C>=1&&(j=1),j===1&&V--,V=Math.min(V,E+1),!!(V%2)&&(x==="reverse"?(j=1-j,M&&(j-=M/m)):x==="mirror"&&(mt=c)),et=ys(0,1,j)*m}const ht=it?{done:!1,value:v[0]}:mt.next(et);u&&(ht.value=u(ht.value));let{done:dt}=ht;!it&&p!==null&&(dt=this.playbackSpeed>=0?this.currentTime>=o:this.currentTime<=0);const R=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&dt);return R&&B!==Om&&(ht.value=Lp(v,this.options,L,this.speed)),K&&K(ht.value),R&&this.finish(),ht}then(t,i){return this.finished.then(t,i)}get duration(){return ei(this.calculatedDuration)}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+ei(t)}get time(){return ei(this.currentTime)}set time(t){var i;t=Fi(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),(i=this.driver)==null||i.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(Rn.now());const i=this.playbackSpeed!==t;this.playbackSpeed=t,i&&(this.time=ei(this.currentTime))}play(){var o,u;if(this.isStopped)return;const{driver:t=XS,startTime:i}=this.options;this.driver||(this.driver=t(c=>this.tick(c))),(u=(o=this.options).onPlay)==null||u.call(o);const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=i??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Rn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var t,i;this.notifyFinished(),this.teardown(),this.state="finished",(i=(t=this.options).onComplete)==null||i.call(t)}cancel(){var t,i;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(i=(t=this.options).onCancel)==null||i.call(t)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){var i;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(i=this.driver)==null||i.stop(),t.observe(this)}}function dw(n){for(let t=1;t<n.length;t++)n[t]??(n[t]=n[t-1])}const Jr=n=>n*180/Math.PI,jm=n=>{const t=Jr(Math.atan2(n[1],n[0]));return Pm(t)},mw={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:n=>(Math.abs(n[0])+Math.abs(n[3]))/2,rotate:jm,rotateZ:jm,skewX:n=>Jr(Math.atan(n[1])),skewY:n=>Jr(Math.atan(n[2])),skew:n=>(Math.abs(n[1])+Math.abs(n[2]))/2},Pm=n=>(n=n%360,n<0&&(n+=360),n),b_=jm,x_=n=>Math.sqrt(n[0]*n[0]+n[1]*n[1]),A_=n=>Math.sqrt(n[4]*n[4]+n[5]*n[5]),pw={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:x_,scaleY:A_,scale:n=>(x_(n)+A_(n))/2,rotateX:n=>Pm(Jr(Math.atan2(n[6],n[5]))),rotateY:n=>Pm(Jr(Math.atan2(-n[2],n[0]))),rotateZ:b_,rotate:b_,skewX:n=>Jr(Math.atan(n[4])),skewY:n=>Jr(Math.atan(n[1])),skew:n=>(Math.abs(n[1])+Math.abs(n[4]))/2};function Lm(n){return n.includes("scale")?1:0}function km(n,t){if(!n||n==="none")return Lm(t);const i=n.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,o;if(i)r=pw,o=i;else{const m=n.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=mw,o=m}if(!o)return Lm(t);const u=r[t],c=o[1].split(",").map(yw);return typeof u=="function"?u(c):c[u]}const gw=(n,t)=>{const{transform:i="none"}=getComputedStyle(n);return km(i,t)};function yw(n){return parseFloat(n.trim())}const So=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],wo=new Set(So),S_=n=>n===Ao||n===wt,vw=new Set(["x","y","z"]),_w=So.filter(n=>!vw.has(n));function Tw(n){const t=[];return _w.forEach(i=>{const r=n.getValue(i);r!==void 0&&(t.push([i,r.get()]),r.set(i.startsWith("scale")?1:0))}),t}const ta={width:({x:n},{paddingLeft:t="0",paddingRight:i="0"})=>n.max-n.min-parseFloat(t)-parseFloat(i),height:({y:n},{paddingTop:t="0",paddingBottom:i="0"})=>n.max-n.min-parseFloat(t)-parseFloat(i),top:(n,{top:t})=>parseFloat(t),left:(n,{left:t})=>parseFloat(t),bottom:({y:n},{top:t})=>parseFloat(t)+(n.max-n.min),right:({x:n},{left:t})=>parseFloat(t)+(n.max-n.min),x:(n,{transform:t})=>km(t,"x"),y:(n,{transform:t})=>km(t,"y")};ta.translateX=ta.x;ta.translateY=ta.y;const ea=new Set;let zm=!1,Um=!1,Bm=!1;function RE(){if(Um){const n=Array.from(ea).filter(r=>r.needsMeasurement),t=new Set(n.map(r=>r.element)),i=new Map;t.forEach(r=>{const o=Tw(r);o.length&&(i.set(r,o),r.render())}),n.forEach(r=>r.measureInitialState()),t.forEach(r=>{r.render();const o=i.get(r);o&&o.forEach(([u,c])=>{var m;(m=r.getValue(u))==null||m.set(c)})}),n.forEach(r=>r.measureEndState()),n.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}Um=!1,zm=!1,ea.forEach(n=>n.complete(Bm)),ea.clear()}function VE(){ea.forEach(n=>{n.readKeyframes(),n.needsMeasurement&&(Um=!0)})}function Ew(){Bm=!0,VE(),RE(),Bm=!1}class Up{constructor(t,i,r,o,u,c=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=i,this.name=r,this.motionValue=o,this.element=u,this.isAsync=c}scheduleResolve(){this.state="scheduled",this.isAsync?(ea.add(this),zm||(zm=!0,_e.read(VE),_e.resolveKeyframes(RE))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:i,element:r,motionValue:o}=this;if(t[0]===null){const u=o==null?void 0:o.get(),c=t[t.length-1];if(u!==void 0)t[0]=u;else if(r&&i){const m=r.readValue(i,c);m!=null&&(t[0]=m)}t[0]===void 0&&(t[0]=c),o&&u===void 0&&o.set(t[0])}dw(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),ea.delete(this)}cancel(){this.state==="scheduled"&&(ea.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const bw=n=>n.startsWith("--");function xw(n,t,i){bw(t)?n.style.setProperty(t,i):n.style[t]=i}const Aw=Rp(()=>window.ScrollTimeline!==void 0),Sw={};function ww(n,t){const i=Rp(n);return()=>Sw[t]??i()}const DE=ww(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),kl=([n,t,i,r])=>`cubic-bezier(${n}, ${t}, ${i}, ${r})`,w_={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:kl([0,.65,.55,1]),circOut:kl([.55,0,1,.45]),backIn:kl([.31,.01,.66,-.59]),backOut:kl([.33,1.53,.69,.99])};function ME(n,t){if(n)return typeof n=="function"?DE()?SE(n,t):"ease-out":mE(n)?kl(n):Array.isArray(n)?n.map(i=>ME(i,t)||w_.easeOut):w_[n]}function Cw(n,t,i,{delay:r=0,duration:o=300,repeat:u=0,repeatType:c="loop",ease:m="easeOut",times:p}={},g=void 0){const v={[t]:i};p&&(v.offset=p);const E=ME(m,o);Array.isArray(E)&&(v.easing=E);const x={delay:r,duration:o,easing:Array.isArray(E)?"linear":E,fill:"both",iterations:u+1,direction:c==="reverse"?"alternate":"normal"};return g&&(x.pseudoElement=g),n.animate(v,x)}function NE(n){return typeof n=="function"&&"applyToOptions"in n}function Rw({type:n,...t}){return NE(n)&&DE()?n.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class Vw extends kp{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:i,name:r,keyframes:o,pseudoElement:u,allowFlatten:c=!1,finalKeyframe:m,onComplete:p}=t;this.isPseudoElement=!!u,this.allowFlatten=c,this.options=t,Cp(typeof t.type!="string");const g=Rw(t);this.animation=Cw(i,r,o,g,u),g.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!u){const v=Lp(o,this.options,m,this.speed);this.updateMotionValue?this.updateMotionValue(v):xw(i,r,v),this.animation.cancel()}p==null||p(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var t,i;(i=(t=this.animation).finish)==null||i.call(t)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var t,i;this.isPseudoElement||(i=(t=this.animation).commitStyles)==null||i.call(t)}get duration(){var i,r;const t=((r=(i=this.animation.effect)==null?void 0:i.getComputedTiming)==null?void 0:r.call(i).duration)||0;return ei(Number(t))}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+ei(t)}get time(){return ei(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=Fi(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:i}){var r;return this.allowFlatten&&((r=this.animation.effect)==null||r.updateTiming({easing:"linear"})),this.animation.onfinish=null,t&&Aw()?(this.animation.timeline=t,ni):i(this)}}const IE={anticipate:cE,backInOut:uE,circInOut:fE};function Dw(n){return n in IE}function Mw(n){typeof n.ease=="string"&&Dw(n.ease)&&(n.ease=IE[n.ease])}const C_=10;class Nw extends Vw{constructor(t){Mw(t),CE(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:i,onUpdate:r,onComplete:o,element:u,...c}=this.options;if(!i)return;if(t!==void 0){i.set(t);return}const m=new zp({...c,autoplay:!1}),p=Fi(this.finishedTime??this.time);i.setWithVelocity(m.sample(p-C_).value,m.sample(p).value,C_),m.stop()}}const R_=(n,t)=>t==="zIndex"?!1:!!(typeof n=="number"||Array.isArray(n)||typeof n=="string"&&(lr.test(n)||n==="0")&&!n.startsWith("url("));function Iw(n){const t=n[0];if(n.length===1)return!0;for(let i=0;i<n.length;i++)if(n[i]!==t)return!0}function Ow(n,t,i,r){const o=n[0];if(o===null)return!1;if(t==="display"||t==="visibility")return!0;const u=n[n.length-1],c=R_(o,t),m=R_(u,t);return!c||!m?!1:Iw(n)||(i==="spring"||NE(i))&&r}function qm(n){n.duration=0,n.type="keyframes"}const jw=new Set(["opacity","clipPath","filter","transform"]),Pw=Rp(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function Lw(n){var v;const{motionValue:t,name:i,repeatDelay:r,repeatType:o,damping:u,type:c}=n;if(!(((v=t==null?void 0:t.owner)==null?void 0:v.current)instanceof HTMLElement))return!1;const{onUpdate:p,transformTemplate:g}=t.owner.getProps();return Pw()&&i&&jw.has(i)&&(i!=="transform"||!g)&&!p&&!r&&o!=="mirror"&&u!==0&&c!=="inertia"}const kw=40;class zw extends kp{constructor({autoplay:t=!0,delay:i=0,type:r="keyframes",repeat:o=0,repeatDelay:u=0,repeatType:c="loop",keyframes:m,name:p,motionValue:g,element:v,...E}){var B;super(),this.stop=()=>{var K,L;this._animation&&(this._animation.stop(),(K=this.stopTimeline)==null||K.call(this)),(L=this.keyframeResolver)==null||L.cancel()},this.createdAt=Rn.now();const x={autoplay:t,delay:i,type:r,repeat:o,repeatDelay:u,repeatType:c,name:p,motionValue:g,element:v,...E},M=(v==null?void 0:v.KeyframeResolver)||Up;this.keyframeResolver=new M(m,(K,L,J)=>this.onKeyframesResolved(K,L,x,!J),p,g,v),(B=this.keyframeResolver)==null||B.scheduleResolve()}onKeyframesResolved(t,i,r,o){this.keyframeResolver=void 0;const{name:u,type:c,velocity:m,delay:p,isHandoff:g,onUpdate:v}=r;this.resolvedAt=Rn.now(),Ow(t,u,c,m)||((vs.instantAnimations||!p)&&(v==null||v(Lp(t,r,i))),t[0]=t[t.length-1],qm(r),r.repeat=0);const x={startTime:o?this.resolvedAt?this.resolvedAt-this.createdAt>kw?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:i,...r,keyframes:t},M=!g&&Lw(x)?new Nw({...x,element:x.motionValue.owner.current}):new zp(x);M.finished.then(()=>this.notifyFinished()).catch(ni),this.pendingTimeline&&(this.stopTimeline=M.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=M}get finished(){return this._animation?this.animation.finished:this._finished}then(t,i){return this.finished.finally(t).then(()=>{})}get animation(){var t;return this._animation||((t=this.keyframeResolver)==null||t.resume(),Ew()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var t;this._animation&&this.animation.cancel(),(t=this.keyframeResolver)==null||t.cancel()}}const Uw=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function Bw(n){const t=Uw.exec(n);if(!t)return[,];const[,i,r,o]=t;return[`--${i??r}`,o]}function OE(n,t,i=1){const[r,o]=Bw(n);if(!r)return;const u=window.getComputedStyle(t).getPropertyValue(r);if(u){const c=u.trim();return eE(c)?parseFloat(c):c}return Np(o)?OE(o,t,i+1):o}function Bp(n,t){return(n==null?void 0:n[t])??(n==null?void 0:n.default)??n}const jE=new Set(["width","height","top","left","right","bottom",...So]),qw={test:n=>n==="auto",parse:n=>n},PE=n=>t=>t.test(n),LE=[Ao,wt,Hi,er,IS,NS,qw],V_=n=>LE.find(PE(n));function Fw(n){return typeof n=="number"?n===0:n!==null?n==="none"||n==="0"||iE(n):!0}const Hw=new Set(["brightness","contrast","saturate","opacity"]);function Gw(n){const[t,i]=n.slice(0,-1).split("(");if(t==="drop-shadow")return n;const[r]=i.match(Ip)||[];if(!r)return n;const o=i.replace(r,"");let u=Hw.has(t)?1:0;return r!==i&&(u*=100),t+"("+u+o+")"}const Kw=/\b([a-z-]*)\(.*?\)/gu,Fm={...lr,getAnimatableNone:n=>{const t=n.match(Kw);return t?t.map(Gw).join(" "):n}},D_={...Ao,transform:Math.round},Yw={rotate:er,rotateX:er,rotateY:er,rotateZ:er,scale:Zc,scaleX:Zc,scaleY:Zc,scaleZ:Zc,skew:er,skewX:er,skewY:er,distance:wt,translateX:wt,translateY:wt,translateZ:wt,x:wt,y:wt,z:wt,perspective:wt,transformPerspective:wt,opacity:eu,originX:y_,originY:y_,originZ:wt},qp={borderWidth:wt,borderTopWidth:wt,borderRightWidth:wt,borderBottomWidth:wt,borderLeftWidth:wt,borderRadius:wt,radius:wt,borderTopLeftRadius:wt,borderTopRightRadius:wt,borderBottomRightRadius:wt,borderBottomLeftRadius:wt,width:wt,maxWidth:wt,height:wt,maxHeight:wt,top:wt,right:wt,bottom:wt,left:wt,padding:wt,paddingTop:wt,paddingRight:wt,paddingBottom:wt,paddingLeft:wt,margin:wt,marginTop:wt,marginRight:wt,marginBottom:wt,marginLeft:wt,backgroundPositionX:wt,backgroundPositionY:wt,...Yw,zIndex:D_,fillOpacity:eu,strokeOpacity:eu,numOctaves:D_},Qw={...qp,color:Ue,backgroundColor:Ue,outlineColor:Ue,fill:Ue,stroke:Ue,borderColor:Ue,borderTopColor:Ue,borderRightColor:Ue,borderBottomColor:Ue,borderLeftColor:Ue,filter:Fm,WebkitFilter:Fm},kE=n=>Qw[n];function zE(n,t){let i=kE(n);return i!==Fm&&(i=lr),i.getAnimatableNone?i.getAnimatableNone(t):void 0}const Xw=new Set(["auto","none","0"]);function Zw(n,t,i){let r=0,o;for(;r<n.length&&!o;){const u=n[r];typeof u=="string"&&!Xw.has(u)&&nu(u).values.length&&(o=n[r]),r++}if(o&&i)for(const u of t)n[u]=zE(i,o)}class $w extends Up{constructor(t,i,r,o,u){super(t,i,r,o,u,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:i,name:r}=this;if(!i||!i.current)return;super.readKeyframes();for(let p=0;p<t.length;p++){let g=t[p];if(typeof g=="string"&&(g=g.trim(),Np(g))){const v=OE(g,i.current);v!==void 0&&(t[p]=v),p===t.length-1&&(this.finalKeyframe=g)}}if(this.resolveNoneKeyframes(),!jE.has(r)||t.length!==2)return;const[o,u]=t,c=V_(o),m=V_(u);if(c!==m)if(S_(c)&&S_(m))for(let p=0;p<t.length;p++){const g=t[p];typeof g=="string"&&(t[p]=parseFloat(g))}else ta[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:i}=this,r=[];for(let o=0;o<t.length;o++)(t[o]===null||Fw(t[o]))&&r.push(o);r.length&&Zw(t,r,i)}measureInitialState(){const{element:t,unresolvedKeyframes:i,name:r}=this;if(!t||!t.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=ta[r](t.measureViewportBox(),window.getComputedStyle(t.current)),i[0]=this.measuredOrigin;const o=i[i.length-1];o!==void 0&&t.getValue(r,o).jump(o,!1)}measureEndState(){var m;const{element:t,name:i,unresolvedKeyframes:r}=this;if(!t||!t.current)return;const o=t.getValue(i);o&&o.jump(this.measuredOrigin,!1);const u=r.length-1,c=r[u];r[u]=ta[i](t.measureViewportBox(),window.getComputedStyle(t.current)),c!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=c),(m=this.removedTransforms)!=null&&m.length&&this.removedTransforms.forEach(([p,g])=>{t.getValue(p).set(g)}),this.resolveNoneKeyframes()}}function Jw(n,t,i){if(n instanceof EventTarget)return[n];if(typeof n=="string"){let r=document;const o=(i==null?void 0:i[n])??r.querySelectorAll(n);return o?Array.from(o):[]}return Array.from(n)}const UE=(n,t)=>t&&typeof n=="number"?t.transform(n):n;function BE(n){return nE(n)&&"offsetHeight"in n}const M_=30,Ww=n=>!isNaN(parseFloat(n));class tC{constructor(t,i={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{var u;const o=Rn.now();if(this.updatedAt!==o&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&((u=this.events.change)==null||u.notify(this.current),this.dependents))for(const c of this.dependents)c.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=i.owner}setCurrent(t){this.current=t,this.updatedAt=Rn.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=Ww(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,i){this.events[t]||(this.events[t]=new Vp);const r=this.events[t].add(i);return t==="change"?()=>{r(),_e.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,i){this.passiveEffect=t,this.stopPassiveEffect=i}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,i,r){this.set(i),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-r}jump(t,i=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,i&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var t;(t=this.events.change)==null||t.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=Rn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>M_)return 0;const i=Math.min(this.updatedAt-this.prevUpdatedAt,M_);return sE(parseFloat(this.current)-parseFloat(this.prevFrameValue),i)}start(t){return this.stop(),new Promise(i=>{this.hasAnimated=!0,this.animation=t(i),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var t,i;(t=this.dependents)==null||t.clear(),(i=this.events.destroy)==null||i.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function yo(n,t){return new tC(n,t)}const{schedule:Fp}=pE(queueMicrotask,!1),pi={x:!1,y:!1};function qE(){return pi.x||pi.y}function eC(n){return n==="x"||n==="y"?pi[n]?null:(pi[n]=!0,()=>{pi[n]=!1}):pi.x||pi.y?null:(pi.x=pi.y=!0,()=>{pi.x=pi.y=!1})}function FE(n,t){const i=Jw(n),r=new AbortController,o={passive:!0,...t,signal:r.signal};return[i,o,()=>r.abort()]}function N_(n){return!(n.pointerType==="touch"||qE())}function nC(n,t,i={}){const[r,o,u]=FE(n,i),c=m=>{if(!N_(m))return;const{target:p}=m,g=t(p,m);if(typeof g!="function"||!p)return;const v=E=>{N_(E)&&(g(E),p.removeEventListener("pointerleave",v))};p.addEventListener("pointerleave",v,o)};return r.forEach(m=>{m.addEventListener("pointerenter",c,o)}),u}const HE=(n,t)=>t?n===t?!0:HE(n,t.parentElement):!1,Hp=n=>n.pointerType==="mouse"?typeof n.button!="number"||n.button<=0:n.isPrimary!==!1,iC=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function sC(n){return iC.has(n.tagName)||n.tabIndex!==-1}const rh=new WeakSet;function I_(n){return t=>{t.key==="Enter"&&n(t)}}function um(n,t){n.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const rC=(n,t)=>{const i=n.currentTarget;if(!i)return;const r=I_(()=>{if(rh.has(i))return;um(i,"down");const o=I_(()=>{um(i,"up")}),u=()=>um(i,"cancel");i.addEventListener("keyup",o,t),i.addEventListener("blur",u,t)});i.addEventListener("keydown",r,t),i.addEventListener("blur",()=>i.removeEventListener("keydown",r),t)};function O_(n){return Hp(n)&&!qE()}function aC(n,t,i={}){const[r,o,u]=FE(n,i),c=m=>{const p=m.currentTarget;if(!O_(m))return;rh.add(p);const g=t(p,m),v=(M,B)=>{window.removeEventListener("pointerup",E),window.removeEventListener("pointercancel",x),rh.has(p)&&rh.delete(p),O_(M)&&typeof g=="function"&&g(M,{success:B})},E=M=>{v(M,p===window||p===document||i.useGlobalTarget||HE(p,M.target))},x=M=>{v(M,!1)};window.addEventListener("pointerup",E,o),window.addEventListener("pointercancel",x,o)};return r.forEach(m=>{(i.useGlobalTarget?window:m).addEventListener("pointerdown",c,o),BE(m)&&(m.addEventListener("focus",g=>rC(g,o)),!sC(m)&&!m.hasAttribute("tabindex")&&(m.tabIndex=0))}),u}function GE(n){return nE(n)&&"ownerSVGElement"in n}function oC(n){return GE(n)&&n.tagName==="svg"}const pn=n=>!!(n&&n.getVelocity),lC=[...LE,Ue,lr],uC=n=>lC.find(PE(n)),Gp=ot.createContext({transformPagePoint:n=>n,isStatic:!1,reducedMotion:"never"});function j_(n,t){if(typeof n=="function")return n(t);n!=null&&(n.current=t)}function cC(...n){return t=>{let i=!1;const r=n.map(o=>{const u=j_(o,t);return!i&&typeof u=="function"&&(i=!0),u});if(i)return()=>{for(let o=0;o<r.length;o++){const u=r[o];typeof u=="function"?u():j_(n[o],null)}}}}function hC(...n){return ot.useCallback(cC(...n),n)}class fC extends ot.Component{getSnapshotBeforeUpdate(t){const i=this.props.childRef.current;if(i&&t.isPresent&&!this.props.isPresent){const r=i.offsetParent,o=BE(r)&&r.offsetWidth||0,u=this.props.sizeRef.current;u.height=i.offsetHeight||0,u.width=i.offsetWidth||0,u.top=i.offsetTop,u.left=i.offsetLeft,u.right=o-u.width-u.left}return null}componentDidUpdate(){}render(){return this.props.children}}function dC({children:n,isPresent:t,anchorX:i,root:r}){const o=ot.useId(),u=ot.useRef(null),c=ot.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:m}=ot.useContext(Gp),p=hC(u,n==null?void 0:n.ref);return ot.useInsertionEffect(()=>{const{width:g,height:v,top:E,left:x,right:M}=c.current;if(t||!u.current||!g||!v)return;const B=i==="left"?`left: ${x}`:`right: ${M}`;u.current.dataset.motionPopId=o;const K=document.createElement("style");m&&(K.nonce=m);const L=r??document.head;return L.appendChild(K),K.sheet&&K.sheet.insertRule(`
          [data-motion-pop-id="${o}"] {
            position: absolute !important;
            width: ${g}px !important;
            height: ${v}px !important;
            ${B}px !important;
            top: ${E}px !important;
          }
        `),()=>{L.contains(K)&&L.removeChild(K)}},[t]),A.jsx(fC,{isPresent:t,childRef:u,sizeRef:c,children:ot.cloneElement(n,{ref:p})})}const mC=({children:n,initial:t,isPresent:i,onExitComplete:r,custom:o,presenceAffectsLayout:u,mode:c,anchorX:m,root:p})=>{const g=xp(pC),v=ot.useId();let E=!0,x=ot.useMemo(()=>(E=!1,{id:v,initial:t,isPresent:i,custom:o,onExitComplete:M=>{g.set(M,!0);for(const B of g.values())if(!B)return;r&&r()},register:M=>(g.set(M,!1),()=>g.delete(M))}),[i,g,r]);return u&&E&&(x={...x}),ot.useMemo(()=>{g.forEach((M,B)=>g.set(B,!1))},[i]),ot.useEffect(()=>{!i&&!g.size&&r&&r()},[i]),c==="popLayout"&&(n=A.jsx(dC,{isPresent:i,anchorX:m,root:p,children:n})),A.jsx(Lh.Provider,{value:x,children:n})};function pC(){return new Map}function KE(n=!0){const t=ot.useContext(Lh);if(t===null)return[!0,null];const{isPresent:i,onExitComplete:r,register:o}=t,u=ot.useId();ot.useEffect(()=>{if(n)return o(u)},[n]);const c=ot.useCallback(()=>n&&r&&r(u),[u,r,n]);return!i&&r?[!1,c]:[!0]}const $c=n=>n.key||"";function P_(n){const t=[];return ot.Children.forEach(n,i=>{ot.isValidElement(i)&&t.push(i)}),t}const YE=({children:n,custom:t,initial:i=!0,onExitComplete:r,presenceAffectsLayout:o=!0,mode:u="sync",propagate:c=!1,anchorX:m="left",root:p})=>{const[g,v]=KE(c),E=ot.useMemo(()=>P_(n),[n]),x=c&&!g?[]:E.map($c),M=ot.useRef(!0),B=ot.useRef(E),K=xp(()=>new Map),[L,J]=ot.useState(E),[it,et]=ot.useState(E);tE(()=>{M.current=!1,B.current=E;for(let dt=0;dt<it.length;dt++){const R=$c(it[dt]);x.includes(R)?K.delete(R):K.get(R)!==!0&&K.set(R,!1)}},[it,x.length,x.join("-")]);const mt=[];if(E!==L){let dt=[...E];for(let R=0;R<it.length;R++){const C=it[R],V=$c(C);x.includes(V)||(dt.splice(R,0,C),mt.push(C))}return u==="wait"&&mt.length&&(dt=mt),et(P_(dt)),J(E),null}const{forceRender:ht}=ot.useContext(bp);return A.jsx(A.Fragment,{children:it.map(dt=>{const R=$c(dt),C=c&&!g?!1:E===it||x.includes(R),V=()=>{if(K.has(R))K.set(R,!0);else return;let j=!0;K.forEach(I=>{I||(j=!1)}),j&&(ht==null||ht(),et(B.current),c&&(v==null||v()),r&&r())};return A.jsx(mC,{isPresent:C,initial:!M.current||i?void 0:!1,custom:t,presenceAffectsLayout:o,mode:u,root:p,onExitComplete:C?void 0:V,anchorX:m,children:dt},R)})})},QE=ot.createContext({strict:!1}),L_={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},vo={};for(const n in L_)vo[n]={isEnabled:t=>L_[n].some(i=>!!t[i])};function gC(n){for(const t in n)vo[t]={...vo[t],...n[t]}}const yC=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function yh(n){return n.startsWith("while")||n.startsWith("drag")&&n!=="draggable"||n.startsWith("layout")||n.startsWith("onTap")||n.startsWith("onPan")||n.startsWith("onLayout")||yC.has(n)}let XE=n=>!yh(n);function vC(n){typeof n=="function"&&(XE=t=>t.startsWith("on")?!yh(t):n(t))}try{vC(require("@emotion/is-prop-valid").default)}catch{}function _C(n,t,i){const r={};for(const o in n)o==="values"&&typeof n.values=="object"||(XE(o)||i===!0&&yh(o)||!t&&!yh(o)||n.draggable&&o.startsWith("onDrag"))&&(r[o]=n[o]);return r}const kh=ot.createContext({});function zh(n){return n!==null&&typeof n=="object"&&typeof n.start=="function"}function iu(n){return typeof n=="string"||Array.isArray(n)}const Kp=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Yp=["initial",...Kp];function Uh(n){return zh(n.animate)||Yp.some(t=>iu(n[t]))}function ZE(n){return!!(Uh(n)||n.variants)}function TC(n,t){if(Uh(n)){const{initial:i,animate:r}=n;return{initial:i===!1||iu(i)?i:void 0,animate:iu(r)?r:void 0}}return n.inherit!==!1?t:{}}function EC(n){const{initial:t,animate:i}=TC(n,ot.useContext(kh));return ot.useMemo(()=>({initial:t,animate:i}),[k_(t),k_(i)])}function k_(n){return Array.isArray(n)?n.join(" "):n}function z_(n,t){return t.max===t.min?0:n/(t.max-t.min)*100}const jl={correct:(n,t)=>{if(!t.target)return n;if(typeof n=="string")if(wt.test(n))n=parseFloat(n);else return n;const i=z_(n,t.target.x),r=z_(n,t.target.y);return`${i}% ${r}%`}},bC={correct:(n,{treeScale:t,projectionDelta:i})=>{const r=n,o=lr.parse(n);if(o.length>5)return r;const u=lr.createTransformer(n),c=typeof o[0]!="number"?1:0,m=i.x.scale*t.x,p=i.y.scale*t.y;o[0+c]/=m,o[1+c]/=p;const g=Te(m,p,.5);return typeof o[2+c]=="number"&&(o[2+c]/=g),typeof o[3+c]=="number"&&(o[3+c]/=g),u(o)}},Hm={borderRadius:{...jl,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:jl,borderTopRightRadius:jl,borderBottomLeftRadius:jl,borderBottomRightRadius:jl,boxShadow:bC};function $E(n,{layout:t,layoutId:i}){return wo.has(n)||n.startsWith("origin")||(t||i!==void 0)&&(!!Hm[n]||n==="opacity")}const xC={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},AC=So.length;function SC(n,t,i){let r="",o=!0;for(let u=0;u<AC;u++){const c=So[u],m=n[c];if(m===void 0)continue;let p=!0;if(typeof m=="number"?p=m===(c.startsWith("scale")?1:0):p=parseFloat(m)===0,!p||i){const g=UE(m,qp[c]);if(!p){o=!1;const v=xC[c]||c;r+=`${v}(${g}) `}i&&(t[c]=g)}}return r=r.trim(),i?r=i(t,o?"":r):o&&(r="none"),r}function Qp(n,t,i){const{style:r,vars:o,transformOrigin:u}=n;let c=!1,m=!1;for(const p in t){const g=t[p];if(wo.has(p)){c=!0;continue}else if(yE(p)){o[p]=g;continue}else{const v=UE(g,qp[p]);p.startsWith("origin")?(m=!0,u[p]=v):r[p]=v}}if(t.transform||(c||i?r.transform=SC(t,n.transform,i):r.transform&&(r.transform="none")),m){const{originX:p="50%",originY:g="50%",originZ:v=0}=u;r.transformOrigin=`${p} ${g} ${v}`}}const Xp=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function JE(n,t,i){for(const r in t)!pn(t[r])&&!$E(r,i)&&(n[r]=t[r])}function wC({transformTemplate:n},t){return ot.useMemo(()=>{const i=Xp();return Qp(i,t,n),Object.assign({},i.vars,i.style)},[t])}function CC(n,t){const i=n.style||{},r={};return JE(r,i,n),Object.assign(r,wC(n,t)),r}function RC(n,t){const i={},r=CC(n,t);return n.drag&&n.dragListener!==!1&&(i.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=n.drag===!0?"none":`pan-${n.drag==="x"?"y":"x"}`),n.tabIndex===void 0&&(n.onTap||n.onTapStart||n.whileTap)&&(i.tabIndex=0),i.style=r,i}const VC={offset:"stroke-dashoffset",array:"stroke-dasharray"},DC={offset:"strokeDashoffset",array:"strokeDasharray"};function MC(n,t,i=1,r=0,o=!0){n.pathLength=1;const u=o?VC:DC;n[u.offset]=wt.transform(-r);const c=wt.transform(t),m=wt.transform(i);n[u.array]=`${c} ${m}`}function WE(n,{attrX:t,attrY:i,attrScale:r,pathLength:o,pathSpacing:u=1,pathOffset:c=0,...m},p,g,v){if(Qp(n,m,g),p){n.style.viewBox&&(n.attrs.viewBox=n.style.viewBox);return}n.attrs=n.style,n.style={};const{attrs:E,style:x}=n;E.transform&&(x.transform=E.transform,delete E.transform),(x.transform||E.transformOrigin)&&(x.transformOrigin=E.transformOrigin??"50% 50%",delete E.transformOrigin),x.transform&&(x.transformBox=(v==null?void 0:v.transformBox)??"fill-box",delete E.transformBox),t!==void 0&&(E.x=t),i!==void 0&&(E.y=i),r!==void 0&&(E.scale=r),o!==void 0&&MC(E,o,u,c,!1)}const tb=()=>({...Xp(),attrs:{}}),eb=n=>typeof n=="string"&&n.toLowerCase()==="svg";function NC(n,t,i,r){const o=ot.useMemo(()=>{const u=tb();return WE(u,t,eb(r),n.transformTemplate,n.style),{...u.attrs,style:{...u.style}}},[t]);if(n.style){const u={};JE(u,n.style,n),o.style={...u,...o.style}}return o}const IC=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Zp(n){return typeof n!="string"||n.includes("-")?!1:!!(IC.indexOf(n)>-1||/[A-Z]/u.test(n))}function OC(n,t,i,{latestValues:r},o,u=!1){const m=(Zp(n)?NC:RC)(t,r,o,n),p=_C(t,typeof n=="string",u),g=n!==ot.Fragment?{...p,...m,ref:i}:{},{children:v}=t,E=ot.useMemo(()=>pn(v)?v.get():v,[v]);return ot.createElement(n,{...g,children:E})}function U_(n){const t=[{},{}];return n==null||n.values.forEach((i,r)=>{t[0][r]=i.get(),t[1][r]=i.getVelocity()}),t}function $p(n,t,i,r){if(typeof t=="function"){const[o,u]=U_(r);t=t(i!==void 0?i:n.custom,o,u)}if(typeof t=="string"&&(t=n.variants&&n.variants[t]),typeof t=="function"){const[o,u]=U_(r);t=t(i!==void 0?i:n.custom,o,u)}return t}function ah(n){return pn(n)?n.get():n}function jC({scrapeMotionValuesFromProps:n,createRenderState:t},i,r,o){return{latestValues:PC(i,r,o,n),renderState:t()}}function PC(n,t,i,r){const o={},u=r(n,{});for(const x in u)o[x]=ah(u[x]);let{initial:c,animate:m}=n;const p=Uh(n),g=ZE(n);t&&g&&!p&&n.inherit!==!1&&(c===void 0&&(c=t.initial),m===void 0&&(m=t.animate));let v=i?i.initial===!1:!1;v=v||c===!1;const E=v?m:c;if(E&&typeof E!="boolean"&&!zh(E)){const x=Array.isArray(E)?E:[E];for(let M=0;M<x.length;M++){const B=$p(n,x[M]);if(B){const{transitionEnd:K,transition:L,...J}=B;for(const it in J){let et=J[it];if(Array.isArray(et)){const mt=v?et.length-1:0;et=et[mt]}et!==null&&(o[it]=et)}for(const it in K)o[it]=K[it]}}}return o}const nb=n=>(t,i)=>{const r=ot.useContext(kh),o=ot.useContext(Lh),u=()=>jC(n,t,r,o);return i?u():xp(u)};function Jp(n,t,i){var u;const{style:r}=n,o={};for(const c in r)(pn(r[c])||t.style&&pn(t.style[c])||$E(c,n)||((u=i==null?void 0:i.getValue(c))==null?void 0:u.liveStyle)!==void 0)&&(o[c]=r[c]);return o}const LC=nb({scrapeMotionValuesFromProps:Jp,createRenderState:Xp});function ib(n,t,i){const r=Jp(n,t,i);for(const o in n)if(pn(n[o])||pn(t[o])){const u=So.indexOf(o)!==-1?"attr"+o.charAt(0).toUpperCase()+o.substring(1):o;r[u]=n[o]}return r}const kC=nb({scrapeMotionValuesFromProps:ib,createRenderState:tb}),zC=Symbol.for("motionComponentSymbol");function oo(n){return n&&typeof n=="object"&&Object.prototype.hasOwnProperty.call(n,"current")}function UC(n,t,i){return ot.useCallback(r=>{r&&n.onMount&&n.onMount(r),t&&(r?t.mount(r):t.unmount()),i&&(typeof i=="function"?i(r):oo(i)&&(i.current=r))},[t])}const Wp=n=>n.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),BC="framerAppearId",sb="data-"+Wp(BC),rb=ot.createContext({});function qC(n,t,i,r,o){var K,L;const{visualElement:u}=ot.useContext(kh),c=ot.useContext(QE),m=ot.useContext(Lh),p=ot.useContext(Gp).reducedMotion,g=ot.useRef(null);r=r||c.renderer,!g.current&&r&&(g.current=r(n,{visualState:t,parent:u,props:i,presenceContext:m,blockInitialAnimation:m?m.initial===!1:!1,reducedMotionConfig:p}));const v=g.current,E=ot.useContext(rb);v&&!v.projection&&o&&(v.type==="html"||v.type==="svg")&&FC(g.current,i,o,E);const x=ot.useRef(!1);ot.useInsertionEffect(()=>{v&&x.current&&v.update(i,m)});const M=i[sb],B=ot.useRef(!!M&&!((K=window.MotionHandoffIsComplete)!=null&&K.call(window,M))&&((L=window.MotionHasOptimisedAnimation)==null?void 0:L.call(window,M)));return tE(()=>{v&&(x.current=!0,window.MotionIsMounted=!0,v.updateFeatures(),v.scheduleRenderMicrotask(),B.current&&v.animationState&&v.animationState.animateChanges())}),ot.useEffect(()=>{v&&(!B.current&&v.animationState&&v.animationState.animateChanges(),B.current&&(queueMicrotask(()=>{var J;(J=window.MotionHandoffMarkAsComplete)==null||J.call(window,M)}),B.current=!1),v.enteringChildren=void 0)}),v}function FC(n,t,i,r){const{layoutId:o,layout:u,drag:c,dragConstraints:m,layoutScroll:p,layoutRoot:g,layoutCrossfade:v}=t;n.projection=new i(n.latestValues,t["data-framer-portal-id"]?void 0:ab(n.parent)),n.projection.setOptions({layoutId:o,layout:u,alwaysMeasureLayout:!!c||m&&oo(m),visualElement:n,animationType:typeof u=="string"?u:"both",initialPromotionConfig:r,crossfade:v,layoutScroll:p,layoutRoot:g})}function ab(n){if(n)return n.options.allowProjection!==!1?n.projection:ab(n.parent)}function cm(n,{forwardMotionProps:t=!1}={},i,r){i&&gC(i);const o=Zp(n)?kC:LC;function u(m,p){let g;const v={...ot.useContext(Gp),...m,layoutId:HC(m)},{isStatic:E}=v,x=EC(m),M=o(m,E);if(!E&&Ap){GC();const B=KC(v);g=B.MeasureLayout,x.visualElement=qC(n,M,v,r,B.ProjectionNode)}return A.jsxs(kh.Provider,{value:x,children:[g&&x.visualElement?A.jsx(g,{visualElement:x.visualElement,...v}):null,OC(n,m,UC(M,x.visualElement,p),M,E,t)]})}u.displayName=`motion.${typeof n=="string"?n:`create(${n.displayName??n.name??""})`}`;const c=ot.forwardRef(u);return c[zC]=n,c}function HC({layoutId:n}){const t=ot.useContext(bp).id;return t&&n!==void 0?t+"-"+n:n}function GC(n,t){ot.useContext(QE).strict}function KC(n){const{drag:t,layout:i}=vo;if(!t&&!i)return{};const r={...t,...i};return{MeasureLayout:t!=null&&t.isEnabled(n)||i!=null&&i.isEnabled(n)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function YC(n,t){if(typeof Proxy>"u")return cm;const i=new Map,r=(u,c)=>cm(u,c,n,t),o=(u,c)=>r(u,c);return new Proxy(o,{get:(u,c)=>c==="create"?r:(i.has(c)||i.set(c,cm(c,void 0,n,t)),i.get(c))})}function ob({top:n,left:t,right:i,bottom:r}){return{x:{min:t,max:i},y:{min:n,max:r}}}function QC({x:n,y:t}){return{top:t.min,right:n.max,bottom:t.max,left:n.min}}function XC(n,t){if(!t)return n;const i=t({x:n.left,y:n.top}),r=t({x:n.right,y:n.bottom});return{top:i.y,left:i.x,bottom:r.y,right:r.x}}function hm(n){return n===void 0||n===1}function Gm({scale:n,scaleX:t,scaleY:i}){return!hm(n)||!hm(t)||!hm(i)}function Xr(n){return Gm(n)||lb(n)||n.z||n.rotate||n.rotateX||n.rotateY||n.skewX||n.skewY}function lb(n){return B_(n.x)||B_(n.y)}function B_(n){return n&&n!=="0%"}function vh(n,t,i){const r=n-i,o=t*r;return i+o}function q_(n,t,i,r,o){return o!==void 0&&(n=vh(n,o,r)),vh(n,i,r)+t}function Km(n,t=0,i=1,r,o){n.min=q_(n.min,t,i,r,o),n.max=q_(n.max,t,i,r,o)}function ub(n,{x:t,y:i}){Km(n.x,t.translate,t.scale,t.originPoint),Km(n.y,i.translate,i.scale,i.originPoint)}const F_=.999999999999,H_=1.0000000000001;function ZC(n,t,i,r=!1){const o=i.length;if(!o)return;t.x=t.y=1;let u,c;for(let m=0;m<o;m++){u=i[m],c=u.projectionDelta;const{visualElement:p}=u.options;p&&p.props.style&&p.props.style.display==="contents"||(r&&u.options.layoutScroll&&u.scroll&&u!==u.root&&uo(n,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),c&&(t.x*=c.x.scale,t.y*=c.y.scale,ub(n,c)),r&&Xr(u.latestValues)&&uo(n,u.latestValues))}t.x<H_&&t.x>F_&&(t.x=1),t.y<H_&&t.y>F_&&(t.y=1)}function lo(n,t){n.min=n.min+t,n.max=n.max+t}function G_(n,t,i,r,o=.5){const u=Te(n.min,n.max,o);Km(n,t,i,u,r)}function uo(n,t){G_(n.x,t.x,t.scaleX,t.scale,t.originX),G_(n.y,t.y,t.scaleY,t.scale,t.originY)}function cb(n,t){return ob(XC(n.getBoundingClientRect(),t))}function $C(n,t,i){const r=cb(n,i),{scroll:o}=t;return o&&(lo(r.x,o.offset.x),lo(r.y,o.offset.y)),r}const K_=()=>({translate:0,scale:1,origin:0,originPoint:0}),co=()=>({x:K_(),y:K_()}),Y_=()=>({min:0,max:0}),Ge=()=>({x:Y_(),y:Y_()}),Ym={current:null},hb={current:!1};function JC(){if(hb.current=!0,!!Ap)if(window.matchMedia){const n=window.matchMedia("(prefers-reduced-motion)"),t=()=>Ym.current=n.matches;n.addEventListener("change",t),t()}else Ym.current=!1}const WC=new WeakMap;function tR(n,t,i){for(const r in t){const o=t[r],u=i[r];if(pn(o))n.addValue(r,o);else if(pn(u))n.addValue(r,yo(o,{owner:n}));else if(u!==o)if(n.hasValue(r)){const c=n.getValue(r);c.liveStyle===!0?c.jump(o):c.hasAnimated||c.set(o)}else{const c=n.getStaticValue(r);n.addValue(r,yo(c!==void 0?c:o,{owner:n}))}}for(const r in i)t[r]===void 0&&n.removeValue(r);return t}const Q_=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class eR{scrapeMotionValuesFromProps(t,i,r){return{}}constructor({parent:t,props:i,presenceContext:r,reducedMotionConfig:o,blockInitialAnimation:u,visualState:c},m={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Up,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const x=Rn.now();this.renderScheduledAt<x&&(this.renderScheduledAt=x,_e.render(this.render,!1,!0))};const{latestValues:p,renderState:g}=c;this.latestValues=p,this.baseTarget={...p},this.initialValues=i.initial?{...p}:{},this.renderState=g,this.parent=t,this.props=i,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=o,this.options=m,this.blockInitialAnimation=!!u,this.isControllingVariants=Uh(i),this.isVariantNode=ZE(i),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:v,...E}=this.scrapeMotionValuesFromProps(i,{},this);for(const x in E){const M=E[x];p[x]!==void 0&&pn(M)&&M.set(p[x])}}mount(t){var i;this.current=t,WC.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,o)=>this.bindToMotionValue(o,r)),hb.current||JC(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Ym.current,(i=this.parent)==null||i.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var t;this.projection&&this.projection.unmount(),or(this.notifyUpdate),or(this.render),this.valueSubscriptions.forEach(i=>i()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(t=this.parent)==null||t.removeChild(this);for(const i in this.events)this.events[i].clear();for(const i in this.features){const r=this.features[i];r&&(r.unmount(),r.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,i){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const r=wo.has(t);r&&this.onBindTransform&&this.onBindTransform();const o=i.on("change",c=>{this.latestValues[t]=c,this.props.onUpdate&&_e.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let u;window.MotionCheckAppearSync&&(u=window.MotionCheckAppearSync(this,t,i)),this.valueSubscriptions.set(t,()=>{o(),u&&u(),i.owner&&i.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in vo){const i=vo[t];if(!i)continue;const{isEnabled:r,Feature:o}=i;if(!this.features[t]&&o&&r(this.props)&&(this.features[t]=new o(this)),this.features[t]){const u=this.features[t];u.isMounted?u.update():(u.mount(),u.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Ge()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,i){this.latestValues[t]=i}update(t,i){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=i;for(let r=0;r<Q_.length;r++){const o=Q_[r];this.propEventSubscriptions[o]&&(this.propEventSubscriptions[o](),delete this.propEventSubscriptions[o]);const u="on"+o,c=t[u];c&&(this.propEventSubscriptions[o]=this.on(o,c))}this.prevMotionValues=tR(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const i=this.getClosestVariantNode();if(i)return i.variantChildren&&i.variantChildren.add(t),()=>i.variantChildren.delete(t)}addValue(t,i){const r=this.values.get(t);i!==r&&(r&&this.removeValue(t),this.bindToMotionValue(t,i),this.values.set(t,i),this.latestValues[t]=i.get())}removeValue(t){this.values.delete(t);const i=this.valueSubscriptions.get(t);i&&(i(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,i){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&i!==void 0&&(r=yo(i===null?void 0:i,{owner:this}),this.addValue(t,r)),r}readValue(t,i){let r=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return r!=null&&(typeof r=="string"&&(eE(r)||iE(r))?r=parseFloat(r):!uC(r)&&lr.test(i)&&(r=zE(t,i)),this.setBaseTarget(t,pn(r)?r.get():r)),pn(r)?r.get():r}setBaseTarget(t,i){this.baseTarget[t]=i}getBaseTarget(t){var u;const{initial:i}=this.props;let r;if(typeof i=="string"||typeof i=="object"){const c=$p(this.props,i,(u=this.presenceContext)==null?void 0:u.custom);c&&(r=c[t])}if(i&&r!==void 0)return r;const o=this.getBaseTargetFromProps(this.props,t);return o!==void 0&&!pn(o)?o:this.initialValues[t]!==void 0&&r===void 0?void 0:this.baseTarget[t]}on(t,i){return this.events[t]||(this.events[t]=new Vp),this.events[t].add(i)}notify(t,...i){this.events[t]&&this.events[t].notify(...i)}scheduleRenderMicrotask(){Fp.render(this.render)}}class fb extends eR{constructor(){super(...arguments),this.KeyframeResolver=$w}sortInstanceNodePosition(t,i){return t.compareDocumentPosition(i)&2?1:-1}getBaseTargetFromProps(t,i){return t.style?t.style[i]:void 0}removeValueFromRenderState(t,{vars:i,style:r}){delete i[t],delete r[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;pn(t)&&(this.childSubscription=t.on("change",i=>{this.current&&(this.current.textContent=`${i}`)}))}}function db(n,{style:t,vars:i},r,o){const u=n.style;let c;for(c in t)u[c]=t[c];o==null||o.applyProjectionStyles(u,r);for(c in i)u.setProperty(c,i[c])}function nR(n){return window.getComputedStyle(n)}class iR extends fb{constructor(){super(...arguments),this.type="html",this.renderInstance=db}readValueFromInstance(t,i){var r;if(wo.has(i))return(r=this.projection)!=null&&r.isProjecting?Lm(i):gw(t,i);{const o=nR(t),u=(yE(i)?o.getPropertyValue(i):o[i])||0;return typeof u=="string"?u.trim():u}}measureInstanceViewportBox(t,{transformPagePoint:i}){return cb(t,i)}build(t,i,r){Qp(t,i,r.transformTemplate)}scrapeMotionValuesFromProps(t,i,r){return Jp(t,i,r)}}const mb=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function sR(n,t,i,r){db(n,t,void 0,r);for(const o in t.attrs)n.setAttribute(mb.has(o)?o:Wp(o),t.attrs[o])}class rR extends fb{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Ge}getBaseTargetFromProps(t,i){return t[i]}readValueFromInstance(t,i){if(wo.has(i)){const r=kE(i);return r&&r.default||0}return i=mb.has(i)?i:Wp(i),t.getAttribute(i)}scrapeMotionValuesFromProps(t,i,r){return ib(t,i,r)}build(t,i,r){WE(t,i,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(t,i,r,o){sR(t,i,r,o)}mount(t){this.isSVGTag=eb(t.tagName),super.mount(t)}}const aR=(n,t)=>Zp(n)?new rR(t):new iR(t,{allowProjection:n!==ot.Fragment});function ho(n,t,i){const r=n.getProps();return $p(r,t,i!==void 0?i:r.custom,n)}const Qm=n=>Array.isArray(n);function oR(n,t,i){n.hasValue(t)?n.getValue(t).set(i):n.addValue(t,yo(i))}function lR(n){return Qm(n)?n[n.length-1]||0:n}function uR(n,t){const i=ho(n,t);let{transitionEnd:r={},transition:o={},...u}=i||{};u={...u,...r};for(const c in u){const m=lR(u[c]);oR(n,c,m)}}function cR(n){return!!(pn(n)&&n.add)}function Xm(n,t){const i=n.getValue("willChange");if(cR(i))return i.add(t);if(!i&&vs.WillChange){const r=new vs.WillChange("auto");n.addValue("willChange",r),r.add(t)}}function pb(n){return n.props[sb]}const hR=n=>n!==null;function fR(n,{repeat:t,repeatType:i="loop"},r){const o=n.filter(hR),u=t&&i!=="loop"&&t%2===1?0:o.length-1;return o[u]}const dR={type:"spring",stiffness:500,damping:25,restSpeed:10},mR=n=>({type:"spring",stiffness:550,damping:n===0?2*Math.sqrt(550):30,restSpeed:10}),pR={type:"keyframes",duration:.8},gR={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},yR=(n,{keyframes:t})=>t.length>2?pR:wo.has(n)?n.startsWith("scale")?mR(t[1]):dR:gR;function vR({when:n,delay:t,delayChildren:i,staggerChildren:r,staggerDirection:o,repeat:u,repeatType:c,repeatDelay:m,from:p,elapsed:g,...v}){return!!Object.keys(v).length}const tg=(n,t,i,r={},o,u)=>c=>{const m=Bp(r,n)||{},p=m.delay||r.delay||0;let{elapsed:g=0}=r;g=g-Fi(p);const v={keyframes:Array.isArray(i)?i:[null,i],ease:"easeOut",velocity:t.getVelocity(),...m,delay:-g,onUpdate:x=>{t.set(x),m.onUpdate&&m.onUpdate(x)},onComplete:()=>{c(),m.onComplete&&m.onComplete()},name:n,motionValue:t,element:u?void 0:o};vR(m)||Object.assign(v,yR(n,v)),v.duration&&(v.duration=Fi(v.duration)),v.repeatDelay&&(v.repeatDelay=Fi(v.repeatDelay)),v.from!==void 0&&(v.keyframes[0]=v.from);let E=!1;if((v.type===!1||v.duration===0&&!v.repeatDelay)&&(qm(v),v.delay===0&&(E=!0)),(vs.instantAnimations||vs.skipAnimations)&&(E=!0,qm(v),v.delay=0),v.allowFlatten=!m.type&&!m.ease,E&&!u&&t.get()!==void 0){const x=fR(v.keyframes,m);if(x!==void 0){_e.update(()=>{v.onUpdate(x),v.onComplete()});return}}return m.isSync?new zp(v):new zw(v)};function _R({protectedKeys:n,needsAnimating:t},i){const r=n.hasOwnProperty(i)&&t[i]!==!0;return t[i]=!1,r}function gb(n,t,{delay:i=0,transitionOverride:r,type:o}={}){let{transition:u=n.getDefaultTransition(),transitionEnd:c,...m}=t;r&&(u=r);const p=[],g=o&&n.animationState&&n.animationState.getState()[o];for(const v in m){const E=n.getValue(v,n.latestValues[v]??null),x=m[v];if(x===void 0||g&&_R(g,v))continue;const M={delay:i,...Bp(u||{},v)},B=E.get();if(B!==void 0&&!E.isAnimating&&!Array.isArray(x)&&x===B&&!M.velocity)continue;let K=!1;if(window.MotionHandoffAnimation){const J=pb(n);if(J){const it=window.MotionHandoffAnimation(J,v,_e);it!==null&&(M.startTime=it,K=!0)}}Xm(n,v),E.start(tg(v,E,x,n.shouldReduceMotion&&jE.has(v)?{type:!1}:M,n,K));const L=E.animation;L&&p.push(L)}return c&&Promise.all(p).then(()=>{_e.update(()=>{c&&uR(n,c)})}),p}function yb(n,t,i,r=0,o=1){const u=Array.from(n).sort((g,v)=>g.sortNodePosition(v)).indexOf(t),c=n.size,m=(c-1)*r;return typeof i=="function"?i(u,c):o===1?u*r:m-u*r}function Zm(n,t,i={}){var p;const r=ho(n,t,i.type==="exit"?(p=n.presenceContext)==null?void 0:p.custom:void 0);let{transition:o=n.getDefaultTransition()||{}}=r||{};i.transitionOverride&&(o=i.transitionOverride);const u=r?()=>Promise.all(gb(n,r,i)):()=>Promise.resolve(),c=n.variantChildren&&n.variantChildren.size?(g=0)=>{const{delayChildren:v=0,staggerChildren:E,staggerDirection:x}=o;return TR(n,t,g,v,E,x,i)}:()=>Promise.resolve(),{when:m}=o;if(m){const[g,v]=m==="beforeChildren"?[u,c]:[c,u];return g().then(()=>v())}else return Promise.all([u(),c(i.delay)])}function TR(n,t,i=0,r=0,o=0,u=1,c){const m=[];for(const p of n.variantChildren)p.notify("AnimationStart",t),m.push(Zm(p,t,{...c,delay:i+(typeof r=="function"?0:r)+yb(n.variantChildren,p,r,o,u)}).then(()=>p.notify("AnimationComplete",t)));return Promise.all(m)}function ER(n,t,i={}){n.notify("AnimationStart",t);let r;if(Array.isArray(t)){const o=t.map(u=>Zm(n,u,i));r=Promise.all(o)}else if(typeof t=="string")r=Zm(n,t,i);else{const o=typeof t=="function"?ho(n,t,i.custom):t;r=Promise.all(gb(n,o,i))}return r.then(()=>{n.notify("AnimationComplete",t)})}function vb(n,t){if(!Array.isArray(t))return!1;const i=t.length;if(i!==n.length)return!1;for(let r=0;r<i;r++)if(t[r]!==n[r])return!1;return!0}const bR=Yp.length;function _b(n){if(!n)return;if(!n.isControllingVariants){const i=n.parent?_b(n.parent)||{}:{};return n.props.initial!==void 0&&(i.initial=n.props.initial),i}const t={};for(let i=0;i<bR;i++){const r=Yp[i],o=n.props[r];(iu(o)||o===!1)&&(t[r]=o)}return t}const xR=[...Kp].reverse(),AR=Kp.length;function SR(n){return t=>Promise.all(t.map(({animation:i,options:r})=>ER(n,i,r)))}function wR(n){let t=SR(n),i=X_(),r=!0;const o=p=>(g,v)=>{var x;const E=ho(n,v,p==="exit"?(x=n.presenceContext)==null?void 0:x.custom:void 0);if(E){const{transition:M,transitionEnd:B,...K}=E;g={...g,...K,...B}}return g};function u(p){t=p(n)}function c(p){const{props:g}=n,v=_b(n.parent)||{},E=[],x=new Set;let M={},B=1/0;for(let L=0;L<AR;L++){const J=xR[L],it=i[J],et=g[J]!==void 0?g[J]:v[J],mt=iu(et),ht=J===p?it.isActive:null;ht===!1&&(B=L);let dt=et===v[J]&&et!==g[J]&&mt;if(dt&&r&&n.manuallyAnimateOnMount&&(dt=!1),it.protectedKeys={...M},!it.isActive&&ht===null||!et&&!it.prevProp||zh(et)||typeof et=="boolean")continue;const R=CR(it.prevProp,et);let C=R||J===p&&it.isActive&&!dt&&mt||L>B&&mt,V=!1;const j=Array.isArray(et)?et:[et];let I=j.reduce(o(J),{});ht===!1&&(I={});const{prevResolvedValues:k={}}=it,D={...k,...I},Zt=at=>{C=!0,x.has(at)&&(V=!0,x.delete(at)),it.needsAnimating[at]=!0;const gt=n.getValue(at);gt&&(gt.liveStyle=!1)};for(const at in D){const gt=I[at],Mt=k[at];if(M.hasOwnProperty(at))continue;let z=!1;Qm(gt)&&Qm(Mt)?z=!vb(gt,Mt):z=gt!==Mt,z?gt!=null?Zt(at):x.add(at):gt!==void 0&&x.has(at)?Zt(at):it.protectedKeys[at]=!0}it.prevProp=et,it.prevResolvedValues=I,it.isActive&&(M={...M,...I}),r&&n.blockInitialAnimation&&(C=!1);const he=dt&&R;C&&(!he||V)&&E.push(...j.map(at=>{const gt={type:J};if(typeof at=="string"&&r&&!he&&n.manuallyAnimateOnMount&&n.parent){const{parent:Mt}=n,z=ho(Mt,at);if(Mt.enteringChildren&&z){const{delayChildren:b}=z.transition||{};gt.delay=yb(Mt.enteringChildren,n,b)}}return{animation:at,options:gt}}))}if(x.size){const L={};if(typeof g.initial!="boolean"){const J=ho(n,Array.isArray(g.initial)?g.initial[0]:g.initial);J&&J.transition&&(L.transition=J.transition)}x.forEach(J=>{const it=n.getBaseTarget(J),et=n.getValue(J);et&&(et.liveStyle=!0),L[J]=it??null}),E.push({animation:L})}let K=!!E.length;return r&&(g.initial===!1||g.initial===g.animate)&&!n.manuallyAnimateOnMount&&(K=!1),r=!1,K?t(E):Promise.resolve()}function m(p,g){var E;if(i[p].isActive===g)return Promise.resolve();(E=n.variantChildren)==null||E.forEach(x=>{var M;return(M=x.animationState)==null?void 0:M.setActive(p,g)}),i[p].isActive=g;const v=c(p);for(const x in i)i[x].protectedKeys={};return v}return{animateChanges:c,setActive:m,setAnimateFunction:u,getState:()=>i,reset:()=>{i=X_()}}}function CR(n,t){return typeof t=="string"?t!==n:Array.isArray(t)?!vb(t,n):!1}function Yr(n=!1){return{isActive:n,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function X_(){return{animate:Yr(!0),whileInView:Yr(),whileHover:Yr(),whileTap:Yr(),whileDrag:Yr(),whileFocus:Yr(),exit:Yr()}}class pr{constructor(t){this.isMounted=!1,this.node=t}update(){}}class RR extends pr{constructor(t){super(t),t.animationState||(t.animationState=wR(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();zh(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:i}=this.node.prevProps||{};t!==i&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)==null||t.call(this)}}let VR=0;class DR extends pr{constructor(){super(...arguments),this.id=VR++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:i}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===r)return;const o=this.node.animationState.setActive("exit",!t);i&&!t&&o.then(()=>{i(this.id)})}mount(){const{register:t,onExitComplete:i}=this.node.presenceContext||{};i&&i(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const MR={animation:{Feature:RR},exit:{Feature:DR}};function su(n,t,i,r={passive:!0}){return n.addEventListener(t,i,r),()=>n.removeEventListener(t,i)}function vu(n){return{point:{x:n.pageX,y:n.pageY}}}const NR=n=>t=>Hp(t)&&n(t,vu(t));function Gl(n,t,i,r){return su(n,t,NR(i),r)}const Tb=1e-4,IR=1-Tb,OR=1+Tb,Eb=.01,jR=0-Eb,PR=0+Eb;function _n(n){return n.max-n.min}function LR(n,t,i){return Math.abs(n-t)<=i}function Z_(n,t,i,r=.5){n.origin=r,n.originPoint=Te(t.min,t.max,n.origin),n.scale=_n(i)/_n(t),n.translate=Te(i.min,i.max,n.origin)-n.originPoint,(n.scale>=IR&&n.scale<=OR||isNaN(n.scale))&&(n.scale=1),(n.translate>=jR&&n.translate<=PR||isNaN(n.translate))&&(n.translate=0)}function Kl(n,t,i,r){Z_(n.x,t.x,i.x,r?r.originX:void 0),Z_(n.y,t.y,i.y,r?r.originY:void 0)}function $_(n,t,i){n.min=i.min+t.min,n.max=n.min+_n(t)}function kR(n,t,i){$_(n.x,t.x,i.x),$_(n.y,t.y,i.y)}function J_(n,t,i){n.min=t.min-i.min,n.max=n.min+_n(t)}function _h(n,t,i){J_(n.x,t.x,i.x),J_(n.y,t.y,i.y)}function Jn(n){return[n("x"),n("y")]}const bb=({current:n})=>n?n.ownerDocument.defaultView:null,W_=(n,t)=>Math.abs(n-t);function zR(n,t){const i=W_(n.x,t.x),r=W_(n.y,t.y);return Math.sqrt(i**2+r**2)}class xb{constructor(t,i,{transformPagePoint:r,contextWindow:o=window,dragSnapToOrigin:u=!1,distanceThreshold:c=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const x=dm(this.lastMoveEventInfo,this.history),M=this.startEvent!==null,B=zR(x.offset,{x:0,y:0})>=this.distanceThreshold;if(!M&&!B)return;const{point:K}=x,{timestamp:L}=on;this.history.push({...K,timestamp:L});const{onStart:J,onMove:it}=this.handlers;M||(J&&J(this.lastMoveEvent,x),this.startEvent=this.lastMoveEvent),it&&it(this.lastMoveEvent,x)},this.handlePointerMove=(x,M)=>{this.lastMoveEvent=x,this.lastMoveEventInfo=fm(M,this.transformPagePoint),_e.update(this.updatePoint,!0)},this.handlePointerUp=(x,M)=>{this.end();const{onEnd:B,onSessionEnd:K,resumeAnimation:L}=this.handlers;if(this.dragSnapToOrigin&&L&&L(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const J=dm(x.type==="pointercancel"?this.lastMoveEventInfo:fm(M,this.transformPagePoint),this.history);this.startEvent&&B&&B(x,J),K&&K(x,J)},!Hp(t))return;this.dragSnapToOrigin=u,this.handlers=i,this.transformPagePoint=r,this.distanceThreshold=c,this.contextWindow=o||window;const m=vu(t),p=fm(m,this.transformPagePoint),{point:g}=p,{timestamp:v}=on;this.history=[{...g,timestamp:v}];const{onSessionStart:E}=i;E&&E(t,dm(p,this.history)),this.removeListeners=pu(Gl(this.contextWindow,"pointermove",this.handlePointerMove),Gl(this.contextWindow,"pointerup",this.handlePointerUp),Gl(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),or(this.updatePoint)}}function fm(n,t){return t?{point:t(n.point)}:n}function t1(n,t){return{x:n.x-t.x,y:n.y-t.y}}function dm({point:n},t){return{point:n,delta:t1(n,Ab(t)),offset:t1(n,UR(t)),velocity:BR(t,.1)}}function UR(n){return n[0]}function Ab(n){return n[n.length-1]}function BR(n,t){if(n.length<2)return{x:0,y:0};let i=n.length-1,r=null;const o=Ab(n);for(;i>=0&&(r=n[i],!(o.timestamp-r.timestamp>Fi(t)));)i--;if(!r)return{x:0,y:0};const u=ei(o.timestamp-r.timestamp);if(u===0)return{x:0,y:0};const c={x:(o.x-r.x)/u,y:(o.y-r.y)/u};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}function qR(n,{min:t,max:i},r){return t!==void 0&&n<t?n=r?Te(t,n,r.min):Math.max(n,t):i!==void 0&&n>i&&(n=r?Te(i,n,r.max):Math.min(n,i)),n}function e1(n,t,i){return{min:t!==void 0?n.min+t:void 0,max:i!==void 0?n.max+i-(n.max-n.min):void 0}}function FR(n,{top:t,left:i,bottom:r,right:o}){return{x:e1(n.x,i,o),y:e1(n.y,t,r)}}function n1(n,t){let i=t.min-n.min,r=t.max-n.max;return t.max-t.min<n.max-n.min&&([i,r]=[r,i]),{min:i,max:r}}function HR(n,t){return{x:n1(n.x,t.x),y:n1(n.y,t.y)}}function GR(n,t){let i=.5;const r=_n(n),o=_n(t);return o>r?i=tu(t.min,t.max-r,n.min):r>o&&(i=tu(n.min,n.max-o,t.min)),ys(0,1,i)}function KR(n,t){const i={};return t.min!==void 0&&(i.min=t.min-n.min),t.max!==void 0&&(i.max=t.max-n.min),i}const $m=.35;function YR(n=$m){return n===!1?n=0:n===!0&&(n=$m),{x:i1(n,"left","right"),y:i1(n,"top","bottom")}}function i1(n,t,i){return{min:s1(n,t),max:s1(n,i)}}function s1(n,t){return typeof n=="number"?n:n[t]||0}const QR=new WeakMap;class XR{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Ge(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:i=!1,distanceThreshold:r}={}){const{presenceContext:o}=this.visualElement;if(o&&o.isPresent===!1)return;const u=E=>{const{dragSnapToOrigin:x}=this.getProps();x?this.pauseAnimation():this.stopAnimation(),i&&this.snapToCursor(vu(E).point)},c=(E,x)=>{const{drag:M,dragPropagation:B,onDragStart:K}=this.getProps();if(M&&!B&&(this.openDragLock&&this.openDragLock(),this.openDragLock=eC(M),!this.openDragLock))return;this.latestPointerEvent=E,this.latestPanInfo=x,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Jn(J=>{let it=this.getAxisMotionValue(J).get()||0;if(Hi.test(it)){const{projection:et}=this.visualElement;if(et&&et.layout){const mt=et.layout.layoutBox[J];mt&&(it=_n(mt)*(parseFloat(it)/100))}}this.originPoint[J]=it}),K&&_e.postRender(()=>K(E,x)),Xm(this.visualElement,"transform");const{animationState:L}=this.visualElement;L&&L.setActive("whileDrag",!0)},m=(E,x)=>{this.latestPointerEvent=E,this.latestPanInfo=x;const{dragPropagation:M,dragDirectionLock:B,onDirectionLock:K,onDrag:L}=this.getProps();if(!M&&!this.openDragLock)return;const{offset:J}=x;if(B&&this.currentDirection===null){this.currentDirection=ZR(J),this.currentDirection!==null&&K&&K(this.currentDirection);return}this.updateAxis("x",x.point,J),this.updateAxis("y",x.point,J),this.visualElement.render(),L&&L(E,x)},p=(E,x)=>{this.latestPointerEvent=E,this.latestPanInfo=x,this.stop(E,x),this.latestPointerEvent=null,this.latestPanInfo=null},g=()=>Jn(E=>{var x;return this.getAnimationState(E)==="paused"&&((x=this.getAxisMotionValue(E).animation)==null?void 0:x.play())}),{dragSnapToOrigin:v}=this.getProps();this.panSession=new xb(t,{onSessionStart:u,onStart:c,onMove:m,onSessionEnd:p,resumeAnimation:g},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:v,distanceThreshold:r,contextWindow:bb(this.visualElement)})}stop(t,i){const r=t||this.latestPointerEvent,o=i||this.latestPanInfo,u=this.isDragging;if(this.cancel(),!u||!o||!r)return;const{velocity:c}=o;this.startAnimation(c);const{onDragEnd:m}=this.getProps();m&&_e.postRender(()=>m(r,o))}cancel(){this.isDragging=!1;const{projection:t,animationState:i}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),i&&i.setActive("whileDrag",!1)}updateAxis(t,i,r){const{drag:o}=this.getProps();if(!r||!Jc(t,o,this.currentDirection))return;const u=this.getAxisMotionValue(t);let c=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(c=qR(c,this.constraints[t],this.elastic[t])),u.set(c)}resolveConstraints(){var u;const{dragConstraints:t,dragElastic:i}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(u=this.visualElement.projection)==null?void 0:u.layout,o=this.constraints;t&&oo(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&r?this.constraints=FR(r.layoutBox,t):this.constraints=!1,this.elastic=YR(i),o!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&Jn(c=>{this.constraints!==!1&&this.getAxisMotionValue(c)&&(this.constraints[c]=KR(r.layoutBox[c],this.constraints[c]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:i}=this.getProps();if(!t||!oo(t))return!1;const r=t.current,{projection:o}=this.visualElement;if(!o||!o.layout)return!1;const u=$C(r,o.root,this.visualElement.getTransformPagePoint());let c=HR(o.layout.layoutBox,u);if(i){const m=i(QC(c));this.hasMutatedConstraints=!!m,m&&(c=ob(m))}return c}startAnimation(t){const{drag:i,dragMomentum:r,dragElastic:o,dragTransition:u,dragSnapToOrigin:c,onDragTransitionEnd:m}=this.getProps(),p=this.constraints||{},g=Jn(v=>{if(!Jc(v,i,this.currentDirection))return;let E=p&&p[v]||{};c&&(E={min:0,max:0});const x=o?200:1e6,M=o?40:1e7,B={type:"inertia",velocity:r?t[v]:0,bounceStiffness:x,bounceDamping:M,timeConstant:750,restDelta:1,restSpeed:10,...u,...E};return this.startAxisValueAnimation(v,B)});return Promise.all(g).then(m)}startAxisValueAnimation(t,i){const r=this.getAxisMotionValue(t);return Xm(this.visualElement,t),r.start(tg(t,r,0,i,this.visualElement,!1))}stopAnimation(){Jn(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Jn(t=>{var i;return(i=this.getAxisMotionValue(t).animation)==null?void 0:i.pause()})}getAnimationState(t){var i;return(i=this.getAxisMotionValue(t).animation)==null?void 0:i.state}getAxisMotionValue(t){const i=`_drag${t.toUpperCase()}`,r=this.visualElement.getProps(),o=r[i];return o||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){Jn(i=>{const{drag:r}=this.getProps();if(!Jc(i,r,this.currentDirection))return;const{projection:o}=this.visualElement,u=this.getAxisMotionValue(i);if(o&&o.layout){const{min:c,max:m}=o.layout.layoutBox[i];u.set(t[i]-Te(c,m,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:i}=this.getProps(),{projection:r}=this.visualElement;if(!oo(i)||!r||!this.constraints)return;this.stopAnimation();const o={x:0,y:0};Jn(c=>{const m=this.getAxisMotionValue(c);if(m&&this.constraints!==!1){const p=m.get();o[c]=GR({min:p,max:p},this.constraints[c])}});const{transformTemplate:u}=this.visualElement.getProps();this.visualElement.current.style.transform=u?u({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Jn(c=>{if(!Jc(c,t,null))return;const m=this.getAxisMotionValue(c),{min:p,max:g}=this.constraints[c];m.set(Te(p,g,o[c]))})}addListeners(){if(!this.visualElement.current)return;QR.set(this.visualElement,this);const t=this.visualElement.current,i=Gl(t,"pointerdown",p=>{const{drag:g,dragListener:v=!0}=this.getProps();g&&v&&this.start(p)}),r=()=>{const{dragConstraints:p}=this.getProps();oo(p)&&p.current&&(this.constraints=this.resolveRefConstraints())},{projection:o}=this.visualElement,u=o.addEventListener("measure",r);o&&!o.layout&&(o.root&&o.root.updateScroll(),o.updateLayout()),_e.read(r);const c=su(window,"resize",()=>this.scalePositionWithinConstraints()),m=o.addEventListener("didUpdate",(({delta:p,hasLayoutChanged:g})=>{this.isDragging&&g&&(Jn(v=>{const E=this.getAxisMotionValue(v);E&&(this.originPoint[v]+=p[v].translate,E.set(E.get()+p[v].translate))}),this.visualElement.render())}));return()=>{c(),i(),u(),m&&m()}}getProps(){const t=this.visualElement.getProps(),{drag:i=!1,dragDirectionLock:r=!1,dragPropagation:o=!1,dragConstraints:u=!1,dragElastic:c=$m,dragMomentum:m=!0}=t;return{...t,drag:i,dragDirectionLock:r,dragPropagation:o,dragConstraints:u,dragElastic:c,dragMomentum:m}}}function Jc(n,t,i){return(t===!0||t===n)&&(i===null||i===n)}function ZR(n,t=10){let i=null;return Math.abs(n.y)>t?i="y":Math.abs(n.x)>t&&(i="x"),i}class $R extends pr{constructor(t){super(t),this.removeGroupControls=ni,this.removeListeners=ni,this.controls=new XR(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||ni}unmount(){this.removeGroupControls(),this.removeListeners()}}const r1=n=>(t,i)=>{n&&_e.postRender(()=>n(t,i))};class JR extends pr{constructor(){super(...arguments),this.removePointerDownListener=ni}onPointerDown(t){this.session=new xb(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:bb(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:i,onPan:r,onPanEnd:o}=this.node.getProps();return{onSessionStart:r1(t),onStart:r1(i),onMove:r,onEnd:(u,c)=>{delete this.session,o&&_e.postRender(()=>o(u,c))}}}mount(){this.removePointerDownListener=Gl(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const oh={hasAnimatedSinceResize:!0,hasEverUpdated:!1};let mm=!1;class WR extends ot.Component{componentDidMount(){const{visualElement:t,layoutGroup:i,switchLayoutGroup:r,layoutId:o}=this.props,{projection:u}=t;u&&(i.group&&i.group.add(u),r&&r.register&&o&&r.register(u),mm&&u.root.didUpdate(),u.addEventListener("animationComplete",()=>{this.safeToRemove()}),u.setOptions({...u.options,onExitComplete:()=>this.safeToRemove()})),oh.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:i,visualElement:r,drag:o,isPresent:u}=this.props,{projection:c}=r;return c&&(c.isPresent=u,mm=!0,o||t.layoutDependency!==i||i===void 0||t.isPresent!==u?c.willUpdate():this.safeToRemove(),t.isPresent!==u&&(u?c.promote():c.relegate()||_e.postRender(()=>{const m=c.getStack();(!m||!m.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),Fp.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:i,switchLayoutGroup:r}=this.props,{projection:o}=t;mm=!0,o&&(o.scheduleCheckAfterUnmount(),i&&i.group&&i.group.remove(o),r&&r.deregister&&r.deregister(o))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function Sb(n){const[t,i]=KE(),r=ot.useContext(bp);return A.jsx(WR,{...n,layoutGroup:r,switchLayoutGroup:ot.useContext(rb),isPresent:t,safeToRemove:i})}function tV(n,t,i){const r=pn(n)?n:yo(n);return r.start(tg("",r,t,i)),r.animation}const eV=(n,t)=>n.depth-t.depth;class nV{constructor(){this.children=[],this.isDirty=!1}add(t){Sp(this.children,t),this.isDirty=!0}remove(t){wp(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(eV),this.isDirty=!1,this.children.forEach(t)}}function iV(n,t){const i=Rn.now(),r=({timestamp:o})=>{const u=o-i;u>=t&&(or(r),n(u-t))};return _e.setup(r,!0),()=>or(r)}const wb=["TopLeft","TopRight","BottomLeft","BottomRight"],sV=wb.length,a1=n=>typeof n=="string"?parseFloat(n):n,o1=n=>typeof n=="number"||wt.test(n);function rV(n,t,i,r,o,u){o?(n.opacity=Te(0,i.opacity??1,aV(r)),n.opacityExit=Te(t.opacity??1,0,oV(r))):u&&(n.opacity=Te(t.opacity??1,i.opacity??1,r));for(let c=0;c<sV;c++){const m=`border${wb[c]}Radius`;let p=l1(t,m),g=l1(i,m);if(p===void 0&&g===void 0)continue;p||(p=0),g||(g=0),p===0||g===0||o1(p)===o1(g)?(n[m]=Math.max(Te(a1(p),a1(g),r),0),(Hi.test(g)||Hi.test(p))&&(n[m]+="%")):n[m]=g}(t.rotate||i.rotate)&&(n.rotate=Te(t.rotate||0,i.rotate||0,r))}function l1(n,t){return n[t]!==void 0?n[t]:n.borderRadius}const aV=Cb(0,.5,hE),oV=Cb(.5,.95,ni);function Cb(n,t,i){return r=>r<n?0:r>t?1:i(tu(n,t,r))}function u1(n,t){n.min=t.min,n.max=t.max}function mi(n,t){u1(n.x,t.x),u1(n.y,t.y)}function c1(n,t){n.translate=t.translate,n.scale=t.scale,n.originPoint=t.originPoint,n.origin=t.origin}function h1(n,t,i,r,o){return n-=t,n=vh(n,1/i,r),o!==void 0&&(n=vh(n,1/o,r)),n}function lV(n,t=0,i=1,r=.5,o,u=n,c=n){if(Hi.test(t)&&(t=parseFloat(t),t=Te(c.min,c.max,t/100)-c.min),typeof t!="number")return;let m=Te(u.min,u.max,r);n===u&&(m-=t),n.min=h1(n.min,t,i,m,o),n.max=h1(n.max,t,i,m,o)}function f1(n,t,[i,r,o],u,c){lV(n,t[i],t[r],t[o],t.scale,u,c)}const uV=["x","scaleX","originX"],cV=["y","scaleY","originY"];function d1(n,t,i,r){f1(n.x,t,uV,i?i.x:void 0,r?r.x:void 0),f1(n.y,t,cV,i?i.y:void 0,r?r.y:void 0)}function m1(n){return n.translate===0&&n.scale===1}function Rb(n){return m1(n.x)&&m1(n.y)}function p1(n,t){return n.min===t.min&&n.max===t.max}function hV(n,t){return p1(n.x,t.x)&&p1(n.y,t.y)}function g1(n,t){return Math.round(n.min)===Math.round(t.min)&&Math.round(n.max)===Math.round(t.max)}function Vb(n,t){return g1(n.x,t.x)&&g1(n.y,t.y)}function y1(n){return _n(n.x)/_n(n.y)}function v1(n,t){return n.translate===t.translate&&n.scale===t.scale&&n.originPoint===t.originPoint}class fV{constructor(){this.members=[]}add(t){Sp(this.members,t),t.scheduleRender()}remove(t){if(wp(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const i=this.members[this.members.length-1];i&&this.promote(i)}}relegate(t){const i=this.members.findIndex(o=>t===o);if(i===0)return!1;let r;for(let o=i;o>=0;o--){const u=this.members[o];if(u.isPresent!==!1){r=u;break}}return r?(this.promote(r),!0):!1}promote(t,i){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,i&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:o}=t.options;o===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:i,resumingFrom:r}=t;i.onExitComplete&&i.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function dV(n,t,i){let r="";const o=n.x.translate/t.x,u=n.y.translate/t.y,c=(i==null?void 0:i.z)||0;if((o||u||c)&&(r=`translate3d(${o}px, ${u}px, ${c}px) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),i){const{transformPerspective:g,rotate:v,rotateX:E,rotateY:x,skewX:M,skewY:B}=i;g&&(r=`perspective(${g}px) ${r}`),v&&(r+=`rotate(${v}deg) `),E&&(r+=`rotateX(${E}deg) `),x&&(r+=`rotateY(${x}deg) `),M&&(r+=`skewX(${M}deg) `),B&&(r+=`skewY(${B}deg) `)}const m=n.x.scale*t.x,p=n.y.scale*t.y;return(m!==1||p!==1)&&(r+=`scale(${m}, ${p})`),r||"none"}const pm=["","X","Y","Z"],mV=1e3;let pV=0;function gm(n,t,i,r){const{latestValues:o}=t;o[n]&&(i[n]=o[n],t.setStaticValue(n,0),r&&(r[n]=0))}function Db(n){if(n.hasCheckedOptimisedAppear=!0,n.root===n)return;const{visualElement:t}=n.options;if(!t)return;const i=pb(t);if(window.MotionHasOptimisedAnimation(i,"transform")){const{layout:o,layoutId:u}=n.options;window.MotionCancelOptimisedAnimation(i,"transform",_e,!(o||u))}const{parent:r}=n;r&&!r.hasCheckedOptimisedAppear&&Db(r)}function Mb({attachResizeListener:n,defaultParent:t,measureScroll:i,checkIsScrollRoot:r,resetTransform:o}){return class{constructor(c={},m=t==null?void 0:t()){this.id=pV++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(vV),this.nodes.forEach(bV),this.nodes.forEach(xV),this.nodes.forEach(_V)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=m?m.root||m:this,this.path=m?[...m.path,m]:[],this.parent=m,this.depth=m?m.depth+1:0;for(let p=0;p<this.path.length;p++)this.path[p].shouldResetTransform=!0;this.root===this&&(this.nodes=new nV)}addEventListener(c,m){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new Vp),this.eventHandlers.get(c).add(m)}notifyListeners(c,...m){const p=this.eventHandlers.get(c);p&&p.notify(...m)}hasListeners(c){return this.eventHandlers.has(c)}mount(c){if(this.instance)return;this.isSVG=GE(c)&&!oC(c),this.instance=c;const{layoutId:m,layout:p,visualElement:g}=this.options;if(g&&!g.current&&g.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(p||m)&&(this.isLayoutDirty=!0),n){let v,E=0;const x=()=>this.root.updateBlockedByResize=!1;_e.read(()=>{E=window.innerWidth}),n(c,()=>{const M=window.innerWidth;M!==E&&(E=M,this.root.updateBlockedByResize=!0,v&&v(),v=iV(x,250),oh.hasAnimatedSinceResize&&(oh.hasAnimatedSinceResize=!1,this.nodes.forEach(E1)))})}m&&this.root.registerSharedNode(m,this),this.options.animate!==!1&&g&&(m||p)&&this.addEventListener("didUpdate",({delta:v,hasLayoutChanged:E,hasRelativeLayoutChanged:x,layout:M})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const B=this.options.transition||g.getDefaultTransition()||RV,{onLayoutAnimationStart:K,onLayoutAnimationComplete:L}=g.getProps(),J=!this.targetLayout||!Vb(this.targetLayout,M),it=!E&&x;if(this.options.layoutRoot||this.resumeFrom||it||E&&(J||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const et={...Bp(B,"layout"),onPlay:K,onComplete:L};(g.shouldReduceMotion||this.options.layoutRoot)&&(et.delay=0,et.type=!1),this.startAnimation(et),this.setAnimationOrigin(v,it)}else E||E1(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=M})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),or(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(AV),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&Db(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let v=0;v<this.path.length;v++){const E=this.path[v];E.shouldResetTransform=!0,E.updateScroll("snapshot"),E.options.layoutRoot&&E.willUpdate(!1)}const{layoutId:m,layout:p}=this.options;if(m===void 0&&!p)return;const g=this.getTransformTemplate();this.prevTransformTemplateValue=g?g(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(_1);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(T1);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(EV),this.nodes.forEach(gV),this.nodes.forEach(yV)):this.nodes.forEach(T1),this.clearAllSnapshots();const m=Rn.now();on.delta=ys(0,1e3/60,m-on.timestamp),on.timestamp=m,on.isProcessing=!0,sm.update.process(on),sm.preRender.process(on),sm.render.process(on),on.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Fp.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(TV),this.sharedNodes.forEach(SV)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,_e.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){_e.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!_n(this.snapshot.measuredBox.x)&&!_n(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let p=0;p<this.path.length;p++)this.path[p].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=Ge(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:m}=this.options;m&&m.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let m=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(m=!1),m&&this.instance){const p=r(this.instance);this.scroll={animationId:this.root.animationId,phase:c,isRoot:p,offset:i(this.instance),wasRoot:this.scroll?this.scroll.isRoot:p}}}resetTransform(){if(!o)return;const c=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,m=this.projectionDelta&&!Rb(this.projectionDelta),p=this.getTransformTemplate(),g=p?p(this.latestValues,""):void 0,v=g!==this.prevTransformTemplateValue;c&&this.instance&&(m||Xr(this.latestValues)||v)&&(o(this.instance,g),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const m=this.measurePageBox();let p=this.removeElementScroll(m);return c&&(p=this.removeTransform(p)),VV(p),{animationId:this.root.animationId,measuredBox:m,layoutBox:p,latestValues:{},source:this.id}}measurePageBox(){var g;const{visualElement:c}=this.options;if(!c)return Ge();const m=c.measureViewportBox();if(!(((g=this.scroll)==null?void 0:g.wasRoot)||this.path.some(DV))){const{scroll:v}=this.root;v&&(lo(m.x,v.offset.x),lo(m.y,v.offset.y))}return m}removeElementScroll(c){var p;const m=Ge();if(mi(m,c),(p=this.scroll)!=null&&p.wasRoot)return m;for(let g=0;g<this.path.length;g++){const v=this.path[g],{scroll:E,options:x}=v;v!==this.root&&E&&x.layoutScroll&&(E.wasRoot&&mi(m,c),lo(m.x,E.offset.x),lo(m.y,E.offset.y))}return m}applyTransform(c,m=!1){const p=Ge();mi(p,c);for(let g=0;g<this.path.length;g++){const v=this.path[g];!m&&v.options.layoutScroll&&v.scroll&&v!==v.root&&uo(p,{x:-v.scroll.offset.x,y:-v.scroll.offset.y}),Xr(v.latestValues)&&uo(p,v.latestValues)}return Xr(this.latestValues)&&uo(p,this.latestValues),p}removeTransform(c){const m=Ge();mi(m,c);for(let p=0;p<this.path.length;p++){const g=this.path[p];if(!g.instance||!Xr(g.latestValues))continue;Gm(g.latestValues)&&g.updateSnapshot();const v=Ge(),E=g.measurePageBox();mi(v,E),d1(m,g.latestValues,g.snapshot?g.snapshot.layoutBox:void 0,v)}return Xr(this.latestValues)&&d1(m,this.latestValues),m}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==on.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){var M;const m=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=m.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=m.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=m.isSharedProjectionDirty);const p=!!this.resumingFrom||this!==m;if(!(c||p&&this.isSharedProjectionDirty||this.isProjectionDirty||(M=this.parent)!=null&&M.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:v,layoutId:E}=this.options;if(!this.layout||!(v||E))return;this.resolvedRelativeTargetAt=on.timestamp;const x=this.getClosestProjectingParent();x&&this.linkedParentVersion!==x.layoutVersion&&!x.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(x&&x.layout?this.createRelativeTarget(x,this.layout.layoutBox,x.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Ge(),this.targetWithTransforms=Ge()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),kR(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):mi(this.target,this.layout.layoutBox),ub(this.target,this.targetDelta)):mi(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,x&&!!x.resumingFrom==!!this.resumingFrom&&!x.options.layoutScroll&&x.target&&this.animationProgress!==1?this.createRelativeTarget(x,this.target,x.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||Gm(this.parent.latestValues)||lb(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(c,m,p){this.relativeParent=c,this.linkedParentVersion=c.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ge(),this.relativeTargetOrigin=Ge(),_h(this.relativeTargetOrigin,m,p),mi(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){var B;const c=this.getLead(),m=!!this.resumingFrom||this!==c;let p=!0;if((this.isProjectionDirty||(B=this.parent)!=null&&B.isProjectionDirty)&&(p=!1),m&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(p=!1),this.resolvedRelativeTargetAt===on.timestamp&&(p=!1),p)return;const{layout:g,layoutId:v}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(g||v))return;mi(this.layoutCorrected,this.layout.layoutBox);const E=this.treeScale.x,x=this.treeScale.y;ZC(this.layoutCorrected,this.treeScale,this.path,m),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox,c.targetWithTransforms=Ge());const{target:M}=c;if(!M){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(c1(this.prevProjectionDelta.x,this.projectionDelta.x),c1(this.prevProjectionDelta.y,this.projectionDelta.y)),Kl(this.projectionDelta,this.layoutCorrected,M,this.latestValues),(this.treeScale.x!==E||this.treeScale.y!==x||!v1(this.projectionDelta.x,this.prevProjectionDelta.x)||!v1(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",M))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){var m;if((m=this.options.visualElement)==null||m.scheduleRender(),c){const p=this.getStack();p&&p.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=co(),this.projectionDelta=co(),this.projectionDeltaWithTransform=co()}setAnimationOrigin(c,m=!1){const p=this.snapshot,g=p?p.latestValues:{},v={...this.latestValues},E=co();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!m;const x=Ge(),M=p?p.source:void 0,B=this.layout?this.layout.source:void 0,K=M!==B,L=this.getStack(),J=!L||L.members.length<=1,it=!!(K&&!J&&this.options.crossfade===!0&&!this.path.some(CV));this.animationProgress=0;let et;this.mixTargetDelta=mt=>{const ht=mt/1e3;b1(E.x,c.x,ht),b1(E.y,c.y,ht),this.setTargetDelta(E),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(_h(x,this.layout.layoutBox,this.relativeParent.layout.layoutBox),wV(this.relativeTarget,this.relativeTargetOrigin,x,ht),et&&hV(this.relativeTarget,et)&&(this.isProjectionDirty=!1),et||(et=Ge()),mi(et,this.relativeTarget)),K&&(this.animationValues=v,rV(v,g,this.latestValues,ht,it,J)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=ht},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){var m,p,g;this.notifyListeners("animationStart"),(m=this.currentAnimation)==null||m.stop(),(g=(p=this.resumingFrom)==null?void 0:p.currentAnimation)==null||g.stop(),this.pendingAnimation&&(or(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=_e.update(()=>{oh.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=yo(0)),this.currentAnimation=tV(this.motionValue,[0,1e3],{...c,velocity:0,isSync:!0,onUpdate:v=>{this.mixTargetDelta(v),c.onUpdate&&c.onUpdate(v)},onStop:()=>{},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(mV),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:m,target:p,layout:g,latestValues:v}=c;if(!(!m||!p||!g)){if(this!==c&&this.layout&&g&&Nb(this.options.animationType,this.layout.layoutBox,g.layoutBox)){p=this.target||Ge();const E=_n(this.layout.layoutBox.x);p.x.min=c.target.x.min,p.x.max=p.x.min+E;const x=_n(this.layout.layoutBox.y);p.y.min=c.target.y.min,p.y.max=p.y.min+x}mi(m,p),uo(m,v),Kl(this.projectionDeltaWithTransform,this.layoutCorrected,m,v)}}registerSharedNode(c,m){this.sharedNodes.has(c)||this.sharedNodes.set(c,new fV),this.sharedNodes.get(c).add(m);const g=m.options.initialPromotionConfig;m.promote({transition:g?g.transition:void 0,preserveFollowOpacity:g&&g.shouldPreserveFollowOpacity?g.shouldPreserveFollowOpacity(m):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){var m;const{layoutId:c}=this.options;return c?((m=this.getStack())==null?void 0:m.lead)||this:this}getPrevLead(){var m;const{layoutId:c}=this.options;return c?(m=this.getStack())==null?void 0:m.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:m,preserveFollowOpacity:p}={}){const g=this.getStack();g&&g.promote(this,p),c&&(this.projectionDelta=void 0,this.needsReset=!0),m&&this.setOptions({transition:m})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetSkewAndRotation(){const{visualElement:c}=this.options;if(!c)return;let m=!1;const{latestValues:p}=c;if((p.z||p.rotate||p.rotateX||p.rotateY||p.rotateZ||p.skewX||p.skewY)&&(m=!0),!m)return;const g={};p.z&&gm("z",c,g,this.animationValues);for(let v=0;v<pm.length;v++)gm(`rotate${pm[v]}`,c,g,this.animationValues),gm(`skew${pm[v]}`,c,g,this.animationValues);c.render();for(const v in g)c.setStaticValue(v,g[v]),this.animationValues&&(this.animationValues[v]=g[v]);c.scheduleRender()}applyProjectionStyles(c,m){if(!this.instance||this.isSVG)return;if(!this.isVisible){c.visibility="hidden";return}const p=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,c.visibility="",c.opacity="",c.pointerEvents=ah(m==null?void 0:m.pointerEvents)||"",c.transform=p?p(this.latestValues,""):"none";return}const g=this.getLead();if(!this.projectionDelta||!this.layout||!g.target){this.options.layoutId&&(c.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,c.pointerEvents=ah(m==null?void 0:m.pointerEvents)||""),this.hasProjected&&!Xr(this.latestValues)&&(c.transform=p?p({},""):"none",this.hasProjected=!1);return}c.visibility="";const v=g.animationValues||g.latestValues;this.applyTransformsToTarget();let E=dV(this.projectionDeltaWithTransform,this.treeScale,v);p&&(E=p(v,E)),c.transform=E;const{x,y:M}=this.projectionDelta;c.transformOrigin=`${x.origin*100}% ${M.origin*100}% 0`,g.animationValues?c.opacity=g===this?v.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:v.opacityExit:c.opacity=g===this?v.opacity!==void 0?v.opacity:"":v.opacityExit!==void 0?v.opacityExit:0;for(const B in Hm){if(v[B]===void 0)continue;const{correct:K,applyTo:L,isCSSVariable:J}=Hm[B],it=E==="none"?v[B]:K(v[B],g);if(L){const et=L.length;for(let mt=0;mt<et;mt++)c[L[mt]]=it}else J?this.options.visualElement.renderState.vars[B]=it:c[B]=it}this.options.layoutId&&(c.pointerEvents=g===this?ah(m==null?void 0:m.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>{var m;return(m=c.currentAnimation)==null?void 0:m.stop()}),this.root.nodes.forEach(_1),this.root.sharedNodes.clear()}}}function gV(n){n.updateLayout()}function yV(n){var i;const t=((i=n.resumeFrom)==null?void 0:i.snapshot)||n.snapshot;if(n.isLead()&&n.layout&&t&&n.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:o}=n.layout,{animationType:u}=n.options,c=t.source!==n.layout.source;u==="size"?Jn(E=>{const x=c?t.measuredBox[E]:t.layoutBox[E],M=_n(x);x.min=r[E].min,x.max=x.min+M}):Nb(u,t.layoutBox,r)&&Jn(E=>{const x=c?t.measuredBox[E]:t.layoutBox[E],M=_n(r[E]);x.max=x.min+M,n.relativeTarget&&!n.currentAnimation&&(n.isProjectionDirty=!0,n.relativeTarget[E].max=n.relativeTarget[E].min+M)});const m=co();Kl(m,r,t.layoutBox);const p=co();c?Kl(p,n.applyTransform(o,!0),t.measuredBox):Kl(p,r,t.layoutBox);const g=!Rb(m);let v=!1;if(!n.resumeFrom){const E=n.getClosestProjectingParent();if(E&&!E.resumeFrom){const{snapshot:x,layout:M}=E;if(x&&M){const B=Ge();_h(B,t.layoutBox,x.layoutBox);const K=Ge();_h(K,r,M.layoutBox),Vb(B,K)||(v=!0),E.options.layoutRoot&&(n.relativeTarget=K,n.relativeTargetOrigin=B,n.relativeParent=E)}}}n.notifyListeners("didUpdate",{layout:r,snapshot:t,delta:p,layoutDelta:m,hasLayoutChanged:g,hasRelativeLayoutChanged:v})}else if(n.isLead()){const{onExitComplete:r}=n.options;r&&r()}n.options.transition=void 0}function vV(n){n.parent&&(n.isProjecting()||(n.isProjectionDirty=n.parent.isProjectionDirty),n.isSharedProjectionDirty||(n.isSharedProjectionDirty=!!(n.isProjectionDirty||n.parent.isProjectionDirty||n.parent.isSharedProjectionDirty)),n.isTransformDirty||(n.isTransformDirty=n.parent.isTransformDirty))}function _V(n){n.isProjectionDirty=n.isSharedProjectionDirty=n.isTransformDirty=!1}function TV(n){n.clearSnapshot()}function _1(n){n.clearMeasurements()}function T1(n){n.isLayoutDirty=!1}function EV(n){const{visualElement:t}=n.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),n.resetTransform()}function E1(n){n.finishAnimation(),n.targetDelta=n.relativeTarget=n.target=void 0,n.isProjectionDirty=!0}function bV(n){n.resolveTargetDelta()}function xV(n){n.calcProjection()}function AV(n){n.resetSkewAndRotation()}function SV(n){n.removeLeadSnapshot()}function b1(n,t,i){n.translate=Te(t.translate,0,i),n.scale=Te(t.scale,1,i),n.origin=t.origin,n.originPoint=t.originPoint}function x1(n,t,i,r){n.min=Te(t.min,i.min,r),n.max=Te(t.max,i.max,r)}function wV(n,t,i,r){x1(n.x,t.x,i.x,r),x1(n.y,t.y,i.y,r)}function CV(n){return n.animationValues&&n.animationValues.opacityExit!==void 0}const RV={duration:.45,ease:[.4,0,.1,1]},A1=n=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(n),S1=A1("applewebkit/")&&!A1("chrome/")?Math.round:ni;function w1(n){n.min=S1(n.min),n.max=S1(n.max)}function VV(n){w1(n.x),w1(n.y)}function Nb(n,t,i){return n==="position"||n==="preserve-aspect"&&!LR(y1(t),y1(i),.2)}function DV(n){var t;return n!==n.root&&((t=n.scroll)==null?void 0:t.wasRoot)}const MV=Mb({attachResizeListener:(n,t)=>su(n,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),ym={current:void 0},Ib=Mb({measureScroll:n=>({x:n.scrollLeft,y:n.scrollTop}),defaultParent:()=>{if(!ym.current){const n=new MV({});n.mount(window),n.setOptions({layoutScroll:!0}),ym.current=n}return ym.current},resetTransform:(n,t)=>{n.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:n=>window.getComputedStyle(n).position==="fixed"}),NV={pan:{Feature:JR},drag:{Feature:$R,ProjectionNode:Ib,MeasureLayout:Sb}};function C1(n,t,i){const{props:r}=n;n.animationState&&r.whileHover&&n.animationState.setActive("whileHover",i==="Start");const o="onHover"+i,u=r[o];u&&_e.postRender(()=>u(t,vu(t)))}class IV extends pr{mount(){const{current:t}=this.node;t&&(this.unmount=nC(t,(i,r)=>(C1(this.node,r,"Start"),o=>C1(this.node,o,"End"))))}unmount(){}}class OV extends pr{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=pu(su(this.node.current,"focus",()=>this.onFocus()),su(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function R1(n,t,i){const{props:r}=n;if(n.current instanceof HTMLButtonElement&&n.current.disabled)return;n.animationState&&r.whileTap&&n.animationState.setActive("whileTap",i==="Start");const o="onTap"+(i==="End"?"":i),u=r[o];u&&_e.postRender(()=>u(t,vu(t)))}class jV extends pr{mount(){const{current:t}=this.node;t&&(this.unmount=aC(t,(i,r)=>(R1(this.node,r,"Start"),(o,{success:u})=>R1(this.node,o,u?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Jm=new WeakMap,vm=new WeakMap,PV=n=>{const t=Jm.get(n.target);t&&t(n)},LV=n=>{n.forEach(PV)};function kV({root:n,...t}){const i=n||document;vm.has(i)||vm.set(i,{});const r=vm.get(i),o=JSON.stringify(t);return r[o]||(r[o]=new IntersectionObserver(LV,{root:n,...t})),r[o]}function zV(n,t,i){const r=kV(t);return Jm.set(n,i),r.observe(n),()=>{Jm.delete(n),r.unobserve(n)}}const UV={some:0,all:1};class BV extends pr{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:i,margin:r,amount:o="some",once:u}=t,c={root:i?i.current:void 0,rootMargin:r,threshold:typeof o=="number"?o:UV[o]},m=p=>{const{isIntersecting:g}=p;if(this.isInView===g||(this.isInView=g,u&&!g&&this.hasEnteredView))return;g&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",g);const{onViewportEnter:v,onViewportLeave:E}=this.node.getProps(),x=g?v:E;x&&x(p)};return zV(this.node.current,c,m)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:i}=this.node;["amount","margin","root"].some(qV(t,i))&&this.startObserver()}unmount(){}}function qV({viewport:n={}},{viewport:t={}}={}){return i=>n[i]!==t[i]}const FV={inView:{Feature:BV},tap:{Feature:jV},focus:{Feature:OV},hover:{Feature:IV}},HV={layout:{ProjectionNode:Ib,MeasureLayout:Sb}},GV={...MR,...FV,...NV,...HV},Lt=YC(GV,aR),KV=()=>A.jsxs("section",{className:"relative h-screen w-full overflow-hidden flex items-center justify-center bg-xv-bg",children:[A.jsx("div",{className:"absolute inset-0 z-0 bg-cover bg-center bg-no-repeat bg-fixed",style:{backgroundImage:"url('https://i.ibb.co/B2hLG2s4/Caballo-charro-crema-y-blanco-con-hacienda-mexicana-de-fondo.jpg')",backgroundPosition:"center 22%"},children:A.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-black/40 via-amber-900/25 to-[#fef3e2]/95"})}),A.jsx("div",{className:"absolute inset-0 z-10 pointer-events-none overflow-hidden",children:[...Array(18)].map((n,t)=>A.jsx(Lt.span,{initial:{y:-40,x:`${Math.random()*100}vw`,opacity:0,rotate:Math.random()*35},animate:{y:"115vh",x:`calc(${Math.random()*100}vw + ${Math.random()*120-60}px)`,rotate:300,opacity:[0,.7,0]},transition:{duration:Math.random()*8+13,repeat:1/0,ease:"linear",delay:Math.random()*5},className:"absolute w-3 h-4 rounded-[55%_45%_50%_50%] blur-[0.4px]",style:{background:t%2===0?"#f59e0b":"#fb923c",boxShadow:"0 0 10px rgba(245, 158, 11, 0.35)"}},`petal-${t}`))}),A.jsx("div",{className:"absolute inset-0 z-10 pointer-events-none overflow-hidden",children:[...Array(12)].map((n,t)=>A.jsx(Lt.span,{initial:{opacity:0,scale:0,x:`${Math.random()*100}vw`,y:`${Math.random()*100}vh`},animate:{opacity:[0,.9,0],scale:[0,1,0]},transition:{duration:2.4,repeat:1/0,delay:t*.35},className:"absolute w-1.5 h-1.5 bg-amber-100 rounded-full"},`spark-${t}`))}),A.jsx("div",{className:"relative z-20 w-full max-w-4xl mx-4 md:mx-auto text-center",children:A.jsxs(Lt.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{duration:1.3},className:"relative p-6 md:p-12 border-double border-4 border-white/30 rounded-[3rem] backdrop-blur-[2px]",children:[A.jsx(Lt.p,{initial:{opacity:0},animate:{opacity:1},transition:{duration:1.3,delay:.7},className:"texto-general text-white text-sm md:text-lg uppercase mb-2 tracking-[0.3em]",children:"Te invito a celebrar mis"}),A.jsxs(Lt.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{duration:1,delay:.9},className:"relative py-4",children:[A.jsx("h1",{className:"nombre-skarleth text-7xl md:text-9xl text-white relative z-10",children:"Skarleth"}),A.jsx("h1",{className:"nombre-skarleth text-7xl md:text-9xl text-amber-300 absolute top-0 left-0 right-0 blur-md opacity-65 z-0 translate-y-1",children:"Skarleth"})]}),A.jsx(Lt.h2,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.9,delay:1.2},className:"titulos-cursiva text-2xl md:text-5xl text-white mt-2 tracking-[0.2em]",children:"XV AOS"}),A.jsx(Lt.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:1.7,duration:.9},className:"mt-8 flex flex-col items-center gap-2",children:A.jsxs("div",{className:"flex items-center gap-4",children:[A.jsx("div",{className:"h-[1px] w-12 bg-white shadow-lg"}),A.jsx("p",{className:"font-mont text-white text-xl md:text-2xl tracking-widest font-semibold",children:"23  MAYO  2026"}),A.jsx("div",{className:"h-[1px] w-12 bg-white shadow-lg"})]})})]})}),A.jsx(Lt.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:2.2,duration:.9},className:"absolute bottom-8 left-1/2 transform -translate-x-1/2 animate-bounce",children:A.jsx("svg",{className:"w-8 h-8 text-white/80",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:A.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M19 14l-7 7m0 0l-7-7m7 7V3"})})})]}),_m=n=>n.toString().padStart(2,"0"),V1=n=>{const t=+new Date(n)-+new Date;return t<=0?{days:0,hours:0,minutes:0,seconds:0}:{days:Math.floor(t/(1e3*60*60*24)),hours:Math.floor(t/(1e3*60*60)%24),minutes:Math.floor(t/1e3/60%60),seconds:Math.floor(t/1e3%60)}},YV=({value:n,label:t})=>{const[i,r]=ot.useState(_m(n)),[o,u]=ot.useState(!1);return ot.useEffect(()=>{const c=_m(n);if(c===i)return;u(!0);const m=window.setTimeout(()=>{r(c),u(!1)},320);return()=>window.clearTimeout(m)},[n,i]),A.jsxs("div",{className:"flex flex-col items-center mx-1 md:mx-3",children:[A.jsx("div",{className:"relative w-20 h-24 md:w-28 md:h-32 perspective-[1000px]",children:A.jsxs("div",{className:"absolute inset-0 rounded-xl overflow-hidden bg-gradient-to-b from-[#3b1f14] to-[#1a0e08] shadow-[0_12px_25px_rgba(28,11,4,0.45)] border border-amber-200/20",children:[A.jsx("div",{className:"absolute inset-x-0 top-1/2 h-[1px] bg-amber-200/25 z-10"}),A.jsx("div",{className:"absolute top-0 left-0 right-0 h-1/2 flex items-end justify-center pb-1 text-3xl md:text-5xl font-cormorant text-amber-100 tracking-wider",children:i}),A.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-1/2 flex items-start justify-center pt-1 text-3xl md:text-5xl font-cormorant text-amber-100 tracking-wider",children:i}),o&&A.jsxs("div",{className:"absolute inset-0 pointer-events-none",children:[A.jsx("div",{className:"absolute top-0 left-0 right-0 h-1/2 origin-bottom bg-gradient-to-b from-[#4a291b] to-[#1f1008] animate-flip-top flex items-end justify-center pb-1 text-3xl md:text-5xl font-cormorant text-amber-100",children:i}),A.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-1/2 origin-top bg-gradient-to-b from-[#341c12] to-[#1b0f09] animate-flip-bottom flex items-start justify-center pt-1 text-3xl md:text-5xl font-cormorant text-amber-100",children:_m(n)})]})]})}),A.jsx("span",{className:"font-mont text-[11px] md:text-xs mt-3 tracking-[0.2em] text-xv-wine/80 uppercase",children:t})]})},QV=({targetDate:n})=>{const[t,i]=ot.useState(()=>V1(n));ot.useEffect(()=>{const o=window.setInterval(()=>{i(V1(n))},1e3);return()=>window.clearInterval(o)},[n]);const r=ot.useMemo(()=>[{key:"days",label:"Dias",value:t.days},{key:"hours",label:"Horas",value:t.hours},{key:"minutes",label:"Minutos",value:t.minutes},{key:"seconds",label:"Segundos",value:t.seconds}],[t]);return A.jsx("section",{className:"py-20 bg-[linear-gradient(180deg,#fdf2df_0%,#fff8ee_50%,#fdf2df_100%)] relative",children:A.jsxs("div",{className:"container mx-auto px-4 relative z-10",children:[A.jsxs("div",{className:"text-center mb-10",children:[A.jsx("h3",{className:"titulos-cursiva text-5xl text-xv-rose-gold mb-2",children:"Faltan"}),A.jsx("p",{className:"texto-general text-xv-wine text-sm tracking-[0.3em] uppercase",children:"PARA MI GRAN NOCHE"})]}),A.jsx("div",{className:"flex flex-wrap justify-center items-center gap-y-4",children:r.map((o,u)=>A.jsxs(WT.Fragment,{children:[A.jsx(YV,{value:o.value,label:o.label}),u<r.length-1&&A.jsx("span",{className:"hidden md:block text-2xl text-xv-wine/70 px-2",children:":"})]},o.key))})]})})};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XV=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),ZV=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,i,r)=>r?r.toUpperCase():i.toLowerCase()),D1=n=>{const t=ZV(n);return t.charAt(0).toUpperCase()+t.slice(1)},Ob=(...n)=>n.filter((t,i,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===i).join(" ").trim(),$V=n=>{for(const t in n)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var JV={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WV=ot.forwardRef(({color:n="currentColor",size:t=24,strokeWidth:i=2,absoluteStrokeWidth:r,className:o="",children:u,iconNode:c,...m},p)=>ot.createElement("svg",{ref:p,...JV,width:t,height:t,stroke:n,strokeWidth:r?Number(i)*24/Number(t):i,className:Ob("lucide",o),...!u&&!$V(m)&&{"aria-hidden":"true"},...m},[...c.map(([g,v])=>ot.createElement(g,v)),...Array.isArray(u)?u:[u]]));/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ce=(n,t)=>{const i=ot.forwardRef(({className:r,...o},u)=>ot.createElement(WV,{ref:u,iconNode:t,className:Ob(`lucide-${XV(D1(n))}`,`lucide-${n}`,r),...o}));return i.displayName=D1(n),i};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t4=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],e4=ce("camera",t4);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n4=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],M1=ce("check",n4);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i4=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],s4=ce("chevron-left",i4);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r4=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],a4=ce("chevron-right",r4);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o4=[["path",{d:"M10 9h4",key:"u4k05v"}],["path",{d:"M12 7v5",key:"ma6bk"}],["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"m18 9 3.52 2.147a1 1 0 0 1 .48.854V19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2v-6.999a1 1 0 0 1 .48-.854L6 9",key:"flvdwo"}],["path",{d:"M6 21V7a1 1 0 0 1 .376-.782l5-3.999a1 1 0 0 1 1.249.001l5 4A1 1 0 0 1 18 7v14",key:"a5i0n2"}]],l4=ce("church",o4);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u4=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],N1=ce("circle-check",u4);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c4=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],h4=ce("circle-x",c4);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f4=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],I1=ce("copy",f4);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d4=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],m4=ce("credit-card",d4);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p4=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],O1=ce("crown",p4);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g4=[["path",{d:"m15 15 6 6",key:"1s409w"}],["path",{d:"m15 9 6-6",key:"ko1vev"}],["path",{d:"M21 16v5h-5",key:"1ck2sf"}],["path",{d:"M21 8V3h-5",key:"1qoq8a"}],["path",{d:"M3 16v5h5",key:"1t08am"}],["path",{d:"m3 21 6-6",key:"wwnumi"}],["path",{d:"M3 8V3h5",key:"1ln10m"}],["path",{d:"M9 9 3 3",key:"v551iv"}]],y4=ce("expand",g4);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v4=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],j1=ce("external-link",v4);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _4=[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]],Wm=ce("gift",_4);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T4=[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]],E4=ce("hash",T4);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b4=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],ps=ce("heart",b4);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x4=[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]],A4=ce("instagram",x4);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S4=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],w4=ce("map-pin",S4);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C4=[["circle",{cx:"8",cy:"18",r:"4",key:"1fc0mg"}],["path",{d:"M12 18V2l7 4",key:"g04rme"}]],jb=ce("music-2",C4);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R4=[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]],V4=ce("music",R4);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D4=[["rect",{x:"14",y:"3",width:"5",height:"18",rx:"1",key:"kaeet6"}],["rect",{x:"5",y:"3",width:"5",height:"18",rx:"1",key:"1wsw3u"}]],M4=ce("pause",D4);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N4=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],I4=ce("play",N4);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O4=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],j4=ce("send",O4);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P4=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],Pb=ce("sparkles",P4);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L4=[["path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2",key:"cjf0a3"}],["path",{d:"M7 2v20",key:"1473qp"}],["path",{d:"M21 15V2a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7",key:"j28e5"}]],k4=ce("utensils",L4);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z4=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]],U4=ce("volume-2",z4);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B4=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]],q4=ce("volume-x",B4);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F4=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Lb=ce("x",F4),Pl=({title:n,names:t,delay:i,icon:r})=>A.jsxs(Lt.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6,delay:i},className:"text-center",children:[A.jsx("div",{className:"inline-flex items-center justify-center w-12 h-12 rounded-full bg-xv-rose-gold/10 text-xv-rose-gold mb-4",children:r}),A.jsx("h3",{className:"texto-general uppercase tracking-[0.2em] text-xv-wine mb-4",children:n}),A.jsx("div",{className:"space-y-1",children:t.map((o,u)=>A.jsx("p",{className:"nombres-padrinos text-2xl md:text-3xl text-xv-rose-dark",children:o},u))})]}),H4=()=>A.jsxs("section",{className:"py-20 bg-white relative overflow-hidden",children:[A.jsx("div",{className:"absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-transparent via-xv-rose-gold/30 to-transparent"}),A.jsx("div",{className:"absolute bottom-0 left-0 w-full h-1 bg-gradient-to-r from-transparent via-xv-rose-gold/30 to-transparent"}),A.jsxs("div",{className:"container mx-auto px-4",children:[A.jsxs(Lt.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"text-center mb-16",children:[A.jsx("h2",{className:"titulos-cursiva text-5xl md:text-6xl text-xv-rose-gold mb-4",children:"Con la satisfaccin de haberme visto nacer y crecer"}),A.jsx("p",{className:"font-mont text-gray-400 text-sm tracking-wider",children:"mis padres"})]}),A.jsxs("div",{className:"max-w-5xl mx-auto",children:[A.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-12 mb-16",children:[A.jsx(Pl,{title:"Mi Pap",names:["Jos Luis Cruz"],delay:.2,icon:A.jsx(O1,{size:24})}),A.jsx(Pl,{title:"Mi Mam",names:["Thalia Brenda Pacheco Olvera"],delay:.3,icon:A.jsx(O1,{size:24})})]}),A.jsxs(Lt.div,{initial:{scaleX:0},whileInView:{scaleX:1},viewport:{once:!0},transition:{duration:.8,delay:.4},className:"flex items-center justify-center gap-4 mb-16",children:[A.jsx("div",{className:"h-[1px] w-24 bg-xv-rose-gold/40"}),A.jsx(ps,{className:"text-xv-rose-gold",size:20,fill:"currentColor"}),A.jsx("div",{className:"h-[1px] w-24 bg-xv-rose-gold/40"})]}),A.jsxs(Lt.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"text-center mb-12",children:[A.jsx("h3",{className:"titulos-cursiva text-4xl text-xv-rose-dark mb-2",children:"Mis Padrinos"}),A.jsx("p",{className:"font-mont text-gray-400 text-xs tracking-wider uppercase",children:"Quienes me acompaan en este da especial"})]}),A.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[A.jsx(Pl,{title:"Padrinos de Velacin",names:["JOSE ARTURO GONZALEZ CHAVEZ","ELSA GONZALEZ LOPEZ"],delay:.5,icon:A.jsx(ps,{size:20})}),A.jsx(Pl,{title:"Padrinos de Anillo",names:["JOSE ARTURO GONZALEZ CHAVEZ","ELSA GONZALEZ LOPEZ"],delay:.6,icon:A.jsx(ps,{size:20})}),A.jsx(Pl,{title:"Padrinos de Corona",names:["JOSE ARTURO GONZALEZ CHAVEZ","ELSA GONZALEZ LOPEZ"],delay:.7,icon:A.jsx(ps,{size:20})})]})]})]})]}),G4=[{age:"0 aos",title:"Mi Primer Da",photo:"https://images.unsplash.com/photo-1604917869287-3ae73c77e227?auto=format&fit=crop&w=800&q=80",description:"Comenz esta historia llena de amor y sueos."},{age:"4 aos",title:"Infancia Feliz",photo:"https://images.unsplash.com/photo-1516627145497-ae6968895b74?auto=format&fit=crop&w=800&q=80",description:"Juegos, risas y una niez inolvidable."},{age:"8 aos",title:"Grandes Aprendizajes",photo:"https://images.unsplash.com/photo-1503919545889-aef636e10ad4?auto=format&fit=crop&w=800&q=80",description:"Cada paso fue construyendo quien soy hoy."},{age:"12 aos",title:"Nuevas Metas",photo:"https://images.unsplash.com/photo-1510936111840-65e151ad71bb?auto=format&fit=crop&w=800&q=80",description:"Descubriendo mis pasiones y mi esencia."},{age:"15 aos",title:"Mi Gran Momento",photo:"https://images.unsplash.com/photo-1524504388940-b1c1722653e1?auto=format&fit=crop&w=800&q=80",description:"Lista para celebrar esta noche de ensueo."}],K4=()=>A.jsx("section",{className:"py-24 bg-gradient-to-b from-white via-xv-bg/40 to-white overflow-hidden",children:A.jsxs("div",{className:"container mx-auto px-4",children:[A.jsxs(Lt.div,{initial:{opacity:0,y:25},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"text-center mb-14",children:[A.jsx(Pb,{className:"mx-auto text-xv-rose-gold mb-3",size:28}),A.jsx("h2",{className:"titulos-cursiva text-6xl text-xv-rose-dark mb-2",children:"Mi Historia"}),A.jsx("p",{className:"texto-general uppercase tracking-[0.3em] text-xv-wine/70 text-xs",children:"Desde mis primeros pasos hasta mis XV"})]}),A.jsxs("div",{className:"relative",children:[A.jsx("div",{className:"absolute top-[120px] left-0 right-0 h-[2px] bg-gradient-to-r from-transparent via-xv-rose-gold/40 to-transparent hidden md:block"}),A.jsx("div",{className:"flex gap-6 overflow-x-auto pb-6 snap-x snap-mandatory [scrollbar-width:thin]",children:G4.map((n,t)=>A.jsxs(Lt.article,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:t*.08},className:"min-w-[260px] md:min-w-[320px] bg-white border border-xv-rose/20 rounded-3xl p-4 shadow-lg snap-start",children:[A.jsxs("div",{className:"relative mb-4",children:[A.jsx("img",{src:n.photo,alt:n.title,className:"w-full h-56 object-cover rounded-2xl"}),A.jsx("span",{className:"absolute top-3 left-3 bg-white/90 px-3 py-1 rounded-full text-xs font-mont text-xv-wine tracking-wider uppercase",children:n.age})]}),A.jsx("h3",{className:"font-cormorant text-3xl text-xv-rose-dark leading-none mb-2",children:n.title}),A.jsx("p",{className:"font-mont text-sm text-gray-500 leading-relaxed",children:n.description})]},n.age))})]})]})}),Tm=({number:n,icon:t,title:i,time:r,location:o,delay:u,mapEmbedUrl:c,mapLinkUrl:m,description:p})=>A.jsxs(Lt.article,{initial:{opacity:0,y:40},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6,delay:u},className:"bg-white rounded-3xl shadow-lg border border-xv-rose/20 overflow-hidden",children:[A.jsxs("div",{className:"p-7 md:p-8",children:[A.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[A.jsx("div",{className:"w-10 h-10 rounded-full bg-xv-bg border border-xv-rose-gold flex items-center justify-center texto-general text-xv-wine text-sm",children:n}),A.jsx("div",{className:"text-xv-rose-gold",children:t})]}),A.jsx("h3",{className:"titulos-cursiva text-4xl text-xv-rose-dark mb-1",children:i}),r&&A.jsx("p",{className:"font-mont text-sm tracking-[0.2em] uppercase text-xv-wine mb-2",children:r}),A.jsx("p",{className:"font-mont text-sm text-gray-600 leading-relaxed",children:o}),p&&A.jsx("p",{className:"font-mont text-xs italic text-gray-400 mt-4",children:p})]}),c&&A.jsxs("div",{className:"px-5 pb-5",children:[A.jsx("div",{className:"rounded-2xl overflow-hidden border border-xv-rose/20 shadow-sm",children:A.jsx("iframe",{title:`Mapa de ${i}`,src:c,loading:"lazy",referrerPolicy:"no-referrer-when-downgrade",className:"w-full h-56"})}),A.jsxs("a",{href:m||c,target:"_blank",rel:"noreferrer",className:"mt-3 inline-flex items-center gap-2 text-xs uppercase tracking-widest text-xv-wine hover:text-xv-rose-dark",children:[A.jsx(w4,{size:12})," Abrir mapa completo"]})]})]}),Y4=()=>A.jsx("section",{className:"py-24 bg-xv-bg relative overflow-hidden",children:A.jsxs("div",{className:"container mx-auto px-4 relative z-10",children:[A.jsx("div",{className:"text-center mb-16",children:A.jsxs(Lt.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},children:[A.jsx("h2",{className:"titulos-cursiva text-6xl md:text-7xl text-xv-rose-gold mb-4",children:"Itinerario"}),A.jsx("p",{className:"texto-general text-sm md:text-base text-xv-wine/70 tracking-[0.3em] uppercase",children:"Acompaanos en este dia especial"})]})}),A.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8 max-w-6xl mx-auto",children:[A.jsx(Tm,{number:1,icon:A.jsx(l4,{size:36,strokeWidth:1.5}),title:"Ceremonia",time:"4:00 PM",location:"Iglesia Del Divino Nio, Loma de la Cruz, Nicols Romero",mapEmbedUrl:"https://www.google.com/maps?q=Iglesia+Del+Divino+Nio+Loma+de+la+Cruz+Nicols+Romero&output=embed",mapLinkUrl:"https://www.google.com/maps/search/?api=1&query=Iglesia+Del+Divino+Ni%C3%B1o+Loma+de+la+Cruz+Nicol%C3%A1s+Romero",delay:.1}),A.jsx(Tm,{number:2,icon:A.jsx(V4,{size:36,strokeWidth:1.5}),title:"Recepcin",time:"7:00 PM",location:"Saln y Albercas El Mirador, Calle 13 de Enero S/N, Nicols Romero",mapEmbedUrl:"https://www.google.com/maps?q=Saln+y+Albercas+El+Mirador+Calle+13+de+Enero+Nicols+Romero&output=embed",mapLinkUrl:"https://www.google.com/maps/search/?api=1&query=Sal%C3%B3n+y+Albercas+El+Mirador+Calle+13+de+Enero+Nicol%C3%A1s+Romero",delay:.2}),A.jsx(Tm,{number:3,icon:A.jsx(Wm,{size:36,strokeWidth:1.5}),title:"Regalos",time:"",location:"Lluvia de sobres",description:"Tu presencia es mi mayor regalo.",delay:.3})]})]})}),Q4=()=>A.jsxs("section",{className:"py-20 bg-gradient-to-b from-xv-bg to-white relative overflow-hidden",children:[A.jsxs("div",{className:"absolute inset-0 opacity-10",children:[A.jsx("div",{className:"absolute top-1/4 left-1/4 w-64 h-64 bg-xv-rose-gold rounded-full blur-3xl"}),A.jsx("div",{className:"absolute bottom-1/4 right-1/4 w-64 h-64 bg-xv-pink rounded-full blur-3xl"})]}),A.jsxs("div",{className:"container mx-auto px-4 relative z-10",children:[A.jsxs(Lt.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"text-center mb-16",children:[A.jsx(jb,{className:"mx-auto text-xv-rose-gold mb-4",size:40,strokeWidth:1.5}),A.jsx("h2",{className:"titulos-cursiva text-5xl md:text-6xl text-xv-rose-gold mb-4",children:"El Vals"}),A.jsx("div",{className:"w-16 h-0.5 bg-xv-rose-gold/50 mx-auto mb-6"})]}),A.jsx(Lt.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:.2},className:"max-w-2xl mx-auto text-center mb-16",children:A.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-3xl p-8 shadow-xl border border-xv-rose/10",children:[A.jsxs("div",{className:"flex items-center justify-center gap-3 mb-4",children:[A.jsx(ps,{className:"text-xv-rose-gold",size:20,fill:"currentColor"}),A.jsx("span",{className:"nombres-padrinos",children:"Vals con mi Pap"}),A.jsx(ps,{className:"text-xv-rose-gold",size:20,fill:"currentColor"})]}),A.jsx("h3",{className:"titulos-cursiva text-4xl text-xv-rose-dark mb-2",children:'"Mi Princesa"'}),A.jsx("p",{className:"font-mont text-gray-500 text-sm italic mb-4",children:"David Bisbal"}),A.jsx("div",{className:"h-[1px] w-24 bg-xv-rose-gold/30 mx-auto my-6"}),A.jsx("p",{className:"font-mont text-gray-400 text-sm leading-relaxed",children:"El primer vals ser un momento mgico junto a mi pap, seguido por el vals sorpresa."})]})}),A.jsx(Lt.p,{initial:{opacity:0},whileInView:{opacity:1},viewport:{once:!0},transition:{delay:.8},className:"text-center titulos-cursiva text-2xl text-xv-rose-dark mt-12",children:"Gracias por acompaarme en este sueo "})]})]}),X4=()=>{const n=[{name:"Dorado",color:"#D4AF37"},{name:"Champagne",color:"#F7E7CE"},{name:"Terracota",color:"#E2725B"},{name:"Vino",color:"#722F37"},{name:"Nude",color:"#E8C4A2"}],t=[{name:"Blanco",color:"#FFFFFF"},{name:"Rosa Fuerte",color:"#FF69B4"}];return A.jsx("section",{className:"py-16 bg-gradient-to-b from-white to-xv-bg relative overflow-hidden",children:A.jsxs("div",{className:"container mx-auto px-4",children:[A.jsxs(Lt.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"text-center mb-10",children:[A.jsx(Pb,{className:"mx-auto text-xv-rose-gold mb-4",size:32}),A.jsx("h2",{className:"titulos-cursiva text-5xl text-xv-rose-gold mb-2",children:"Cdigo de Vestimenta"}),A.jsx("p",{className:"texto-general text-xv-wine text-lg tracking-widest uppercase",children:"Formal / Elegante"})]}),A.jsxs("div",{className:"max-w-3xl mx-auto",children:[A.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[A.jsxs(Lt.div,{initial:{opacity:0,x:-30},whileInView:{opacity:1,x:0},viewport:{once:!0},transition:{delay:.2},className:"bg-white rounded-2xl p-6 shadow-lg border border-xv-rose/10",children:[A.jsx("h3",{className:"texto-general text-sm uppercase tracking-wider text-xv-wine mb-4 text-center",children:" Colores Sugeridos"}),A.jsx("div",{className:"flex flex-wrap justify-center gap-3",children:n.map((i,r)=>A.jsxs("div",{className:"flex flex-col items-center gap-1",children:[A.jsx("div",{className:"w-12 h-12 rounded-full shadow-md border-2 border-white",style:{backgroundColor:i.color}}),A.jsx("span",{className:"font-mont text-xs text-gray-500",children:i.name})]},r))})]}),A.jsxs(Lt.div,{initial:{opacity:0,x:30},whileInView:{opacity:1,x:0},viewport:{once:!0},transition:{delay:.3},className:"bg-white rounded-2xl p-6 shadow-lg border border-xv-rose/10",children:[A.jsx("h3",{className:"texto-general text-sm uppercase tracking-wider text-xv-wine mb-4 text-center",children:" Por Favor Evitar"}),A.jsx("div",{className:"flex flex-wrap justify-center gap-3",children:t.map((i,r)=>A.jsxs("div",{className:"flex flex-col items-center gap-1",children:[A.jsxs("div",{className:"relative",children:[A.jsx("div",{className:"w-12 h-12 rounded-full shadow-md border-2 border-gray-200",style:{backgroundColor:i.color}}),A.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:A.jsx(Lb,{className:"text-red-500",size:28,strokeWidth:3})})]}),A.jsx("span",{className:"font-mont text-xs text-gray-500",children:i.name})]},r))}),A.jsx("p",{className:"font-mont text-xs text-gray-400 text-center mt-4 italic",children:"Estos colores estn reservados para la quinceaera"})]})]}),A.jsx(Lt.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:.4},className:"mt-8 text-center",children:A.jsxs("div",{className:"inline-flex flex-wrap justify-center gap-4 font-mont text-sm text-xv-wine/70",children:[A.jsxs("span",{className:"flex items-center gap-2",children:[A.jsx("span",{className:"text-lg",children:""})," Tacn cmodo"]}),A.jsx("span",{className:"text-xv-rose-gold",children:""}),A.jsxs("span",{className:"flex items-center gap-2",children:[A.jsx("span",{className:"text-lg",children:""})," Caballeros: Traje"]}),A.jsx("span",{className:"text-xv-rose-gold",children:""}),A.jsxs("span",{className:"flex items-center gap-2",children:[A.jsx("span",{className:"text-lg",children:""})," Damas: Vestido largo"]})]})})]})]})})},Qr=[{src:"https://picsum.photos/700/1050?random=21",caption:"Sesin Casual"},{src:"https://picsum.photos/900/650?random=22",caption:"Momentos Inolvidables"},{src:"https://picsum.photos/700/900?random=23",caption:"Mi Sonrisa"},{src:"https://picsum.photos/850/1200?random=24",caption:"Con Mi Familia"},{src:"https://picsum.photos/900/760?random=25",caption:"Detalles de Ensueo"},{src:"https://picsum.photos/700/980?random=26",caption:"Cuenta Regresiva"},{src:"https://picsum.photos/800/1200?random=27",caption:"Princesa por un Da"}],Z4=()=>{const[n,t]=ot.useState(!1),[i,r]=ot.useState(0),o=ot.useRef(null),u=E=>{r(E),t(!0),document.body.style.overflow="hidden"},c=()=>{t(!1),document.body.style.overflow="unset"},m=ot.useCallback(()=>{r(E=>(E+1)%Qr.length)},[]),p=ot.useCallback(()=>{r(E=>(E-1+Qr.length)%Qr.length)},[]);ot.useEffect(()=>{const E=x=>{n&&(x.key==="Escape"&&c(),x.key==="ArrowRight"&&m(),x.key==="ArrowLeft"&&p())};return window.addEventListener("keydown",E),()=>window.removeEventListener("keydown",E)},[n,m,p]);const g=E=>{o.current=E.touches[0].clientX},v=E=>{if(o.current===null)return;const x=E.changedTouches[0].clientX-o.current;x<-50&&m(),x>50&&p(),o.current=null};return A.jsxs("section",{className:"py-20 bg-white relative",children:[A.jsxs("div",{className:"container mx-auto px-4",children:[A.jsxs("div",{className:"text-center mb-12",children:[A.jsx("h2",{className:"titulos-cursiva text-5xl md:text-6xl text-xv-rose-dark mb-2",children:"Galera"}),A.jsx("div",{className:"w-16 h-1 bg-xv-rose-gold mx-auto mt-4 rounded-full"}),A.jsx("p",{className:"font-mont text-gray-400 text-sm mt-4 tracking-wider uppercase",children:"Recuerdos Inolvidables"})]}),A.jsx("div",{className:"columns-1 sm:columns-2 md:columns-3 gap-4 [column-fill:_balance]",children:Qr.map((E,x)=>A.jsxs(Lt.button,{type:"button",initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:x*.06},onClick:()=>u(x),className:"group relative mb-4 w-full overflow-hidden rounded-2xl border-4 border-white shadow-lg break-inside-avoid",children:[A.jsx("img",{src:E.src,alt:E.caption,className:"w-full h-auto object-cover transition-transform duration-700 group-hover:scale-105"}),A.jsx("div",{className:"absolute inset-0 bg-black/10 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center",children:A.jsx(y4,{size:28,className:"text-white"})}),A.jsx("div",{className:"absolute left-3 right-3 bottom-3 rounded-xl bg-white/90 backdrop-blur-sm py-2 px-3 translate-y-16 group-hover:translate-y-0 transition-transform duration-300",children:A.jsx("p",{className:"text-xv-wine text-xs texto-general text-center tracking-wider",children:E.caption})})]},E.src))})]}),A.jsx(YE,{children:n&&A.jsxs(Lt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:c,className:"fixed inset-0 z-[80] bg-black/85 backdrop-blur-sm flex items-center justify-center p-4",children:[A.jsx("button",{onClick:c,className:"absolute top-4 right-4 text-white/90 hover:text-white transition-colors z-30 p-2","aria-label":"Cerrar",children:A.jsx(Lb,{size:32})}),A.jsx("button",{onClick:E=>{E.stopPropagation(),p()},className:"absolute left-2 md:left-8 text-white transition-colors z-30 p-2","aria-label":"Anterior",children:A.jsx(s4,{size:40})}),A.jsx("button",{onClick:E=>{E.stopPropagation(),m()},className:"absolute right-2 md:right-8 text-white transition-colors z-30 p-2","aria-label":"Siguiente",children:A.jsx(a4,{size:40})}),A.jsxs(Lt.div,{initial:{opacity:0,scale:.92},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.92},transition:{duration:.35,ease:"easeOut"},className:"relative max-w-5xl max-h-[80vh] w-full h-full flex items-center justify-center z-20",onClick:E=>E.stopPropagation(),onTouchStart:g,onTouchEnd:v,children:[A.jsx("img",{src:Qr[i].src,alt:Qr[i].caption,className:"max-w-full max-h-full object-contain rounded-lg shadow-2xl border-[6px] border-white"}),A.jsxs("div",{className:"absolute -bottom-14 left-0 right-0 text-center pointer-events-none",children:[A.jsx("h3",{className:"titulos-cursiva text-white text-3xl mb-1 tracking-wide",children:Qr[i].caption}),A.jsx("p",{className:"text-gray-300 font-mont text-xs",children:"Desliza para cambiar"})]})]},i)]})})]})},Em=({icon:n,title:t,description:i,action:r,delay:o})=>A.jsx(Lt.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6,delay:o},className:"bg-white rounded-2xl p-6 shadow-lg border border-xv-rose/10 hover:shadow-xl transition-shadow duration-300",children:A.jsxs("div",{className:"text-center",children:[A.jsx("div",{className:"inline-flex items-center justify-center w-14 h-14 rounded-full bg-gradient-to-br from-xv-rose-gold/20 to-xv-pink/20 text-xv-rose-gold mb-4",children:n}),A.jsx("h3",{className:"texto-general text-lg text-xv-wine mb-2",children:t}),A.jsx("p",{className:"font-mont text-gray-500 text-sm mb-4",children:i}),r]})}),$4=()=>{const[n,t]=ot.useState(null),i=(o,u)=>{navigator.clipboard.writeText(o),t(u),setTimeout(()=>t(null),2e3)},r={bank:"BBVA",clabe:"012345678901234567",card:"4152 3135 8888 9999",holder:"Jos Luis Cruz Hernndez"};return A.jsxs("section",{className:"py-20 bg-xv-bg relative overflow-hidden",children:[A.jsx("div",{className:"absolute top-10 right-10 w-32 h-32 bg-xv-pink/20 rounded-full blur-3xl"}),A.jsx("div",{className:"absolute bottom-10 left-10 w-32 h-32 bg-xv-rose/20 rounded-full blur-3xl"}),A.jsxs("div",{className:"container mx-auto px-4 relative z-10",children:[A.jsxs(Lt.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"text-center mb-12",children:[A.jsx(Wm,{className:"mx-auto text-xv-rose-gold mb-4",size:40,strokeWidth:1.5}),A.jsx("h2",{className:"titulos-cursiva text-5xl md:text-6xl text-xv-rose-gold mb-4",children:"Mesa de Regalos"}),A.jsx("p",{className:"font-mont text-gray-500 max-w-lg mx-auto leading-relaxed",children:"Tu presencia es el mejor regalo. Sin embargo, si deseas obsequiarme algo, aqu te dejo algunas opciones."})]}),A.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 max-w-4xl mx-auto",children:[A.jsx(Em,{icon:A.jsx(Wm,{size:28}),title:"Lluvia de Sobres",description:"El da del evento habr un buzn especial para tu regalo",delay:.2,action:A.jsx("span",{className:"inline-block font-mont text-xs text-xv-rose-gold bg-xv-rose-gold/10 px-4 py-2 rounded-full",children:" En la fiesta"})}),A.jsx(Em,{icon:A.jsx(m4,{size:28}),title:"Transferencia",description:`${r.bank} - ${r.holder}`,delay:.3,action:A.jsxs("div",{className:"space-y-2",children:[A.jsxs("button",{onClick:()=>i(r.clabe,"clabe"),className:"w-full flex items-center justify-between bg-xv-bg hover:bg-xv-pink/20 px-4 py-2 rounded-lg transition-colors group",children:[A.jsxs("span",{className:"font-mono text-xs text-gray-600",children:["CLABE: ",r.clabe.slice(0,8),"..."]}),n==="clabe"?A.jsx(M1,{size:16,className:"text-green-500"}):A.jsx(I1,{size:16,className:"text-gray-400 group-hover:text-xv-rose-gold"})]}),A.jsxs("button",{onClick:()=>i(r.card.replace(/\s/g,""),"card"),className:"w-full flex items-center justify-between bg-xv-bg hover:bg-xv-pink/20 px-4 py-2 rounded-lg transition-colors group",children:[A.jsxs("span",{className:"font-mono text-xs text-gray-600",children:["Tarjeta: ",r.card]}),n==="card"?A.jsx(M1,{size:16,className:"text-green-500"}):A.jsx(I1,{size:16,className:"text-gray-400 group-hover:text-xv-rose-gold"})]})]})}),A.jsx(Em,{icon:A.jsx(j1,{size:28}),title:"Lista de Deseos",description:"Productos seleccionados con mucho cario",delay:.4,action:A.jsxs("a",{href:"https://www.amazon.com.mx/hz/wishlist/ls/EXAMPLE",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 bg-xv-wine hover:bg-xv-rose-dark text-white font-mont text-xs px-6 py-2 rounded-full transition-colors",children:["Ver Lista",A.jsx(j1,{size:14})]})})]}),A.jsx(Lt.p,{initial:{opacity:0},whileInView:{opacity:1},viewport:{once:!0},transition:{delay:.6},className:"text-center font-vibes text-2xl text-xv-rose-dark mt-12",children:"Gracias por ser parte de mi celebracin! "})]})]})};var eg={};(function n(t,i,r,o){var u=!!(t.Worker&&t.Blob&&t.Promise&&t.OffscreenCanvas&&t.OffscreenCanvasRenderingContext2D&&t.HTMLCanvasElement&&t.HTMLCanvasElement.prototype.transferControlToOffscreen&&t.URL&&t.URL.createObjectURL),c=typeof Path2D=="function"&&typeof DOMMatrix=="function",m=(function(){if(!t.OffscreenCanvas)return!1;try{var z=new OffscreenCanvas(1,1),b=z.getContext("2d");b.fillRect(0,0,1,1);var U=z.transferToImageBitmap();b.createPattern(U,"no-repeat")}catch{return!1}return!0})();function p(){}function g(z){var b=i.exports.Promise,U=b!==void 0?b:t.Promise;return typeof U=="function"?new U(z):(z(p,p),null)}var v=(function(z,b){return{transform:function(U){if(z)return U;if(b.has(U))return b.get(U);var $=new OffscreenCanvas(U.width,U.height),rt=$.getContext("2d");return rt.drawImage(U,0,0),b.set(U,$),$},clear:function(){b.clear()}}})(m,new Map),E=(function(){var z=Math.floor(16.666666666666668),b,U,$={},rt=0;return typeof requestAnimationFrame=="function"&&typeof cancelAnimationFrame=="function"?(b=function(lt){var ft=Math.random();return $[ft]=requestAnimationFrame(function ct(Tt){rt===Tt||rt+z-1<Tt?(rt=Tt,delete $[ft],lt()):$[ft]=requestAnimationFrame(ct)}),ft},U=function(lt){$[lt]&&cancelAnimationFrame($[lt])}):(b=function(lt){return setTimeout(lt,z)},U=function(lt){return clearTimeout(lt)}),{frame:b,cancel:U}})(),x=(function(){var z,b,U={};function $(rt){function lt(ft,ct){rt.postMessage({options:ft||{},callback:ct})}rt.init=function(ct){var Tt=ct.transferControlToOffscreen();rt.postMessage({canvas:Tt},[Tt])},rt.fire=function(ct,Tt,xt){if(b)return lt(ct,null),b;var $t=Math.random().toString(36).slice(2);return b=g(function(Gt){function te(ge){ge.data.callback===$t&&(delete U[$t],rt.removeEventListener("message",te),b=null,v.clear(),xt(),Gt())}rt.addEventListener("message",te),lt(ct,$t),U[$t]=te.bind(null,{data:{callback:$t}})}),b},rt.reset=function(){rt.postMessage({reset:!0});for(var ct in U)U[ct](),delete U[ct]}}return function(){if(z)return z;if(!r&&u){var rt=["var CONFETTI, SIZE = {}, module = {};","("+n.toString()+")(this, module, true, SIZE);","onmessage = function(msg) {","  if (msg.data.options) {","    CONFETTI(msg.data.options).then(function () {","      if (msg.data.callback) {","        postMessage({ callback: msg.data.callback });","      }","    });","  } else if (msg.data.reset) {","    CONFETTI && CONFETTI.reset();","  } else if (msg.data.resize) {","    SIZE.width = msg.data.resize.width;","    SIZE.height = msg.data.resize.height;","  } else if (msg.data.canvas) {","    SIZE.width = msg.data.canvas.width;","    SIZE.height = msg.data.canvas.height;","    CONFETTI = module.exports.create(msg.data.canvas);","  }","}"].join(`
`);try{z=new Worker(URL.createObjectURL(new Blob([rt])))}catch(lt){return typeof console<"u"&&typeof console.warn=="function"&&console.warn(" Could not load worker",lt),null}$(z)}return z}})(),M={particleCount:50,angle:90,spread:45,startVelocity:45,decay:.9,gravity:1,drift:0,ticks:200,x:.5,y:.5,shapes:["square","circle"],zIndex:100,colors:["#26ccff","#a25afd","#ff5e7e","#88ff5a","#fcff42","#ffa62d","#ff36ff"],disableForReducedMotion:!1,scalar:1};function B(z,b){return b?b(z):z}function K(z){return z!=null}function L(z,b,U){return B(z&&K(z[b])?z[b]:M[b],U)}function J(z){return z<0?0:Math.floor(z)}function it(z,b){return Math.floor(Math.random()*(b-z))+z}function et(z){return parseInt(z,16)}function mt(z){return z.map(ht)}function ht(z){var b=String(z).replace(/[^0-9a-f]/gi,"");return b.length<6&&(b=b[0]+b[0]+b[1]+b[1]+b[2]+b[2]),{r:et(b.substring(0,2)),g:et(b.substring(2,4)),b:et(b.substring(4,6))}}function dt(z){var b=L(z,"origin",Object);return b.x=L(b,"x",Number),b.y=L(b,"y",Number),b}function R(z){z.width=document.documentElement.clientWidth,z.height=document.documentElement.clientHeight}function C(z){var b=z.getBoundingClientRect();z.width=b.width,z.height=b.height}function V(z){var b=document.createElement("canvas");return b.style.position="fixed",b.style.top="0px",b.style.left="0px",b.style.pointerEvents="none",b.style.zIndex=z,b}function j(z,b,U,$,rt,lt,ft,ct,Tt){z.save(),z.translate(b,U),z.rotate(lt),z.scale($,rt),z.arc(0,0,1,ft,ct,Tt),z.restore()}function I(z){var b=z.angle*(Math.PI/180),U=z.spread*(Math.PI/180);return{x:z.x,y:z.y,wobble:Math.random()*10,wobbleSpeed:Math.min(.11,Math.random()*.1+.05),velocity:z.startVelocity*.5+Math.random()*z.startVelocity,angle2D:-b+(.5*U-Math.random()*U),tiltAngle:(Math.random()*(.75-.25)+.25)*Math.PI,color:z.color,shape:z.shape,tick:0,totalTicks:z.ticks,decay:z.decay,drift:z.drift,random:Math.random()+2,tiltSin:0,tiltCos:0,wobbleX:0,wobbleY:0,gravity:z.gravity*3,ovalScalar:.6,scalar:z.scalar,flat:z.flat}}function k(z,b){b.x+=Math.cos(b.angle2D)*b.velocity+b.drift,b.y+=Math.sin(b.angle2D)*b.velocity+b.gravity,b.velocity*=b.decay,b.flat?(b.wobble=0,b.wobbleX=b.x+10*b.scalar,b.wobbleY=b.y+10*b.scalar,b.tiltSin=0,b.tiltCos=0,b.random=1):(b.wobble+=b.wobbleSpeed,b.wobbleX=b.x+10*b.scalar*Math.cos(b.wobble),b.wobbleY=b.y+10*b.scalar*Math.sin(b.wobble),b.tiltAngle+=.1,b.tiltSin=Math.sin(b.tiltAngle),b.tiltCos=Math.cos(b.tiltAngle),b.random=Math.random()+2);var U=b.tick++/b.totalTicks,$=b.x+b.random*b.tiltCos,rt=b.y+b.random*b.tiltSin,lt=b.wobbleX+b.random*b.tiltCos,ft=b.wobbleY+b.random*b.tiltSin;if(z.fillStyle="rgba("+b.color.r+", "+b.color.g+", "+b.color.b+", "+(1-U)+")",z.beginPath(),c&&b.shape.type==="path"&&typeof b.shape.path=="string"&&Array.isArray(b.shape.matrix))z.fill(at(b.shape.path,b.shape.matrix,b.x,b.y,Math.abs(lt-$)*.1,Math.abs(ft-rt)*.1,Math.PI/10*b.wobble));else if(b.shape.type==="bitmap"){var ct=Math.PI/10*b.wobble,Tt=Math.abs(lt-$)*.1,xt=Math.abs(ft-rt)*.1,$t=b.shape.bitmap.width*b.scalar,Gt=b.shape.bitmap.height*b.scalar,te=new DOMMatrix([Math.cos(ct)*Tt,Math.sin(ct)*Tt,-Math.sin(ct)*xt,Math.cos(ct)*xt,b.x,b.y]);te.multiplySelf(new DOMMatrix(b.shape.matrix));var ge=z.createPattern(v.transform(b.shape.bitmap),"no-repeat");ge.setTransform(te),z.globalAlpha=1-U,z.fillStyle=ge,z.fillRect(b.x-$t/2,b.y-Gt/2,$t,Gt),z.globalAlpha=1}else if(b.shape==="circle")z.ellipse?z.ellipse(b.x,b.y,Math.abs(lt-$)*b.ovalScalar,Math.abs(ft-rt)*b.ovalScalar,Math.PI/10*b.wobble,0,2*Math.PI):j(z,b.x,b.y,Math.abs(lt-$)*b.ovalScalar,Math.abs(ft-rt)*b.ovalScalar,Math.PI/10*b.wobble,0,2*Math.PI);else if(b.shape==="star")for(var Rt=Math.PI/2*3,De=4*b.scalar,Fe=8*b.scalar,We=b.x,gn=b.y,se=5,Jt=Math.PI/se;se--;)We=b.x+Math.cos(Rt)*Fe,gn=b.y+Math.sin(Rt)*Fe,z.lineTo(We,gn),Rt+=Jt,We=b.x+Math.cos(Rt)*De,gn=b.y+Math.sin(Rt)*De,z.lineTo(We,gn),Rt+=Jt;else z.moveTo(Math.floor(b.x),Math.floor(b.y)),z.lineTo(Math.floor(b.wobbleX),Math.floor(rt)),z.lineTo(Math.floor(lt),Math.floor(ft)),z.lineTo(Math.floor($),Math.floor(b.wobbleY));return z.closePath(),z.fill(),b.tick<b.totalTicks}function D(z,b,U,$,rt){var lt=b.slice(),ft=z.getContext("2d"),ct,Tt,xt=g(function($t){function Gt(){ct=Tt=null,ft.clearRect(0,0,$.width,$.height),v.clear(),rt(),$t()}function te(){r&&!($.width===o.width&&$.height===o.height)&&($.width=z.width=o.width,$.height=z.height=o.height),!$.width&&!$.height&&(U(z),$.width=z.width,$.height=z.height),ft.clearRect(0,0,$.width,$.height),lt=lt.filter(function(ge){return k(ft,ge)}),lt.length?ct=E.frame(te):Gt()}ct=E.frame(te),Tt=Gt});return{addFettis:function($t){return lt=lt.concat($t),xt},canvas:z,promise:xt,reset:function(){ct&&E.cancel(ct),Tt&&Tt()}}}function Zt(z,b){var U=!z,$=!!L(b||{},"resize"),rt=!1,lt=L(b,"disableForReducedMotion",Boolean),ft=u&&!!L(b||{},"useWorker"),ct=ft?x():null,Tt=U?R:C,xt=z&&ct?!!z.__confetti_initialized:!1,$t=typeof matchMedia=="function"&&matchMedia("(prefers-reduced-motion)").matches,Gt;function te(Rt,De,Fe){for(var We=L(Rt,"particleCount",J),gn=L(Rt,"angle",Number),se=L(Rt,"spread",Number),Jt=L(Rt,"startVelocity",Number),_i=L(Rt,"decay",Number),Io=L(Rt,"gravity",Number),fa=L(Rt,"drift",Number),Qe=L(Rt,"colors",mt),Xi=L(Rt,"ticks",Number),bs=L(Rt,"shapes"),yr=L(Rt,"scalar"),Ti=!!L(Rt,"flat"),da=dt(Rt),vr=We,xs=[],ma=z.width*da.x,Vn=z.height*da.y;vr--;)xs.push(I({x:ma,y:Vn,angle:gn,spread:se,startVelocity:Jt,color:Qe[vr%Qe.length],shape:bs[it(0,bs.length)],ticks:Xi,decay:_i,gravity:Io,drift:fa,scalar:yr,flat:Ti}));return Gt?Gt.addFettis(xs):(Gt=D(z,xs,Tt,De,Fe),Gt.promise)}function ge(Rt){var De=lt||L(Rt,"disableForReducedMotion",Boolean),Fe=L(Rt,"zIndex",Number);if(De&&$t)return g(function(Jt){Jt()});U&&Gt?z=Gt.canvas:U&&!z&&(z=V(Fe),document.body.appendChild(z)),$&&!xt&&Tt(z);var We={width:z.width,height:z.height};ct&&!xt&&ct.init(z),xt=!0,ct&&(z.__confetti_initialized=!0);function gn(){if(ct){var Jt={getBoundingClientRect:function(){if(!U)return z.getBoundingClientRect()}};Tt(Jt),ct.postMessage({resize:{width:Jt.width,height:Jt.height}});return}We.width=We.height=null}function se(){Gt=null,$&&(rt=!1,t.removeEventListener("resize",gn)),U&&z&&(document.body.contains(z)&&document.body.removeChild(z),z=null,xt=!1)}return $&&!rt&&(rt=!0,t.addEventListener("resize",gn,!1)),ct?ct.fire(Rt,We,se):te(Rt,We,se)}return ge.reset=function(){ct&&ct.reset(),Gt&&Gt.reset()},ge}var he;function X(){return he||(he=Zt(null,{useWorker:!0,resize:!0})),he}function at(z,b,U,$,rt,lt,ft){var ct=new Path2D(z),Tt=new Path2D;Tt.addPath(ct,new DOMMatrix(b));var xt=new Path2D;return xt.addPath(Tt,new DOMMatrix([Math.cos(ft)*rt,Math.sin(ft)*rt,-Math.sin(ft)*lt,Math.cos(ft)*lt,U,$])),xt}function gt(z){if(!c)throw new Error("path confetti are not supported in this browser");var b,U;typeof z=="string"?b=z:(b=z.path,U=z.matrix);var $=new Path2D(b),rt=document.createElement("canvas"),lt=rt.getContext("2d");if(!U){for(var ft=1e3,ct=ft,Tt=ft,xt=0,$t=0,Gt,te,ge=0;ge<ft;ge+=2)for(var Rt=0;Rt<ft;Rt+=2)lt.isPointInPath($,ge,Rt,"nonzero")&&(ct=Math.min(ct,ge),Tt=Math.min(Tt,Rt),xt=Math.max(xt,ge),$t=Math.max($t,Rt));Gt=xt-ct,te=$t-Tt;var De=10,Fe=Math.min(De/Gt,De/te);U=[Fe,0,0,Fe,-Math.round(Gt/2+ct)*Fe,-Math.round(te/2+Tt)*Fe]}return{type:"path",path:b,matrix:U}}function Mt(z){var b,U=1,$="#000000",rt='"Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji", "EmojiOne Color", "Android Emoji", "Twemoji Mozilla", "system emoji", sans-serif';typeof z=="string"?b=z:(b=z.text,U="scalar"in z?z.scalar:U,rt="fontFamily"in z?z.fontFamily:rt,$="color"in z?z.color:$);var lt=10*U,ft=""+lt+"px "+rt,ct=new OffscreenCanvas(lt,lt),Tt=ct.getContext("2d");Tt.font=ft;var xt=Tt.measureText(b),$t=Math.ceil(xt.actualBoundingBoxRight+xt.actualBoundingBoxLeft),Gt=Math.ceil(xt.actualBoundingBoxAscent+xt.actualBoundingBoxDescent),te=2,ge=xt.actualBoundingBoxLeft+te,Rt=xt.actualBoundingBoxAscent+te;$t+=te+te,Gt+=te+te,ct=new OffscreenCanvas($t,Gt),Tt=ct.getContext("2d"),Tt.font=ft,Tt.fillStyle=$,Tt.fillText(b,ge,Rt);var De=1/U;return{type:"bitmap",bitmap:ct.transferToImageBitmap(),matrix:[De,0,0,De,-$t*De/2,-Gt*De/2]}}i.exports=function(){return X().apply(this,arguments)},i.exports.reset=function(){X().reset()},i.exports.create=Zt,i.exports.shapeFromPath=gt,i.exports.shapeFromText=Mt})((function(){return typeof window<"u"?window:typeof self<"u"?self:this||{}})(),eg,!1);const P1=eg.exports;eg.exports.create;const J4=()=>{};var L1={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kb=function(n){const t=[];let i=0;for(let r=0;r<n.length;r++){let o=n.charCodeAt(r);o<128?t[i++]=o:o<2048?(t[i++]=o>>6|192,t[i++]=o&63|128):(o&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(n.charCodeAt(++r)&1023),t[i++]=o>>18|240,t[i++]=o>>12&63|128,t[i++]=o>>6&63|128,t[i++]=o&63|128):(t[i++]=o>>12|224,t[i++]=o>>6&63|128,t[i++]=o&63|128)}return t},W4=function(n){const t=[];let i=0,r=0;for(;i<n.length;){const o=n[i++];if(o<128)t[r++]=String.fromCharCode(o);else if(o>191&&o<224){const u=n[i++];t[r++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=n[i++],c=n[i++],m=n[i++],p=((o&7)<<18|(u&63)<<12|(c&63)<<6|m&63)-65536;t[r++]=String.fromCharCode(55296+(p>>10)),t[r++]=String.fromCharCode(56320+(p&1023))}else{const u=n[i++],c=n[i++];t[r++]=String.fromCharCode((o&15)<<12|(u&63)<<6|c&63)}}return t.join("")},zb={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,t){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<n.length;o+=3){const u=n[o],c=o+1<n.length,m=c?n[o+1]:0,p=o+2<n.length,g=p?n[o+2]:0,v=u>>2,E=(u&3)<<4|m>>4;let x=(m&15)<<2|g>>6,M=g&63;p||(M=64,c||(x=64)),r.push(i[v],i[E],i[x],i[M])}return r.join("")},encodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(n):this.encodeByteArray(kb(n),t)},decodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(n):W4(this.decodeStringToByteArray(n,t))},decodeStringToByteArray(n,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<n.length;){const u=i[n.charAt(o++)],m=o<n.length?i[n.charAt(o)]:0;++o;const g=o<n.length?i[n.charAt(o)]:64;++o;const E=o<n.length?i[n.charAt(o)]:64;if(++o,u==null||m==null||g==null||E==null)throw new tD;const x=u<<2|m>>4;if(r.push(x),g!==64){const M=m<<4&240|g>>2;if(r.push(M),E!==64){const B=g<<6&192|E;r.push(B)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class tD extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const eD=function(n){const t=kb(n);return zb.encodeByteArray(t,!0)},Th=function(n){return eD(n).replace(/\./g,"")},nD=function(n){try{return zb.decodeString(n,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iD(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sD=()=>iD().__FIREBASE_DEFAULTS__,rD=()=>{if(typeof process>"u"||typeof L1>"u")return;const n=L1.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},aD=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=n&&nD(n[1]);return t&&JSON.parse(t)},ng=()=>{try{return J4()||sD()||rD()||aD()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},oD=n=>{var t,i;return(i=(t=ng())==null?void 0:t.emulatorHosts)==null?void 0:i[n]},lD=n=>{const t=oD(n);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),r]:[t.substring(0,i),r]},Ub=()=>{var n;return(n=ng())==null?void 0:n.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uD{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,r)=>{i?this.reject(i):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ig(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function cD(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hD(n,t){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},r=t||"demo-project",o=n.iat||0,u=n.sub||n.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...n};return[Th(JSON.stringify(i)),Th(JSON.stringify(c)),""].join(".")}const Yl={};function fD(){const n={prod:[],emulator:[]};for(const t of Object.keys(Yl))Yl[t]?n.emulator.push(t):n.prod.push(t);return n}function dD(n){let t=document.getElementById(n),i=!1;return t||(t=document.createElement("div"),t.setAttribute("id",n),i=!0),{created:i,element:t}}let k1=!1;function mD(n,t){if(typeof window>"u"||typeof document>"u"||!ig(window.location.host)||Yl[n]===t||Yl[n]||k1)return;Yl[n]=t;function i(x){return`__firebase__banner__${x}`}const r="__firebase__banner",u=fD().prod.length>0;function c(){const x=document.getElementById(r);x&&x.remove()}function m(x){x.style.display="flex",x.style.background="#7faaf0",x.style.position="fixed",x.style.bottom="5px",x.style.left="5px",x.style.padding=".5em",x.style.borderRadius="5px",x.style.alignItems="center"}function p(x,M){x.setAttribute("width","24"),x.setAttribute("id",M),x.setAttribute("height","24"),x.setAttribute("viewBox","0 0 24 24"),x.setAttribute("fill","none"),x.style.marginLeft="-6px"}function g(){const x=document.createElement("span");return x.style.cursor="pointer",x.style.marginLeft="16px",x.style.fontSize="24px",x.innerHTML=" &times;",x.onclick=()=>{k1=!0,c()},x}function v(x,M){x.setAttribute("id",M),x.innerText="Learn more",x.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",x.setAttribute("target","__blank"),x.style.paddingLeft="5px",x.style.textDecoration="underline"}function E(){const x=dD(r),M=i("text"),B=document.getElementById(M)||document.createElement("span"),K=i("learnmore"),L=document.getElementById(K)||document.createElement("a"),J=i("preprendIcon"),it=document.getElementById(J)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(x.created){const et=x.element;m(et),v(L,K);const mt=g();p(it,J),et.append(it,B,L,mt),document.body.appendChild(et)}u?(B.innerText="Preview backend disconnected.",it.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(it.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,B.innerText="Preview backend running in this workspace."),B.setAttribute("id",M)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",E):E()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pD(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function gD(){var t;const n=(t=ng())==null?void 0:t.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function yD(){return!gD()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function vD(){try{return typeof indexedDB=="object"}catch{return!1}}function _D(){return new Promise((n,t)=>{try{let i=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(r),n(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{var u;t(((u=o.error)==null?void 0:u.message)||"")}}catch(i){t(i)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TD="FirebaseError";class Co extends Error{constructor(t,i,r){super(i),this.code=t,this.customData=r,this.name=TD,Object.setPrototypeOf(this,Co.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Bb.prototype.create)}}class Bb{constructor(t,i,r){this.service=t,this.serviceName=i,this.errors=r}create(t,...i){const r=i[0]||{},o=`${this.service}/${t}`,u=this.errors[t],c=u?ED(u,r):"Error",m=`${this.serviceName}: ${c} (${o}).`;return new Co(o,m,r)}}function ED(n,t){return n.replace(bD,(i,r)=>{const o=t[r];return o!=null?String(o):`<${r}?>`})}const bD=/\{\$([^}]+)}/g;function Eh(n,t){if(n===t)return!0;const i=Object.keys(n),r=Object.keys(t);for(const o of i){if(!r.includes(o))return!1;const u=n[o],c=t[o];if(z1(u)&&z1(c)){if(!Eh(u,c))return!1}else if(u!==c)return!1}for(const o of r)if(!i.includes(o))return!1;return!0}function z1(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sa(n){return n&&n._delegate?n._delegate:n}class ru{constructor(t,i,r){this.name=t,this.instanceFactory=i,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xD{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const r=new uD;if(this.instancesDeferred.set(i,r),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){const i=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),r=(t==null?void 0:t.optional)??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(SD(t))try{this.getOrInitializeService({instanceIdentifier:Zr})}catch{}for(const[i,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const u=this.getOrInitializeService({instanceIdentifier:o});r.resolve(u)}catch{}}}}clearInstance(t=Zr){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Zr){return this.instances.has(t)}getOptions(t=Zr){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:i});for(const[u,c]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);r===m&&c.resolve(o)}return o}onInit(t,i){const r=this.normalizeInstanceIdentifier(i),o=this.onInitCallbacks.get(r)??new Set;o.add(t),this.onInitCallbacks.set(r,o);const u=this.instances.get(r);return u&&t(u,r),()=>{o.delete(t)}}invokeOnInitCallbacks(t,i){const r=this.onInitCallbacks.get(i);if(r)for(const o of r)try{o(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:AD(t),options:i}),this.instances.set(t,r),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=Zr){return this.component?this.component.multipleInstances?t:Zr:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function AD(n){return n===Zr?void 0:n}function SD(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wD{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new xD(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ht;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Ht||(Ht={}));const CD={debug:Ht.DEBUG,verbose:Ht.VERBOSE,info:Ht.INFO,warn:Ht.WARN,error:Ht.ERROR,silent:Ht.SILENT},RD=Ht.INFO,VD={[Ht.DEBUG]:"log",[Ht.VERBOSE]:"log",[Ht.INFO]:"info",[Ht.WARN]:"warn",[Ht.ERROR]:"error"},DD=(n,t,...i)=>{if(t<n.logLevel)return;const r=new Date().toISOString(),o=VD[t];if(o)console[o](`[${r}]  ${n.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class qb{constructor(t){this.name=t,this._logLevel=RD,this._logHandler=DD,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Ht))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?CD[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Ht.DEBUG,...t),this._logHandler(this,Ht.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Ht.VERBOSE,...t),this._logHandler(this,Ht.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Ht.INFO,...t),this._logHandler(this,Ht.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Ht.WARN,...t),this._logHandler(this,Ht.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Ht.ERROR,...t),this._logHandler(this,Ht.ERROR,...t)}}const MD=(n,t)=>t.some(i=>n instanceof i);let U1,B1;function ND(){return U1||(U1=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function ID(){return B1||(B1=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Fb=new WeakMap,tp=new WeakMap,Hb=new WeakMap,bm=new WeakMap,sg=new WeakMap;function OD(n){const t=new Promise((i,r)=>{const o=()=>{n.removeEventListener("success",u),n.removeEventListener("error",c)},u=()=>{i(ir(n.result)),o()},c=()=>{r(n.error),o()};n.addEventListener("success",u),n.addEventListener("error",c)});return t.then(i=>{i instanceof IDBCursor&&Fb.set(i,n)}).catch(()=>{}),sg.set(t,n),t}function jD(n){if(tp.has(n))return;const t=new Promise((i,r)=>{const o=()=>{n.removeEventListener("complete",u),n.removeEventListener("error",c),n.removeEventListener("abort",c)},u=()=>{i(),o()},c=()=>{r(n.error||new DOMException("AbortError","AbortError")),o()};n.addEventListener("complete",u),n.addEventListener("error",c),n.addEventListener("abort",c)});tp.set(n,t)}let ep={get(n,t,i){if(n instanceof IDBTransaction){if(t==="done")return tp.get(n);if(t==="objectStoreNames")return n.objectStoreNames||Hb.get(n);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return ir(n[t])},set(n,t,i){return n[t]=i,!0},has(n,t){return n instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in n}};function PD(n){ep=n(ep)}function LD(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const r=n.call(xm(this),t,...i);return Hb.set(r,t.sort?t.sort():[t]),ir(r)}:ID().includes(n)?function(...t){return n.apply(xm(this),t),ir(Fb.get(this))}:function(...t){return ir(n.apply(xm(this),t))}}function kD(n){return typeof n=="function"?LD(n):(n instanceof IDBTransaction&&jD(n),MD(n,ND())?new Proxy(n,ep):n)}function ir(n){if(n instanceof IDBRequest)return OD(n);if(bm.has(n))return bm.get(n);const t=kD(n);return t!==n&&(bm.set(n,t),sg.set(t,n)),t}const xm=n=>sg.get(n);function zD(n,t,{blocked:i,upgrade:r,blocking:o,terminated:u}={}){const c=indexedDB.open(n,t),m=ir(c);return r&&c.addEventListener("upgradeneeded",p=>{r(ir(c.result),p.oldVersion,p.newVersion,ir(c.transaction),p)}),i&&c.addEventListener("blocked",p=>i(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),m}const UD=["get","getKey","getAll","getAllKeys","count"],BD=["put","add","delete","clear"],Am=new Map;function q1(n,t){if(!(n instanceof IDBDatabase&&!(t in n)&&typeof t=="string"))return;if(Am.get(t))return Am.get(t);const i=t.replace(/FromIndex$/,""),r=t!==i,o=BD.includes(i);if(!(i in(r?IDBIndex:IDBObjectStore).prototype)||!(o||UD.includes(i)))return;const u=async function(c,...m){const p=this.transaction(c,o?"readwrite":"readonly");let g=p.store;return r&&(g=g.index(m.shift())),(await Promise.all([g[i](...m),o&&p.done]))[0]};return Am.set(t,u),u}PD(n=>({...n,get:(t,i,r)=>q1(t,i)||n.get(t,i,r),has:(t,i)=>!!q1(t,i)||n.has(t,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qD{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(FD(i)){const r=i.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(i=>i).join(" ")}}function FD(n){const t=n.getComponent();return(t==null?void 0:t.type)==="VERSION"}const np="@firebase/app",F1="0.14.8";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _s=new qb("@firebase/app"),HD="@firebase/app-compat",GD="@firebase/analytics-compat",KD="@firebase/analytics",YD="@firebase/app-check-compat",QD="@firebase/app-check",XD="@firebase/auth",ZD="@firebase/auth-compat",$D="@firebase/database",JD="@firebase/data-connect",WD="@firebase/database-compat",tM="@firebase/functions",eM="@firebase/functions-compat",nM="@firebase/installations",iM="@firebase/installations-compat",sM="@firebase/messaging",rM="@firebase/messaging-compat",aM="@firebase/performance",oM="@firebase/performance-compat",lM="@firebase/remote-config",uM="@firebase/remote-config-compat",cM="@firebase/storage",hM="@firebase/storage-compat",fM="@firebase/firestore",dM="@firebase/ai",mM="@firebase/firestore-compat",pM="firebase",gM="12.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ip="[DEFAULT]",yM={[np]:"fire-core",[HD]:"fire-core-compat",[KD]:"fire-analytics",[GD]:"fire-analytics-compat",[QD]:"fire-app-check",[YD]:"fire-app-check-compat",[XD]:"fire-auth",[ZD]:"fire-auth-compat",[$D]:"fire-rtdb",[JD]:"fire-data-connect",[WD]:"fire-rtdb-compat",[tM]:"fire-fn",[eM]:"fire-fn-compat",[nM]:"fire-iid",[iM]:"fire-iid-compat",[sM]:"fire-fcm",[rM]:"fire-fcm-compat",[aM]:"fire-perf",[oM]:"fire-perf-compat",[lM]:"fire-rc",[uM]:"fire-rc-compat",[cM]:"fire-gcs",[hM]:"fire-gcs-compat",[fM]:"fire-fst",[mM]:"fire-fst-compat",[dM]:"fire-vertex","fire-js":"fire-js",[pM]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bh=new Map,vM=new Map,sp=new Map;function H1(n,t){try{n.container.addComponent(t)}catch(i){_s.debug(`Component ${t.name} failed to register with FirebaseApp ${n.name}`,i)}}function xh(n){const t=n.name;if(sp.has(t))return _s.debug(`There were multiple attempts to register component ${t}.`),!1;sp.set(t,n);for(const i of bh.values())H1(i,n);for(const i of vM.values())H1(i,n);return!0}function _M(n,t){const i=n.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),n.container.getProvider(t)}function TM(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EM={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},sr=new Bb("app","Firebase",EM);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bM{constructor(t,i,r){this._isDeleted=!1,this._options={...t},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ru("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw sr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xM=gM;function Gb(n,t={}){let i=n;typeof t!="object"&&(t={name:t});const r={name:ip,automaticDataCollectionEnabled:!0,...t},o=r.name;if(typeof o!="string"||!o)throw sr.create("bad-app-name",{appName:String(o)});if(i||(i=Ub()),!i)throw sr.create("no-options");const u=bh.get(o);if(u){if(Eh(i,u.options)&&Eh(r,u.config))return u;throw sr.create("duplicate-app",{appName:o})}const c=new wD(o);for(const p of sp.values())c.addComponent(p);const m=new bM(i,r,c);return bh.set(o,m),m}function AM(n=ip){const t=bh.get(n);if(!t&&n===ip&&Ub())return Gb();if(!t)throw sr.create("no-app",{appName:n});return t}function fo(n,t,i){let r=yM[n]??n;i&&(r+=`-${i}`);const o=r.match(/\s|\//),u=t.match(/\s|\//);if(o||u){const c=[`Unable to register library "${r}" with version "${t}":`];o&&c.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&u&&c.push("and"),u&&c.push(`version name "${t}" contains illegal characters (whitespace or "/")`),_s.warn(c.join(" "));return}xh(new ru(`${r}-version`,()=>({library:r,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SM="firebase-heartbeat-database",wM=1,au="firebase-heartbeat-store";let Sm=null;function Kb(){return Sm||(Sm=zD(SM,wM,{upgrade:(n,t)=>{switch(t){case 0:try{n.createObjectStore(au)}catch(i){console.warn(i)}}}}).catch(n=>{throw sr.create("idb-open",{originalErrorMessage:n.message})})),Sm}async function CM(n){try{const i=(await Kb()).transaction(au),r=await i.objectStore(au).get(Yb(n));return await i.done,r}catch(t){if(t instanceof Co)_s.warn(t.message);else{const i=sr.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});_s.warn(i.message)}}}async function G1(n,t){try{const r=(await Kb()).transaction(au,"readwrite");await r.objectStore(au).put(t,Yb(n)),await r.done}catch(i){if(i instanceof Co)_s.warn(i.message);else{const r=sr.create("idb-set",{originalErrorMessage:i==null?void 0:i.message});_s.warn(r.message)}}}function Yb(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RM=1024,VM=30;class DM{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new NM(i),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var t,i;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=K1();if(((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((i=this._heartbeatsCache)==null?void 0:i.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(c=>c.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats.length>VM){const c=IM(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(c,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){_s.warn(r)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const i=K1(),{heartbeatsToSend:r,unsentEntries:o}=MM(this._heartbeatsCache.heartbeats),u=Th(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=i,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(i){return _s.warn(i),""}}}function K1(){return new Date().toISOString().substring(0,10)}function MM(n,t=RM){const i=[];let r=n.slice();for(const o of n){const u=i.find(c=>c.agent===o.agent);if(u){if(u.dates.push(o.date),Y1(i)>t){u.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),Y1(i)>t){i.pop();break}r=r.slice(1)}return{heartbeatsToSend:i,unsentEntries:r}}class NM{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return vD()?_D().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await CM(this.app);return i!=null&&i.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return G1(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return G1(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...t.heartbeats]})}else return}}function Y1(n){return Th(JSON.stringify({version:2,heartbeats:n})).length}function IM(n){if(n.length===0)return-1;let t=0,i=n[0].date;for(let r=1;r<n.length;r++)n[r].date<i&&(i=n[r].date,t=r);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OM(n){xh(new ru("platform-logger",t=>new qD(t),"PRIVATE")),xh(new ru("heartbeat",t=>new DM(t),"PRIVATE")),fo(np,F1,n),fo(np,F1,"esm2020"),fo("fire-js","")}OM("");var Q1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var rr,Qb;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(R,C){function V(){}V.prototype=C.prototype,R.F=C.prototype,R.prototype=new V,R.prototype.constructor=R,R.D=function(j,I,k){for(var D=Array(arguments.length-2),Zt=2;Zt<arguments.length;Zt++)D[Zt-2]=arguments[Zt];return C.prototype[I].apply(j,D)}}function i(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(r,i),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(R,C,V){V||(V=0);const j=Array(16);if(typeof C=="string")for(var I=0;I<16;++I)j[I]=C.charCodeAt(V++)|C.charCodeAt(V++)<<8|C.charCodeAt(V++)<<16|C.charCodeAt(V++)<<24;else for(I=0;I<16;++I)j[I]=C[V++]|C[V++]<<8|C[V++]<<16|C[V++]<<24;C=R.g[0],V=R.g[1],I=R.g[2];let k=R.g[3],D;D=C+(k^V&(I^k))+j[0]+3614090360&4294967295,C=V+(D<<7&4294967295|D>>>25),D=k+(I^C&(V^I))+j[1]+3905402710&4294967295,k=C+(D<<12&4294967295|D>>>20),D=I+(V^k&(C^V))+j[2]+606105819&4294967295,I=k+(D<<17&4294967295|D>>>15),D=V+(C^I&(k^C))+j[3]+3250441966&4294967295,V=I+(D<<22&4294967295|D>>>10),D=C+(k^V&(I^k))+j[4]+4118548399&4294967295,C=V+(D<<7&4294967295|D>>>25),D=k+(I^C&(V^I))+j[5]+1200080426&4294967295,k=C+(D<<12&4294967295|D>>>20),D=I+(V^k&(C^V))+j[6]+2821735955&4294967295,I=k+(D<<17&4294967295|D>>>15),D=V+(C^I&(k^C))+j[7]+4249261313&4294967295,V=I+(D<<22&4294967295|D>>>10),D=C+(k^V&(I^k))+j[8]+1770035416&4294967295,C=V+(D<<7&4294967295|D>>>25),D=k+(I^C&(V^I))+j[9]+2336552879&4294967295,k=C+(D<<12&4294967295|D>>>20),D=I+(V^k&(C^V))+j[10]+4294925233&4294967295,I=k+(D<<17&4294967295|D>>>15),D=V+(C^I&(k^C))+j[11]+2304563134&4294967295,V=I+(D<<22&4294967295|D>>>10),D=C+(k^V&(I^k))+j[12]+1804603682&4294967295,C=V+(D<<7&4294967295|D>>>25),D=k+(I^C&(V^I))+j[13]+4254626195&4294967295,k=C+(D<<12&4294967295|D>>>20),D=I+(V^k&(C^V))+j[14]+2792965006&4294967295,I=k+(D<<17&4294967295|D>>>15),D=V+(C^I&(k^C))+j[15]+1236535329&4294967295,V=I+(D<<22&4294967295|D>>>10),D=C+(I^k&(V^I))+j[1]+4129170786&4294967295,C=V+(D<<5&4294967295|D>>>27),D=k+(V^I&(C^V))+j[6]+3225465664&4294967295,k=C+(D<<9&4294967295|D>>>23),D=I+(C^V&(k^C))+j[11]+643717713&4294967295,I=k+(D<<14&4294967295|D>>>18),D=V+(k^C&(I^k))+j[0]+3921069994&4294967295,V=I+(D<<20&4294967295|D>>>12),D=C+(I^k&(V^I))+j[5]+3593408605&4294967295,C=V+(D<<5&4294967295|D>>>27),D=k+(V^I&(C^V))+j[10]+38016083&4294967295,k=C+(D<<9&4294967295|D>>>23),D=I+(C^V&(k^C))+j[15]+3634488961&4294967295,I=k+(D<<14&4294967295|D>>>18),D=V+(k^C&(I^k))+j[4]+3889429448&4294967295,V=I+(D<<20&4294967295|D>>>12),D=C+(I^k&(V^I))+j[9]+568446438&4294967295,C=V+(D<<5&4294967295|D>>>27),D=k+(V^I&(C^V))+j[14]+3275163606&4294967295,k=C+(D<<9&4294967295|D>>>23),D=I+(C^V&(k^C))+j[3]+4107603335&4294967295,I=k+(D<<14&4294967295|D>>>18),D=V+(k^C&(I^k))+j[8]+1163531501&4294967295,V=I+(D<<20&4294967295|D>>>12),D=C+(I^k&(V^I))+j[13]+2850285829&4294967295,C=V+(D<<5&4294967295|D>>>27),D=k+(V^I&(C^V))+j[2]+4243563512&4294967295,k=C+(D<<9&4294967295|D>>>23),D=I+(C^V&(k^C))+j[7]+1735328473&4294967295,I=k+(D<<14&4294967295|D>>>18),D=V+(k^C&(I^k))+j[12]+2368359562&4294967295,V=I+(D<<20&4294967295|D>>>12),D=C+(V^I^k)+j[5]+4294588738&4294967295,C=V+(D<<4&4294967295|D>>>28),D=k+(C^V^I)+j[8]+2272392833&4294967295,k=C+(D<<11&4294967295|D>>>21),D=I+(k^C^V)+j[11]+1839030562&4294967295,I=k+(D<<16&4294967295|D>>>16),D=V+(I^k^C)+j[14]+4259657740&4294967295,V=I+(D<<23&4294967295|D>>>9),D=C+(V^I^k)+j[1]+2763975236&4294967295,C=V+(D<<4&4294967295|D>>>28),D=k+(C^V^I)+j[4]+1272893353&4294967295,k=C+(D<<11&4294967295|D>>>21),D=I+(k^C^V)+j[7]+4139469664&4294967295,I=k+(D<<16&4294967295|D>>>16),D=V+(I^k^C)+j[10]+3200236656&4294967295,V=I+(D<<23&4294967295|D>>>9),D=C+(V^I^k)+j[13]+681279174&4294967295,C=V+(D<<4&4294967295|D>>>28),D=k+(C^V^I)+j[0]+3936430074&4294967295,k=C+(D<<11&4294967295|D>>>21),D=I+(k^C^V)+j[3]+3572445317&4294967295,I=k+(D<<16&4294967295|D>>>16),D=V+(I^k^C)+j[6]+76029189&4294967295,V=I+(D<<23&4294967295|D>>>9),D=C+(V^I^k)+j[9]+3654602809&4294967295,C=V+(D<<4&4294967295|D>>>28),D=k+(C^V^I)+j[12]+3873151461&4294967295,k=C+(D<<11&4294967295|D>>>21),D=I+(k^C^V)+j[15]+530742520&4294967295,I=k+(D<<16&4294967295|D>>>16),D=V+(I^k^C)+j[2]+3299628645&4294967295,V=I+(D<<23&4294967295|D>>>9),D=C+(I^(V|~k))+j[0]+4096336452&4294967295,C=V+(D<<6&4294967295|D>>>26),D=k+(V^(C|~I))+j[7]+1126891415&4294967295,k=C+(D<<10&4294967295|D>>>22),D=I+(C^(k|~V))+j[14]+2878612391&4294967295,I=k+(D<<15&4294967295|D>>>17),D=V+(k^(I|~C))+j[5]+4237533241&4294967295,V=I+(D<<21&4294967295|D>>>11),D=C+(I^(V|~k))+j[12]+1700485571&4294967295,C=V+(D<<6&4294967295|D>>>26),D=k+(V^(C|~I))+j[3]+2399980690&4294967295,k=C+(D<<10&4294967295|D>>>22),D=I+(C^(k|~V))+j[10]+4293915773&4294967295,I=k+(D<<15&4294967295|D>>>17),D=V+(k^(I|~C))+j[1]+2240044497&4294967295,V=I+(D<<21&4294967295|D>>>11),D=C+(I^(V|~k))+j[8]+1873313359&4294967295,C=V+(D<<6&4294967295|D>>>26),D=k+(V^(C|~I))+j[15]+4264355552&4294967295,k=C+(D<<10&4294967295|D>>>22),D=I+(C^(k|~V))+j[6]+2734768916&4294967295,I=k+(D<<15&4294967295|D>>>17),D=V+(k^(I|~C))+j[13]+1309151649&4294967295,V=I+(D<<21&4294967295|D>>>11),D=C+(I^(V|~k))+j[4]+4149444226&4294967295,C=V+(D<<6&4294967295|D>>>26),D=k+(V^(C|~I))+j[11]+3174756917&4294967295,k=C+(D<<10&4294967295|D>>>22),D=I+(C^(k|~V))+j[2]+718787259&4294967295,I=k+(D<<15&4294967295|D>>>17),D=V+(k^(I|~C))+j[9]+3951481745&4294967295,R.g[0]=R.g[0]+C&4294967295,R.g[1]=R.g[1]+(I+(D<<21&4294967295|D>>>11))&4294967295,R.g[2]=R.g[2]+I&4294967295,R.g[3]=R.g[3]+k&4294967295}r.prototype.v=function(R,C){C===void 0&&(C=R.length);const V=C-this.blockSize,j=this.C;let I=this.h,k=0;for(;k<C;){if(I==0)for(;k<=V;)o(this,R,k),k+=this.blockSize;if(typeof R=="string"){for(;k<C;)if(j[I++]=R.charCodeAt(k++),I==this.blockSize){o(this,j),I=0;break}}else for(;k<C;)if(j[I++]=R[k++],I==this.blockSize){o(this,j),I=0;break}}this.h=I,this.o+=C},r.prototype.A=function(){var R=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);R[0]=128;for(var C=1;C<R.length-8;++C)R[C]=0;C=this.o*8;for(var V=R.length-8;V<R.length;++V)R[V]=C&255,C/=256;for(this.v(R),R=Array(16),C=0,V=0;V<4;++V)for(let j=0;j<32;j+=8)R[C++]=this.g[V]>>>j&255;return R};function u(R,C){var V=m;return Object.prototype.hasOwnProperty.call(V,R)?V[R]:V[R]=C(R)}function c(R,C){this.h=C;const V=[];let j=!0;for(let I=R.length-1;I>=0;I--){const k=R[I]|0;j&&k==C||(V[I]=k,j=!1)}this.g=V}var m={};function p(R){return-128<=R&&R<128?u(R,function(C){return new c([C|0],C<0?-1:0)}):new c([R|0],R<0?-1:0)}function g(R){if(isNaN(R)||!isFinite(R))return E;if(R<0)return L(g(-R));const C=[];let V=1;for(let j=0;R>=V;j++)C[j]=R/V|0,V*=4294967296;return new c(C,0)}function v(R,C){if(R.length==0)throw Error("number format error: empty string");if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(R.charAt(0)=="-")return L(v(R.substring(1),C));if(R.indexOf("-")>=0)throw Error('number format error: interior "-" character');const V=g(Math.pow(C,8));let j=E;for(let k=0;k<R.length;k+=8){var I=Math.min(8,R.length-k);const D=parseInt(R.substring(k,k+I),C);I<8?(I=g(Math.pow(C,I)),j=j.j(I).add(g(D))):(j=j.j(V),j=j.add(g(D)))}return j}var E=p(0),x=p(1),M=p(16777216);n=c.prototype,n.m=function(){if(K(this))return-L(this).m();let R=0,C=1;for(let V=0;V<this.g.length;V++){const j=this.i(V);R+=(j>=0?j:4294967296+j)*C,C*=4294967296}return R},n.toString=function(R){if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(B(this))return"0";if(K(this))return"-"+L(this).toString(R);const C=g(Math.pow(R,6));var V=this;let j="";for(;;){const I=mt(V,C).g;V=J(V,I.j(C));let k=((V.g.length>0?V.g[0]:V.h)>>>0).toString(R);if(V=I,B(V))return k+j;for(;k.length<6;)k="0"+k;j=k+j}},n.i=function(R){return R<0?0:R<this.g.length?this.g[R]:this.h};function B(R){if(R.h!=0)return!1;for(let C=0;C<R.g.length;C++)if(R.g[C]!=0)return!1;return!0}function K(R){return R.h==-1}n.l=function(R){return R=J(this,R),K(R)?-1:B(R)?0:1};function L(R){const C=R.g.length,V=[];for(let j=0;j<C;j++)V[j]=~R.g[j];return new c(V,~R.h).add(x)}n.abs=function(){return K(this)?L(this):this},n.add=function(R){const C=Math.max(this.g.length,R.g.length),V=[];let j=0;for(let I=0;I<=C;I++){let k=j+(this.i(I)&65535)+(R.i(I)&65535),D=(k>>>16)+(this.i(I)>>>16)+(R.i(I)>>>16);j=D>>>16,k&=65535,D&=65535,V[I]=D<<16|k}return new c(V,V[V.length-1]&-2147483648?-1:0)};function J(R,C){return R.add(L(C))}n.j=function(R){if(B(this)||B(R))return E;if(K(this))return K(R)?L(this).j(L(R)):L(L(this).j(R));if(K(R))return L(this.j(L(R)));if(this.l(M)<0&&R.l(M)<0)return g(this.m()*R.m());const C=this.g.length+R.g.length,V=[];for(var j=0;j<2*C;j++)V[j]=0;for(j=0;j<this.g.length;j++)for(let I=0;I<R.g.length;I++){const k=this.i(j)>>>16,D=this.i(j)&65535,Zt=R.i(I)>>>16,he=R.i(I)&65535;V[2*j+2*I]+=D*he,it(V,2*j+2*I),V[2*j+2*I+1]+=k*he,it(V,2*j+2*I+1),V[2*j+2*I+1]+=D*Zt,it(V,2*j+2*I+1),V[2*j+2*I+2]+=k*Zt,it(V,2*j+2*I+2)}for(R=0;R<C;R++)V[R]=V[2*R+1]<<16|V[2*R];for(R=C;R<2*C;R++)V[R]=0;return new c(V,0)};function it(R,C){for(;(R[C]&65535)!=R[C];)R[C+1]+=R[C]>>>16,R[C]&=65535,C++}function et(R,C){this.g=R,this.h=C}function mt(R,C){if(B(C))throw Error("division by zero");if(B(R))return new et(E,E);if(K(R))return C=mt(L(R),C),new et(L(C.g),L(C.h));if(K(C))return C=mt(R,L(C)),new et(L(C.g),C.h);if(R.g.length>30){if(K(R)||K(C))throw Error("slowDivide_ only works with positive integers.");for(var V=x,j=C;j.l(R)<=0;)V=ht(V),j=ht(j);var I=dt(V,1),k=dt(j,1);for(j=dt(j,2),V=dt(V,2);!B(j);){var D=k.add(j);D.l(R)<=0&&(I=I.add(V),k=D),j=dt(j,1),V=dt(V,1)}return C=J(R,I.j(C)),new et(I,C)}for(I=E;R.l(C)>=0;){for(V=Math.max(1,Math.floor(R.m()/C.m())),j=Math.ceil(Math.log(V)/Math.LN2),j=j<=48?1:Math.pow(2,j-48),k=g(V),D=k.j(C);K(D)||D.l(R)>0;)V-=j,k=g(V),D=k.j(C);B(k)&&(k=x),I=I.add(k),R=J(R,D)}return new et(I,R)}n.B=function(R){return mt(this,R).h},n.and=function(R){const C=Math.max(this.g.length,R.g.length),V=[];for(let j=0;j<C;j++)V[j]=this.i(j)&R.i(j);return new c(V,this.h&R.h)},n.or=function(R){const C=Math.max(this.g.length,R.g.length),V=[];for(let j=0;j<C;j++)V[j]=this.i(j)|R.i(j);return new c(V,this.h|R.h)},n.xor=function(R){const C=Math.max(this.g.length,R.g.length),V=[];for(let j=0;j<C;j++)V[j]=this.i(j)^R.i(j);return new c(V,this.h^R.h)};function ht(R){const C=R.g.length+1,V=[];for(let j=0;j<C;j++)V[j]=R.i(j)<<1|R.i(j-1)>>>31;return new c(V,R.h)}function dt(R,C){const V=C>>5;C%=32;const j=R.g.length-V,I=[];for(let k=0;k<j;k++)I[k]=C>0?R.i(k+V)>>>C|R.i(k+V+1)<<32-C:R.i(k+V);return new c(I,R.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,Qb=r,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.B,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=g,c.fromString=v,rr=c}).apply(typeof Q1<"u"?Q1:typeof self<"u"?self:typeof window<"u"?window:{});var Wc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Xb,zl,Zb,lh,rp,$b,Jb,Wb;(function(){var n,t=Object.defineProperty;function i(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof Wc=="object"&&Wc];for(var y=0;y<h.length;++y){var T=h[y];if(T&&T.Math==Math)return T}throw Error("Cannot find global object")}var r=i(this);function o(h,y){if(y)t:{var T=r;h=h.split(".");for(var w=0;w<h.length-1;w++){var q=h[w];if(!(q in T))break t;T=T[q]}h=h[h.length-1],w=T[h],y=y(w),y!=w&&y!=null&&t(T,h,{configurable:!0,writable:!0,value:y})}}o("Symbol.dispose",function(h){return h||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(h){return h||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(h){return h||function(y){var T=[],w;for(w in y)Object.prototype.hasOwnProperty.call(y,w)&&T.push([w,y[w]]);return T}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},c=this||self;function m(h){var y=typeof h;return y=="object"&&h!=null||y=="function"}function p(h,y,T){return h.call.apply(h.bind,arguments)}function g(h,y,T){return g=p,g.apply(null,arguments)}function v(h,y){var T=Array.prototype.slice.call(arguments,1);return function(){var w=T.slice();return w.push.apply(w,arguments),h.apply(this,w)}}function E(h,y){function T(){}T.prototype=y.prototype,h.Z=y.prototype,h.prototype=new T,h.prototype.constructor=h,h.Ob=function(w,q,Y){for(var ut=Array(arguments.length-2),Nt=2;Nt<arguments.length;Nt++)ut[Nt-2]=arguments[Nt];return y.prototype[q].apply(w,ut)}}var x=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?h=>h&&AsyncContext.Snapshot.wrap(h):h=>h;function M(h){const y=h.length;if(y>0){const T=Array(y);for(let w=0;w<y;w++)T[w]=h[w];return T}return[]}function B(h,y){for(let w=1;w<arguments.length;w++){const q=arguments[w];var T=typeof q;if(T=T!="object"?T:q?Array.isArray(q)?"array":T:"null",T=="array"||T=="object"&&typeof q.length=="number"){T=h.length||0;const Y=q.length||0;h.length=T+Y;for(let ut=0;ut<Y;ut++)h[T+ut]=q[ut]}else h.push(q)}}class K{constructor(y,T){this.i=y,this.j=T,this.h=0,this.g=null}get(){let y;return this.h>0?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function L(h){c.setTimeout(()=>{throw h},0)}function J(){var h=R;let y=null;return h.g&&(y=h.g,h.g=h.g.next,h.g||(h.h=null),y.next=null),y}class it{constructor(){this.h=this.g=null}add(y,T){const w=et.get();w.set(y,T),this.h?this.h.next=w:this.g=w,this.h=w}}var et=new K(()=>new mt,h=>h.reset());class mt{constructor(){this.next=this.g=this.h=null}set(y,T){this.h=y,this.g=T,this.next=null}reset(){this.next=this.g=this.h=null}}let ht,dt=!1,R=new it,C=()=>{const h=Promise.resolve(void 0);ht=()=>{h.then(V)}};function V(){for(var h;h=J();){try{h.h.call(h.g)}catch(T){L(T)}var y=et;y.j(h),y.h<100&&(y.h++,h.next=y.g,y.g=h)}dt=!1}function j(){this.u=this.u,this.C=this.C}j.prototype.u=!1,j.prototype.dispose=function(){this.u||(this.u=!0,this.N())},j.prototype[Symbol.dispose]=function(){this.dispose()},j.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function I(h,y){this.type=h,this.g=this.target=y,this.defaultPrevented=!1}I.prototype.h=function(){this.defaultPrevented=!0};var k=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var h=!1,y=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const T=()=>{};c.addEventListener("test",T,y),c.removeEventListener("test",T,y)}catch{}return h})();function D(h){return/^[\s\xa0]*$/.test(h)}function Zt(h,y){I.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h&&this.init(h,y)}E(Zt,I),Zt.prototype.init=function(h,y){const T=this.type=h.type,w=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;this.target=h.target||h.srcElement,this.g=y,y=h.relatedTarget,y||(T=="mouseover"?y=h.fromElement:T=="mouseout"&&(y=h.toElement)),this.relatedTarget=y,w?(this.clientX=w.clientX!==void 0?w.clientX:w.pageX,this.clientY=w.clientY!==void 0?w.clientY:w.pageY,this.screenX=w.screenX||0,this.screenY=w.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=h.pointerType,this.state=h.state,this.i=h,h.defaultPrevented&&Zt.Z.h.call(this)},Zt.prototype.h=function(){Zt.Z.h.call(this);const h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var he="closure_listenable_"+(Math.random()*1e6|0),X=0;function at(h,y,T,w,q){this.listener=h,this.proxy=null,this.src=y,this.type=T,this.capture=!!w,this.ha=q,this.key=++X,this.da=this.fa=!1}function gt(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function Mt(h,y,T){for(const w in h)y.call(T,h[w],w,h)}function z(h,y){for(const T in h)y.call(void 0,h[T],T,h)}function b(h){const y={};for(const T in h)y[T]=h[T];return y}const U="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function $(h,y){let T,w;for(let q=1;q<arguments.length;q++){w=arguments[q];for(T in w)h[T]=w[T];for(let Y=0;Y<U.length;Y++)T=U[Y],Object.prototype.hasOwnProperty.call(w,T)&&(h[T]=w[T])}}function rt(h){this.src=h,this.g={},this.h=0}rt.prototype.add=function(h,y,T,w,q){const Y=h.toString();h=this.g[Y],h||(h=this.g[Y]=[],this.h++);const ut=ft(h,y,w,q);return ut>-1?(y=h[ut],T||(y.fa=!1)):(y=new at(y,this.src,Y,!!w,q),y.fa=T,h.push(y)),y};function lt(h,y){const T=y.type;if(T in h.g){var w=h.g[T],q=Array.prototype.indexOf.call(w,y,void 0),Y;(Y=q>=0)&&Array.prototype.splice.call(w,q,1),Y&&(gt(y),h.g[T].length==0&&(delete h.g[T],h.h--))}}function ft(h,y,T,w){for(let q=0;q<h.length;++q){const Y=h[q];if(!Y.da&&Y.listener==y&&Y.capture==!!T&&Y.ha==w)return q}return-1}var ct="closure_lm_"+(Math.random()*1e6|0),Tt={};function xt(h,y,T,w,q){if(Array.isArray(y)){for(let Y=0;Y<y.length;Y++)xt(h,y[Y],T,w,q);return null}return T=gn(T),h&&h[he]?h.J(y,T,m(w)?!!w.capture:!1,q):$t(h,y,T,!1,w,q)}function $t(h,y,T,w,q,Y){if(!y)throw Error("Invalid event type");const ut=m(q)?!!q.capture:!!q;let Nt=Fe(h);if(Nt||(h[ct]=Nt=new rt(h)),T=Nt.add(y,T,w,ut,Y),T.proxy)return T;if(w=Gt(),T.proxy=w,w.src=h,w.listener=T,h.addEventListener)k||(q=ut),q===void 0&&(q=!1),h.addEventListener(y.toString(),w,q);else if(h.attachEvent)h.attachEvent(Rt(y.toString()),w);else if(h.addListener&&h.removeListener)h.addListener(w);else throw Error("addEventListener and attachEvent are unavailable.");return T}function Gt(){function h(T){return y.call(h.src,h.listener,T)}const y=De;return h}function te(h,y,T,w,q){if(Array.isArray(y))for(var Y=0;Y<y.length;Y++)te(h,y[Y],T,w,q);else w=m(w)?!!w.capture:!!w,T=gn(T),h&&h[he]?(h=h.i,Y=String(y).toString(),Y in h.g&&(y=h.g[Y],T=ft(y,T,w,q),T>-1&&(gt(y[T]),Array.prototype.splice.call(y,T,1),y.length==0&&(delete h.g[Y],h.h--)))):h&&(h=Fe(h))&&(y=h.g[y.toString()],h=-1,y&&(h=ft(y,T,w,q)),(T=h>-1?y[h]:null)&&ge(T))}function ge(h){if(typeof h!="number"&&h&&!h.da){var y=h.src;if(y&&y[he])lt(y.i,h);else{var T=h.type,w=h.proxy;y.removeEventListener?y.removeEventListener(T,w,h.capture):y.detachEvent?y.detachEvent(Rt(T),w):y.addListener&&y.removeListener&&y.removeListener(w),(T=Fe(y))?(lt(T,h),T.h==0&&(T.src=null,y[ct]=null)):gt(h)}}}function Rt(h){return h in Tt?Tt[h]:Tt[h]="on"+h}function De(h,y){if(h.da)h=!0;else{y=new Zt(y,this);const T=h.listener,w=h.ha||h.src;h.fa&&ge(h),h=T.call(w,y)}return h}function Fe(h){return h=h[ct],h instanceof rt?h:null}var We="__closure_events_fn_"+(Math.random()*1e9>>>0);function gn(h){return typeof h=="function"?h:(h[We]||(h[We]=function(y){return h.handleEvent(y)}),h[We])}function se(){j.call(this),this.i=new rt(this),this.M=this,this.G=null}E(se,j),se.prototype[he]=!0,se.prototype.removeEventListener=function(h,y,T,w){te(this,h,y,T,w)};function Jt(h,y){var T,w=h.G;if(w)for(T=[];w;w=w.G)T.push(w);if(h=h.M,w=y.type||y,typeof y=="string")y=new I(y,h);else if(y instanceof I)y.target=y.target||h;else{var q=y;y=new I(w,h),$(y,q)}q=!0;let Y,ut;if(T)for(ut=T.length-1;ut>=0;ut--)Y=y.g=T[ut],q=_i(Y,w,!0,y)&&q;if(Y=y.g=h,q=_i(Y,w,!0,y)&&q,q=_i(Y,w,!1,y)&&q,T)for(ut=0;ut<T.length;ut++)Y=y.g=T[ut],q=_i(Y,w,!1,y)&&q}se.prototype.N=function(){if(se.Z.N.call(this),this.i){var h=this.i;for(const y in h.g){const T=h.g[y];for(let w=0;w<T.length;w++)gt(T[w]);delete h.g[y],h.h--}}this.G=null},se.prototype.J=function(h,y,T,w){return this.i.add(String(h),y,!1,T,w)},se.prototype.K=function(h,y,T,w){return this.i.add(String(h),y,!0,T,w)};function _i(h,y,T,w){if(y=h.i.g[String(y)],!y)return!0;y=y.concat();let q=!0;for(let Y=0;Y<y.length;++Y){const ut=y[Y];if(ut&&!ut.da&&ut.capture==T){const Nt=ut.listener,we=ut.ha||ut.src;ut.fa&&lt(h.i,ut),q=Nt.call(we,w)!==!1&&q}}return q&&!w.defaultPrevented}function Io(h,y){if(typeof h!="function")if(h&&typeof h.handleEvent=="function")h=g(h.handleEvent,h);else throw Error("Invalid listener argument");return Number(y)>2147483647?-1:c.setTimeout(h,y||0)}function fa(h){h.g=Io(()=>{h.g=null,h.i&&(h.i=!1,fa(h))},h.l);const y=h.h;h.h=null,h.m.apply(null,y)}class Qe extends j{constructor(y,T){super(),this.m=y,this.l=T,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:fa(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Xi(h){j.call(this),this.h=h,this.g={}}E(Xi,j);var bs=[];function yr(h){Mt(h.g,function(y,T){this.g.hasOwnProperty(T)&&ge(y)},h),h.g={}}Xi.prototype.N=function(){Xi.Z.N.call(this),yr(this)},Xi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ti=c.JSON.stringify,da=c.JSON.parse,vr=class{stringify(h){return c.JSON.stringify(h,void 0)}parse(h){return c.JSON.parse(h,void 0)}};function xs(){}function ma(){}var Vn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function tn(){I.call(this,"d")}E(tn,I);function zn(){I.call(this,"c")}E(zn,I);var Se={},Au=null;function pa(){return Au=Au||new se}Se.Ia="serverreachability";function Su(h){I.call(this,Se.Ia,h)}E(Su,I);function Ei(h){const y=pa();Jt(y,new Su(y))}Se.STAT_EVENT="statevent";function _r(h,y){I.call(this,Se.STAT_EVENT,h),this.stat=y}E(_r,I);function Me(h){const y=pa();Jt(y,new _r(y,h))}Se.Ja="timingevent";function bi(h,y){I.call(this,Se.Ja,h),this.size=y}E(bi,I);function xi(h,y){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){h()},y)}function ii(){this.g=!0}ii.prototype.ua=function(){this.g=!1};function ef(h,y,T,w,q,Y){h.info(function(){if(h.g)if(Y){var ut="",Nt=Y.split("&");for(let Qt=0;Qt<Nt.length;Qt++){var we=Nt[Qt].split("=");if(we.length>1){const ye=we[0];we=we[1];const Fn=ye.split("_");ut=Fn.length>=2&&Fn[1]=="type"?ut+(ye+"="+we+"&"):ut+(ye+"=redacted&")}}}else ut=null;else ut=Y;return"XMLHTTP REQ ("+w+") [attempt "+q+"]: "+y+`
`+T+`
`+ut})}function wu(h,y,T,w,q,Y,ut){h.info(function(){return"XMLHTTP RESP ("+w+") [ attempt "+q+"]: "+y+`
`+T+`
`+Y+" "+ut})}function Ai(h,y,T,w){h.info(function(){return"XMLHTTP TEXT ("+y+"): "+nf(h,T)+(w?" "+w:"")})}function Tr(h,y){h.info(function(){return"TIMEOUT: "+y})}ii.prototype.info=function(){};function nf(h,y){if(!h.g)return y;if(!y)return null;try{const Y=JSON.parse(y);if(Y){for(h=0;h<Y.length;h++)if(Array.isArray(Y[h])){var T=Y[h];if(!(T.length<2)){var w=T[1];if(Array.isArray(w)&&!(w.length<1)){var q=w[0];if(q!="noop"&&q!="stop"&&q!="close")for(let ut=1;ut<w.length;ut++)w[ut]=""}}}}return Ti(Y)}catch{return y}}var Er={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Oo={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},jo;function br(){}E(br,xs),br.prototype.g=function(){return new XMLHttpRequest},jo=new br;function Zi(h){return encodeURIComponent(String(h))}function Cu(h){var y=1;h=h.split(":");const T=[];for(;y>0&&h.length;)T.push(h.shift()),y--;return h.length&&T.push(h.join(":")),T}function si(h,y,T,w){this.j=h,this.i=y,this.l=T,this.S=w||1,this.V=new Xi(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new ri}function ri(){this.i=null,this.g="",this.h=!1}var Ne={},Xe={};function Si(h,y,T){h.M=1,h.A=xr(Oe(y)),h.u=T,h.R=!0,ga(h,null)}function ga(h,y){h.F=Date.now(),wi(h),h.B=Oe(h.A);var T=h.B,w=h.S;Array.isArray(w)||(w=[String(w)]),Ta(T.i,"t",w),h.C=0,T=h.j.L,h.h=new ri,h.g=qu(h.j,T?y:null,!h.u),h.P>0&&(h.O=new Qe(g(h.Y,h,h.g),h.P)),y=h.V,T=h.g,w=h.ba;var q="readystatechange";Array.isArray(q)||(q&&(bs[0]=q.toString()),q=bs);for(let Y=0;Y<q.length;Y++){const ut=xt(T,q[Y],w||y.handleEvent,!1,y.h||y);if(!ut)break;y.g[ut.key]=ut}y=h.J?b(h.J):{},h.u?(h.v||(h.v="POST"),y["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.B,h.v,h.u,y)):(h.v="GET",h.g.ea(h.B,h.v,null,y)),Ei(),ef(h.i,h.v,h.B,h.l,h.S,h.u)}si.prototype.ba=function(h){h=h.target;const y=this.O;y&&li(h)==3?y.j():this.Y(h)},si.prototype.Y=function(h){try{if(h==this.g)t:{const Nt=li(this.g),we=this.g.ya(),Qt=this.g.ca();if(!(Nt<3)&&(Nt!=3||this.g&&(this.h.h||this.g.la()||en(this.g)))){this.K||Nt!=4||we==7||(we==8||Qt<=0?Ei(3):Ei(2)),Ci(this);var y=this.g.ca();this.X=y;var T=sf(this);if(this.o=y==200,wu(this.i,this.v,this.B,this.l,this.S,Nt,y),this.o){if(this.U&&!this.L){e:{if(this.g){var w,q=this.g;if((w=q.g?q.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!D(w)){var Y=w;break e}}Y=null}if(h=Y)Ai(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Ri(this,h);else{this.o=!1,this.m=3,Me(12),Dn(this),Un(this);break t}}if(this.R){h=!0;let ye;for(;!this.K&&this.C<T.length;)if(ye=Vu(this,T),ye==Xe){Nt==4&&(this.m=4,Me(14),h=!1),Ai(this.i,this.l,null,"[Incomplete Response]");break}else if(ye==Ne){this.m=4,Me(15),Ai(this.i,this.l,T,"[Invalid Chunk]"),h=!1;break}else Ai(this.i,this.l,ye,null),Ri(this,ye);if(Ru(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Nt!=4||T.length!=0||this.h.h||(this.m=1,Me(16),h=!1),this.o=this.o&&h,!h)Ai(this.i,this.l,T,"[Invalid Chunked Response]"),Dn(this),Un(this);else if(T.length>0&&!this.W){this.W=!0;var ut=this.j;ut.g==this&&ut.aa&&!ut.P&&(ut.j.info("Great, no buffering proxy detected. Bytes received: "+T.length),Zo(ut),ut.P=!0,Me(11))}}else Ai(this.i,this.l,T,null),Ri(this,T);Nt==4&&Dn(this),this.o&&!this.K&&(Nt==4?ku(this.j,this):(this.o=!1,wi(this)))}else Ji(this.g),y==400&&T.indexOf("Unknown SID")>0?(this.m=3,Me(12)):(this.m=0,Me(13)),Dn(this),Un(this)}}}catch{}finally{}};function sf(h){if(!Ru(h))return h.g.la();const y=en(h.g);if(y==="")return"";let T="";const w=y.length,q=li(h.g)==4;if(!h.h.i){if(typeof TextDecoder>"u")return Dn(h),Un(h),"";h.h.i=new c.TextDecoder}for(let Y=0;Y<w;Y++)h.h.h=!0,T+=h.h.i.decode(y[Y],{stream:!(q&&Y==w-1)});return y.length=0,h.h.g+=T,h.C=0,h.h.g}function Ru(h){return h.g?h.v=="GET"&&h.M!=2&&h.j.Aa:!1}function Vu(h,y){var T=h.C,w=y.indexOf(`
`,T);return w==-1?Xe:(T=Number(y.substring(T,w)),isNaN(T)?Ne:(w+=1,w+T>y.length?Xe:(y=y.slice(w,w+T),h.C=w+T,y)))}si.prototype.cancel=function(){this.K=!0,Dn(this)};function wi(h){h.T=Date.now()+h.H,ya(h,h.H)}function ya(h,y){if(h.D!=null)throw Error("WatchDog timer not null");h.D=xi(g(h.aa,h),y)}function Ci(h){h.D&&(c.clearTimeout(h.D),h.D=null)}si.prototype.aa=function(){this.D=null;const h=Date.now();h-this.T>=0?(Tr(this.i,this.B),this.M!=2&&(Ei(),Me(17)),Dn(this),this.m=2,Un(this)):ya(this,this.T-h)};function Un(h){h.j.I==0||h.K||ku(h.j,h)}function Dn(h){Ci(h);var y=h.O;y&&typeof y.dispose=="function"&&y.dispose(),h.O=null,yr(h.V),h.g&&(y=h.g,h.g=null,y.abort(),y.dispose())}function Ri(h,y){try{var T=h.j;if(T.I!=0&&(T.g==h||Di(T.h,h))){if(!h.L&&Di(T.h,h)&&T.I==3){try{var w=T.Ba.g.parse(y)}catch{w=null}if(Array.isArray(w)&&w.length==3){var q=w;if(q[0]==0){t:if(!T.v){if(T.g)if(T.g.F+3e3<h.F)Sa(T),Ms(T);else break t;Dr(T),Me(18)}}else T.xa=q[1],0<T.xa-T.K&&q[2]<37500&&T.F&&T.A==0&&!T.C&&(T.C=xi(g(T.Va,T),6e3));Vi(T.h)<=1&&T.ta&&(T.ta=void 0)}else Pi(T,11)}else if((h.L||T.g==h)&&Sa(T),!D(y))for(q=T.Ba.g.parse(y),y=0;y<q.length;y++){let Qt=q[y];const ye=Qt[0];if(!(ye<=T.K))if(T.K=ye,Qt=Qt[1],T.I==2)if(Qt[0]=="c"){T.M=Qt[1],T.ba=Qt[2];const Fn=Qt[3];Fn!=null&&(T.ka=Fn,T.j.info("VER="+T.ka));const Li=Qt[4];Li!=null&&(T.za=Li,T.j.info("SVER="+T.za));const ui=Qt[5];ui!=null&&typeof ui=="number"&&ui>0&&(w=1.5*ui,T.O=w,T.j.info("backChannelRequestTimeoutMs_="+w)),w=T;const ci=h.g;if(ci){const Mr=ci.g?ci.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Mr){var Y=w.h;Y.g||Mr.indexOf("spdy")==-1&&Mr.indexOf("quic")==-1&&Mr.indexOf("h2")==-1||(Y.j=Y.l,Y.g=new Set,Y.h&&(ko(Y,Y.h),Y.h=null))}if(w.G){const wa=ci.g?ci.g.getResponseHeader("X-HTTP-Session-Id"):null;wa&&(w.wa=wa,ee(w.J,w.G,wa))}}T.I=3,T.l&&T.l.ra(),T.aa&&(T.T=Date.now()-h.F,T.j.info("Handshake RTT: "+T.T+"ms")),w=T;var ut=h;if(w.na=Bu(w,w.L?w.ba:null,w.W),ut.L){zo(w.h,ut);var Nt=ut,we=w.O;we&&(Nt.H=we),Nt.D&&(Ci(Nt),wi(Nt)),w.g=ut}else Pu(w);T.i.length>0&&ji(T)}else Qt[0]!="stop"&&Qt[0]!="close"||Pi(T,7);else T.I==3&&(Qt[0]=="stop"||Qt[0]=="close"?Qt[0]=="stop"?Pi(T,7):Qo(T):Qt[0]!="noop"&&T.l&&T.l.qa(Qt),T.A=0)}}Ei(4)}catch{}}var Ie=class{constructor(h,y){this.g=h,this.map=y}};function Po(h){this.l=h||10,c.PerformanceNavigationTiming?(h=c.performance.getEntriesByType("navigation"),h=h.length>0&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Lo(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function Vi(h){return h.h?1:h.g?h.g.size:0}function Di(h,y){return h.h?h.h==y:h.g?h.g.has(y):!1}function ko(h,y){h.g?h.g.add(y):h.h=y}function zo(h,y){h.h&&h.h==y?h.h=null:h.g&&h.g.has(y)&&h.g.delete(y)}Po.prototype.cancel=function(){if(this.i=Uo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function Uo(h){if(h.h!=null)return h.i.concat(h.h.G);if(h.g!=null&&h.g.size!==0){let y=h.i;for(const T of h.g.values())y=y.concat(T.G);return y}return M(h.i)}var Du=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function va(h,y){if(h){h=h.split("&");for(let T=0;T<h.length;T++){const w=h[T].indexOf("=");let q,Y=null;w>=0?(q=h[T].substring(0,w),Y=h[T].substring(w+1)):q=h[T],y(q,Y?decodeURIComponent(Y.replace(/\+/g," ")):"")}}}function Mn(h){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let y;h instanceof Mn?(this.l=h.l,Ze(this,h.j),this.o=h.o,this.g=h.g,As(this,h.u),this.h=h.h,Bo(this,Ou(h.i)),this.m=h.m):h&&(y=String(h).match(Du))?(this.l=!1,Ze(this,y[1]||"",!0),this.o=Mi(y[2]||""),this.g=Mi(y[3]||"",!0),As(this,y[4]),this.h=Mi(y[5]||"",!0),Bo(this,y[6]||"",!0),this.m=Mi(y[7]||"")):(this.l=!1,this.i=new ws(null,this.l))}Mn.prototype.toString=function(){const h=[];var y=this.j;y&&h.push(Ar(y,_a,!0),":");var T=this.g;return(T||y=="file")&&(h.push("//"),(y=this.o)&&h.push(Ar(y,_a,!0),"@"),h.push(Zi(T).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),T=this.u,T!=null&&h.push(":",String(T))),(T=this.h)&&(this.g&&T.charAt(0)!="/"&&h.push("/"),h.push(Ar(T,T.charAt(0)=="/"?qo:Mu,!0))),(T=this.i.toString())&&h.push("?",T),(T=this.m)&&h.push("#",Ar(T,Nu)),h.join("")},Mn.prototype.resolve=function(h){const y=Oe(this);let T=!!h.j;T?Ze(y,h.j):T=!!h.o,T?y.o=h.o:T=!!h.g,T?y.g=h.g:T=h.u!=null;var w=h.h;if(T)As(y,h.u);else if(T=!!h.h){if(w.charAt(0)!="/")if(this.g&&!this.h)w="/"+w;else{var q=y.h.lastIndexOf("/");q!=-1&&(w=y.h.slice(0,q+1)+w)}if(q=w,q==".."||q==".")w="";else if(q.indexOf("./")!=-1||q.indexOf("/.")!=-1){w=q.lastIndexOf("/",0)==0,q=q.split("/");const Y=[];for(let ut=0;ut<q.length;){const Nt=q[ut++];Nt=="."?w&&ut==q.length&&Y.push(""):Nt==".."?((Y.length>1||Y.length==1&&Y[0]!="")&&Y.pop(),w&&ut==q.length&&Y.push("")):(Y.push(Nt),w=!0)}w=Y.join("/")}else w=q}return T?y.h=w:T=h.i.toString()!=="",T?Bo(y,Ou(h.i)):T=!!h.m,T&&(y.m=h.m),y};function Oe(h){return new Mn(h)}function Ze(h,y,T){h.j=T?Mi(y,!0):y,h.j&&(h.j=h.j.replace(/:$/,""))}function As(h,y){if(y){if(y=Number(y),isNaN(y)||y<0)throw Error("Bad port number "+y);h.u=y}else h.u=null}function Bo(h,y,T){y instanceof ws?(h.i=y,Ea(h.i,h.l)):(T||(y=Ar(y,Ss)),h.i=new ws(y,h.l))}function ee(h,y,T){h.i.set(y,T)}function xr(h){return ee(h,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),h}function Mi(h,y){return h?y?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function Ar(h,y,T){return typeof h=="string"?(h=encodeURI(h).replace(y,Tn),T&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function Tn(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var _a=/[#\/\?@]/g,Mu=/[#\?:]/g,qo=/[#\?]/g,Ss=/[#\?@]/g,Nu=/#/g;function ws(h,y){this.h=this.g=null,this.i=h||null,this.j=!!y}function En(h){h.g||(h.g=new Map,h.h=0,h.i&&va(h.i,function(y,T){h.add(decodeURIComponent(y.replace(/\+/g," ")),T)}))}n=ws.prototype,n.add=function(h,y){En(this),this.i=null,h=Cs(this,h);let T=this.g.get(h);return T||this.g.set(h,T=[]),T.push(y),this.h+=1,this};function Iu(h,y){En(h),y=Cs(h,y),h.g.has(y)&&(h.i=null,h.h-=h.g.get(y).length,h.g.delete(y))}function Fo(h,y){return En(h),y=Cs(h,y),h.g.has(y)}n.forEach=function(h,y){En(this),this.g.forEach(function(T,w){T.forEach(function(q){h.call(y,q,w,this)},this)},this)};function Ho(h,y){En(h);let T=[];if(typeof y=="string")Fo(h,y)&&(T=T.concat(h.g.get(Cs(h,y))));else for(h=Array.from(h.g.values()),y=0;y<h.length;y++)T=T.concat(h[y]);return T}n.set=function(h,y){return En(this),this.i=null,h=Cs(this,h),Fo(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[y]),this.h+=1,this},n.get=function(h,y){return h?(h=Ho(this,h),h.length>0?String(h[0]):y):y};function Ta(h,y,T){Iu(h,y),T.length>0&&(h.i=null,h.g.set(Cs(h,y),M(T)),h.h+=T.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],y=Array.from(this.g.keys());for(let w=0;w<y.length;w++){var T=y[w];const q=Zi(T);T=Ho(this,T);for(let Y=0;Y<T.length;Y++){let ut=q;T[Y]!==""&&(ut+="="+Zi(T[Y])),h.push(ut)}}return this.i=h.join("&")};function Ou(h){const y=new ws;return y.i=h.i,h.g&&(y.g=new Map(h.g),y.h=h.h),y}function Cs(h,y){return y=String(y),h.j&&(y=y.toLowerCase()),y}function Ea(h,y){y&&!h.j&&(En(h),h.i=null,h.g.forEach(function(T,w){const q=w.toLowerCase();w!=q&&(Iu(this,w),Ta(this,q,T))},h)),h.j=y}function ai(h,y){const T=new ii;if(c.Image){const w=new Image;w.onload=v(Bn,T,"TestLoadImage: loaded",!0,y,w),w.onerror=v(Bn,T,"TestLoadImage: error",!1,y,w),w.onabort=v(Bn,T,"TestLoadImage: abort",!1,y,w),w.ontimeout=v(Bn,T,"TestLoadImage: timeout",!1,y,w),c.setTimeout(function(){w.ontimeout&&w.ontimeout()},1e4),w.src=h}else y(!1)}function Go(h,y){const T=new ii,w=new AbortController,q=setTimeout(()=>{w.abort(),Bn(T,"TestPingServer: timeout",!1,y)},1e4);fetch(h,{signal:w.signal}).then(Y=>{clearTimeout(q),Y.ok?Bn(T,"TestPingServer: ok",!0,y):Bn(T,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(q),Bn(T,"TestPingServer: error",!1,y)})}function Bn(h,y,T,w,q){try{q&&(q.onload=null,q.onerror=null,q.onabort=null,q.ontimeout=null),w(T)}catch{}}function Rs(){this.g=new vr}function Ni(h){this.i=h.Sb||null,this.h=h.ab||!1}E(Ni,xs),Ni.prototype.g=function(){return new Sr(this.i,this.h)};function Sr(h,y){se.call(this),this.H=h,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}E(Sr,se),n=Sr.prototype,n.open=function(h,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=h,this.D=y,this.readyState=1,oi(this)},n.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const y={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};h&&(y.body=h),(this.H||c).fetch(new Request(this.D,y)).then(this.Pa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Vs(this)),this.readyState=0},n.Pa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,oi(this)),this.g&&(this.readyState=3,oi(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ba(this)}else h.text().then(this.Oa.bind(this),this.ga.bind(this))};function ba(h){h.j.read().then(h.Ma.bind(h)).catch(h.ga.bind(h))}n.Ma=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var y=h.value?h.value:new Uint8Array(0);(y=this.B.decode(y,{stream:!h.done}))&&(this.response=this.responseText+=y)}h.done?Vs(this):oi(this),this.readyState==3&&ba(this)}},n.Oa=function(h){this.g&&(this.response=this.responseText=h,Vs(this))},n.Na=function(h){this.g&&(this.response=h,Vs(this))},n.ga=function(){this.g&&Vs(this)};function Vs(h){h.readyState=4,h.l=null,h.j=null,h.B=null,oi(h)}n.setRequestHeader=function(h,y){this.A.append(h,y)},n.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],y=this.h.entries();for(var T=y.next();!T.done;)T=T.value,h.push(T[0]+": "+T[1]),T=y.next();return h.join(`\r
`)};function oi(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(Sr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function qn(h){let y="";return Mt(h,function(T,w){y+=w,y+=":",y+=T,y+=`\r
`}),y}function wr(h,y,T){t:{for(w in T){var w=!1;break t}w=!0}w||(T=qn(T),typeof h=="string"?T!=null&&Zi(T):ee(h,y,T))}function re(h){se.call(this),this.headers=new Map,this.L=h||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}E(re,se);var Ii=/^https?$/i,Ko=["POST","PUT"];n=re.prototype,n.Fa=function(h){this.H=h},n.ea=function(h,y,T,w){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);y=y?y.toUpperCase():"GET",this.D=h,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():jo.g(),this.g.onreadystatechange=x(g(this.Ca,this));try{this.B=!0,this.g.open(y,String(h),!0),this.B=!1}catch(Y){Cr(this,Y);return}if(h=T||"",T=new Map(this.headers),w)if(Object.getPrototypeOf(w)===Object.prototype)for(var q in w)T.set(q,w[q]);else if(typeof w.keys=="function"&&typeof w.get=="function")for(const Y of w.keys())T.set(Y,w.get(Y));else throw Error("Unknown input type for opt_headers: "+String(w));w=Array.from(T.keys()).find(Y=>Y.toLowerCase()=="content-type"),q=c.FormData&&h instanceof c.FormData,!(Array.prototype.indexOf.call(Ko,y,void 0)>=0)||w||q||T.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Y,ut]of T)this.g.setRequestHeader(Y,ut);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(h),this.v=!1}catch(Y){Cr(this,Y)}};function Cr(h,y){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=y,h.o=5,Yo(h),$i(h)}function Yo(h){h.A||(h.A=!0,Jt(h,"complete"),Jt(h,"error"))}n.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=h||7,Jt(this,"complete"),Jt(this,"abort"),$i(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),$i(this,!0)),re.Z.N.call(this)},n.Ca=function(){this.u||(this.B||this.v||this.j?Rr(this):this.Xa())},n.Xa=function(){Rr(this)};function Rr(h){if(h.h&&typeof u<"u"){if(h.v&&li(h)==4)setTimeout(h.Ca.bind(h),0);else if(Jt(h,"readystatechange"),li(h)==4){h.h=!1;try{const Y=h.ca();t:switch(Y){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break t;default:y=!1}var T;if(!(T=y)){var w;if(w=Y===0){let ut=String(h.D).match(Du)[1]||null;!ut&&c.self&&c.self.location&&(ut=c.self.location.protocol.slice(0,-1)),w=!Ii.test(ut?ut.toLowerCase():"")}T=w}if(T)Jt(h,"complete"),Jt(h,"success");else{h.o=6;try{var q=li(h)>2?h.g.statusText:""}catch{q=""}h.l=q+" ["+h.ca()+"]",Yo(h)}}finally{$i(h)}}}}function $i(h,y){if(h.g){h.m&&(clearTimeout(h.m),h.m=null);const T=h.g;h.g=null,y||Jt(h,"ready");try{T.onreadystatechange=null}catch{}}}n.isActive=function(){return!!this.g};function li(h){return h.g?h.g.readyState:0}n.ca=function(){try{return li(this)>2?this.g.status:-1}catch{return-1}},n.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.La=function(h){if(this.g){var y=this.g.responseText;return h&&y.indexOf(h)==0&&(y=y.substring(h.length)),da(y)}};function en(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.F){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function Ji(h){const y={};h=(h.g&&li(h)>=2&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let w=0;w<h.length;w++){if(D(h[w]))continue;var T=Cu(h[w]);const q=T[0];if(T=T[1],typeof T!="string")continue;T=T.trim();const Y=y[q]||[];y[q]=Y,Y.push(T)}z(y,function(w){return w.join(", ")})}n.ya=function(){return this.o},n.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Oi(h,y,T){return T&&T.internalChannelParams&&T.internalChannelParams[h]||y}function Ds(h){this.za=0,this.i=[],this.j=new ii,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Oi("failFast",!1,h),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Oi("baseRetryDelayMs",5e3,h),this.Za=Oi("retryDelaySeedMs",1e4,h),this.Ta=Oi("forwardChannelMaxRetries",2,h),this.va=Oi("forwardChannelRequestTimeoutMs",2e4,h),this.ma=h&&h.xmlHttpFactory||void 0,this.Ua=h&&h.Rb||void 0,this.Aa=h&&h.useFetchStreams||!1,this.O=void 0,this.L=h&&h.supportsCrossDomainXhr||!1,this.M="",this.h=new Po(h&&h.concurrentRequestLimit),this.Ba=new Rs,this.S=h&&h.fastHandshake||!1,this.R=h&&h.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=h&&h.Pb||!1,h&&h.ua&&this.j.ua(),h&&h.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&h&&h.detectBufferingProxy||!1,this.ia=void 0,h&&h.longPollingTimeout&&h.longPollingTimeout>0&&(this.ia=h.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}n=Ds.prototype,n.ka=8,n.I=1,n.connect=function(h,y,T,w){Me(0),this.W=h,this.H=y||{},T&&w!==void 0&&(this.H.OSID=T,this.H.OAID=w),this.F=this.X,this.J=Bu(this,null,this.W),ji(this)};function Qo(h){if(xa(h),h.I==3){var y=h.V++,T=Oe(h.J);if(ee(T,"SID",h.M),ee(T,"RID",y),ee(T,"TYPE","terminate"),Vr(h,T),y=new si(h,h.j,y),y.M=2,y.A=xr(Oe(T)),T=!1,c.navigator&&c.navigator.sendBeacon)try{T=c.navigator.sendBeacon(y.A.toString(),"")}catch{}!T&&c.Image&&(new Image().src=y.A,T=!0),T||(y.g=qu(y.j,null),y.g.ea(y.A)),y.F=Date.now(),wi(y)}Uu(h)}function Ms(h){h.g&&(Zo(h),h.g.cancel(),h.g=null)}function xa(h){Ms(h),h.v&&(c.clearTimeout(h.v),h.v=null),Sa(h),h.h.cancel(),h.m&&(typeof h.m=="number"&&c.clearTimeout(h.m),h.m=null)}function ji(h){if(!Lo(h.h)&&!h.m){h.m=!0;var y=h.Ea;ht||C(),dt||(ht(),dt=!0),R.add(y,h),h.D=0}}function Aa(h,y){return Vi(h.h)>=h.h.j-(h.m?1:0)?!1:h.m?(h.i=y.G.concat(h.i),!0):h.I==1||h.I==2||h.D>=(h.Sa?0:h.Ta)?!1:(h.m=xi(g(h.Ea,h,y),zu(h,h.D)),h.D++,!0)}n.Ea=function(h){if(this.m)if(this.m=null,this.I==1){if(!h){this.V=Math.floor(Math.random()*1e5),h=this.V++;const q=new si(this,this.j,h);let Y=this.o;if(this.U&&(Y?(Y=b(Y),$(Y,this.U)):Y=this.U),this.u!==null||this.R||(q.J=Y,Y=null),this.S)t:{for(var y=0,T=0;T<this.i.length;T++){e:{var w=this.i[T];if("__data__"in w.map&&(w=w.map.__data__,typeof w=="string")){w=w.length;break e}w=void 0}if(w===void 0)break;if(y+=w,y>4096){y=T;break t}if(y===4096||T===this.i.length-1){y=T+1;break t}}y=1e3}else y=1e3;y=ju(this,q,y),T=Oe(this.J),ee(T,"RID",h),ee(T,"CVER",22),this.G&&ee(T,"X-HTTP-Session-Id",this.G),Vr(this,T),Y&&(this.R?y="headers="+Zi(qn(Y))+"&"+y:this.u&&wr(T,this.u,Y)),ko(this.h,q),this.Ra&&ee(T,"TYPE","init"),this.S?(ee(T,"$req",y),ee(T,"SID","null"),q.U=!0,Si(q,T,null)):Si(q,T,y),this.I=2}}else this.I==3&&(h?Xo(this,h):this.i.length==0||Lo(this.h)||Xo(this))};function Xo(h,y){var T;y?T=y.l:T=h.V++;const w=Oe(h.J);ee(w,"SID",h.M),ee(w,"RID",T),ee(w,"AID",h.K),Vr(h,w),h.u&&h.o&&wr(w,h.u,h.o),T=new si(h,h.j,T,h.D+1),h.u===null&&(T.J=h.o),y&&(h.i=y.G.concat(h.i)),y=ju(h,T,1e3),T.H=Math.round(h.va*.5)+Math.round(h.va*.5*Math.random()),ko(h.h,T),Si(T,w,y)}function Vr(h,y){h.H&&Mt(h.H,function(T,w){ee(y,w,T)}),h.l&&Mt({},function(T,w){ee(y,w,T)})}function ju(h,y,T){T=Math.min(h.i.length,T);const w=h.l?g(h.l.Ka,h.l,h):null;t:{var q=h.i;let Nt=-1;for(;;){const we=["count="+T];Nt==-1?T>0?(Nt=q[0].g,we.push("ofs="+Nt)):Nt=0:we.push("ofs="+Nt);let Qt=!0;for(let ye=0;ye<T;ye++){var Y=q[ye].g;const Fn=q[ye].map;if(Y-=Nt,Y<0)Nt=Math.max(0,q[ye].g-100),Qt=!1;else try{Y="req"+Y+"_"||"";try{var ut=Fn instanceof Map?Fn:Object.entries(Fn);for(const[Li,ui]of ut){let ci=ui;m(ui)&&(ci=Ti(ui)),we.push(Y+Li+"="+encodeURIComponent(ci))}}catch(Li){throw we.push(Y+"type="+encodeURIComponent("_badmap")),Li}}catch{w&&w(Fn)}}if(Qt){ut=we.join("&");break t}}ut=void 0}return h=h.i.splice(0,T),y.G=h,ut}function Pu(h){if(!h.g&&!h.v){h.Y=1;var y=h.Da;ht||C(),dt||(ht(),dt=!0),R.add(y,h),h.A=0}}function Dr(h){return h.g||h.v||h.A>=3?!1:(h.Y++,h.v=xi(g(h.Da,h),zu(h,h.A)),h.A++,!0)}n.Da=function(){if(this.v=null,Lu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var h=4*this.T;this.j.info("BP detection timer enabled: "+h),this.B=xi(g(this.Wa,this),h)}},n.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Me(10),Ms(this),Lu(this))};function Zo(h){h.B!=null&&(c.clearTimeout(h.B),h.B=null)}function Lu(h){h.g=new si(h,h.j,"rpc",h.Y),h.u===null&&(h.g.J=h.o),h.g.P=0;var y=Oe(h.na);ee(y,"RID","rpc"),ee(y,"SID",h.M),ee(y,"AID",h.K),ee(y,"CI",h.F?"0":"1"),!h.F&&h.ia&&ee(y,"TO",h.ia),ee(y,"TYPE","xmlhttp"),Vr(h,y),h.u&&h.o&&wr(y,h.u,h.o),h.O&&(h.g.H=h.O);var T=h.g;h=h.ba,T.M=1,T.A=xr(Oe(y)),T.u=null,T.R=!0,ga(T,h)}n.Va=function(){this.C!=null&&(this.C=null,Ms(this),Dr(this),Me(19))};function Sa(h){h.C!=null&&(c.clearTimeout(h.C),h.C=null)}function ku(h,y){var T=null;if(h.g==y){Sa(h),Zo(h),h.g=null;var w=2}else if(Di(h.h,y))T=y.G,zo(h.h,y),w=1;else return;if(h.I!=0){if(y.o)if(w==1){T=y.u?y.u.length:0,y=Date.now()-y.F;var q=h.D;w=pa(),Jt(w,new bi(w,T)),ji(h)}else Pu(h);else if(q=y.m,q==3||q==0&&y.X>0||!(w==1&&Aa(h,y)||w==2&&Dr(h)))switch(T&&T.length>0&&(y=h.h,y.i=y.i.concat(T)),q){case 1:Pi(h,5);break;case 4:Pi(h,10);break;case 3:Pi(h,6);break;default:Pi(h,2)}}}function zu(h,y){let T=h.Qa+Math.floor(Math.random()*h.Za);return h.isActive()||(T*=2),T*y}function Pi(h,y){if(h.j.info("Error code "+y),y==2){var T=g(h.bb,h),w=h.Ua;const q=!w;w=new Mn(w||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||Ze(w,"https"),xr(w),q?ai(w.toString(),T):Go(w.toString(),T)}else Me(2);h.I=0,h.l&&h.l.pa(y),Uu(h),xa(h)}n.bb=function(h){h?(this.j.info("Successfully pinged google.com"),Me(2)):(this.j.info("Failed to ping google.com"),Me(1))};function Uu(h){if(h.I=0,h.ja=[],h.l){const y=Uo(h.h);(y.length!=0||h.i.length!=0)&&(B(h.ja,y),B(h.ja,h.i),h.h.i.length=0,M(h.i),h.i.length=0),h.l.oa()}}function Bu(h,y,T){var w=T instanceof Mn?Oe(T):new Mn(T);if(w.g!="")y&&(w.g=y+"."+w.g),As(w,w.u);else{var q=c.location;w=q.protocol,y=y?y+"."+q.hostname:q.hostname,q=+q.port;const Y=new Mn(null);w&&Ze(Y,w),y&&(Y.g=y),q&&As(Y,q),T&&(Y.h=T),w=Y}return T=h.G,y=h.wa,T&&y&&ee(w,T,y),ee(w,"VER",h.ka),Vr(h,w),w}function qu(h,y,T){if(y&&!h.L)throw Error("Can't create secondary domain capable XhrIo object.");return y=h.Aa&&!h.ma?new re(new Ni({ab:T})):new re(h.ma),y.Fa(h.L),y}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Fu(){}n=Fu.prototype,n.ra=function(){},n.qa=function(){},n.pa=function(){},n.oa=function(){},n.isActive=function(){return!0},n.Ka=function(){};function Ns(){}Ns.prototype.g=function(h,y){return new yn(h,y)};function yn(h,y){se.call(this),this.g=new Ds(y),this.l=h,this.h=y&&y.messageUrlParams||null,h=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(h?h["X-WebChannel-Content-Type"]=y.messageContentType:h={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.sa&&(h?h["X-WebChannel-Client-Profile"]=y.sa:h={"X-WebChannel-Client-Profile":y.sa}),this.g.U=h,(h=y&&y.Qb)&&!D(h)&&(this.g.u=h),this.A=y&&y.supportsCrossDomainXhr||!1,this.v=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!D(y)&&(this.g.G=y,h=this.h,h!==null&&y in h&&(h=this.h,y in h&&delete h[y])),this.j=new Wi(this)}E(yn,se),yn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},yn.prototype.close=function(){Qo(this.g)},yn.prototype.o=function(h){var y=this.g;if(typeof h=="string"){var T={};T.__data__=h,h=T}else this.v&&(T={},T.__data__=Ti(h),h=T);y.i.push(new Ie(y.Ya++,h)),y.I==3&&ji(y)},yn.prototype.N=function(){this.g.l=null,delete this.j,Qo(this.g),delete this.g,yn.Z.N.call(this)};function Hu(h){tn.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var y=h.__sm__;if(y){t:{for(const T in y){h=T;break t}h=void 0}(this.i=h)&&(h=this.i,y=y!==null&&h in y?y[h]:void 0),this.data=y}else this.data=h}E(Hu,tn);function Gu(){zn.call(this),this.status=1}E(Gu,zn);function Wi(h){this.g=h}E(Wi,Fu),Wi.prototype.ra=function(){Jt(this.g,"a")},Wi.prototype.qa=function(h){Jt(this.g,new Hu(h))},Wi.prototype.pa=function(h){Jt(this.g,new Gu)},Wi.prototype.oa=function(){Jt(this.g,"b")},Ns.prototype.createWebChannel=Ns.prototype.g,yn.prototype.send=yn.prototype.o,yn.prototype.open=yn.prototype.m,yn.prototype.close=yn.prototype.close,Wb=function(){return new Ns},Jb=function(){return pa()},$b=Se,rp={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Er.NO_ERROR=0,Er.TIMEOUT=8,Er.HTTP_ERROR=6,lh=Er,Oo.COMPLETE="complete",Zb=Oo,ma.EventType=Vn,Vn.OPEN="a",Vn.CLOSE="b",Vn.ERROR="c",Vn.MESSAGE="d",se.prototype.listen=se.prototype.J,zl=ma,re.prototype.listenOnce=re.prototype.K,re.prototype.getLastError=re.prototype.Ha,re.prototype.getLastErrorCode=re.prototype.ya,re.prototype.getStatus=re.prototype.ca,re.prototype.getResponseJson=re.prototype.La,re.prototype.getResponseText=re.prototype.la,re.prototype.send=re.prototype.ea,re.prototype.setWithCredentials=re.prototype.Fa,Xb=re}).apply(typeof Wc<"u"?Wc:typeof self<"u"?self:typeof window<"u"?window:{});/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dn{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}dn.UNAUTHENTICATED=new dn(null),dn.GOOGLE_CREDENTIALS=new dn("google-credentials-uid"),dn.FIRST_PARTY=new dn("first-party-uid"),dn.MOCK_USER=new dn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ro="12.9.0";function jM(n){Ro=n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ra=new qb("@firebase/firestore");function no(){return ra.logLevel}function yt(n,...t){if(ra.logLevel<=Ht.DEBUG){const i=t.map(rg);ra.debug(`Firestore (${Ro}): ${n}`,...i)}}function Ts(n,...t){if(ra.logLevel<=Ht.ERROR){const i=t.map(rg);ra.error(`Firestore (${Ro}): ${n}`,...i)}}function aa(n,...t){if(ra.logLevel<=Ht.WARN){const i=t.map(rg);ra.warn(`Firestore (${Ro}): ${n}`,...i)}}function rg(n){if(typeof n=="string")return n;try{return(function(i){return JSON.stringify(i)})(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function St(n,t,i){let r="Unexpected state";typeof t=="string"?r=t:i=t,tx(n,r,i)}function tx(n,t,i){let r=`FIRESTORE (${Ro}) INTERNAL ASSERTION FAILED: ${t} (ID: ${n.toString(16)})`;if(i!==void 0)try{r+=" CONTEXT: "+JSON.stringify(i)}catch{r+=" CONTEXT: "+i}throw Ts(r),new Error(r)}function Wt(n,t,i,r){let o="Unexpected state";typeof i=="string"?o=i:r=i,n||tx(t,o,r)}function Dt(n,t){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class pt extends Co{constructor(t,i){super(t,i),this.code=t,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class na{constructor(){this.promise=new Promise(((t,i)=>{this.resolve=t,this.reject=i}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ex{constructor(t,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class PM{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,i){t.enqueueRetryable((()=>i(dn.UNAUTHENTICATED)))}shutdown(){}}class LM{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,i){this.changeListener=i,t.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class kM{constructor(t){this.t=t,this.currentUser=dn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,i){Wt(this.o===void 0,42304);let r=this.i;const o=p=>this.i!==r?(r=this.i,i(p)):Promise.resolve();let u=new na;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new na,t.enqueueRetryable((()=>o(this.currentUser)))};const c=()=>{const p=u;t.enqueueRetryable((async()=>{await p.promise,await o(this.currentUser)}))},m=p=>{yt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((p=>m(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(yt("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new na)}}),0),c()}getToken(){const t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((r=>this.i!==t?(yt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Wt(typeof r.accessToken=="string",31837,{l:r}),new ex(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Wt(t===null||typeof t=="string",2055,{h:t}),new dn(t)}}class zM{constructor(t,i,r){this.P=t,this.T=i,this.I=r,this.type="FirstParty",this.user=dn.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const t=this.A();return t&&this.R.set("Authorization",t),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class UM{constructor(t,i,r){this.P=t,this.T=i,this.I=r}getToken(){return Promise.resolve(new zM(this.P,this.T,this.I))}start(t,i){t.enqueueRetryable((()=>i(dn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class X1{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class BM{constructor(t,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,TM(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,i){Wt(this.o===void 0,3512);const r=u=>{u.error!=null&&yt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const c=u.token!==this.m;return this.m=u.token,yt("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?i(u.token):Promise.resolve()};this.o=u=>{t.enqueueRetryable((()=>r(u)))};const o=u=>{yt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):yt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new X1(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((i=>i?(Wt(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new X1(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qM(n){const t=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(n);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(i);else for(let r=0;r<n;r++)i[r]=Math.floor(256*Math.random());return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ag{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const o=qM(40);for(let u=0;u<o.length;++u)r.length<20&&o[u]<i&&(r+=t.charAt(o[u]%62))}return r}}function Ut(n,t){return n<t?-1:n>t?1:0}function ap(n,t){const i=Math.min(n.length,t.length);for(let r=0;r<i;r++){const o=n.charAt(r),u=t.charAt(r);if(o!==u)return wm(o)===wm(u)?Ut(o,u):wm(o)?1:-1}return Ut(n.length,t.length)}const FM=55296,HM=57343;function wm(n){const t=n.charCodeAt(0);return t>=FM&&t<=HM}function _o(n,t,i){return n.length===t.length&&n.every(((r,o)=>i(r,t[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z1="__name__";class qi{constructor(t,i,r){i===void 0?i=0:i>t.length&&St(637,{offset:i,range:t.length}),r===void 0?r=t.length-i:r>t.length-i&&St(1746,{length:r,range:t.length-i}),this.segments=t,this.offset=i,this.len=r}get length(){return this.len}isEqual(t){return qi.comparator(this,t)===0}child(t){const i=this.segments.slice(this.offset,this.limit());return t instanceof qi?t.forEach((r=>{i.push(r)})):i.push(t),this.construct(i)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}forEach(t){for(let i=this.offset,r=this.limit();i<r;i++)t(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,i){const r=Math.min(t.length,i.length);for(let o=0;o<r;o++){const u=qi.compareSegments(t.get(o),i.get(o));if(u!==0)return u}return Ut(t.length,i.length)}static compareSegments(t,i){const r=qi.isNumericId(t),o=qi.isNumericId(i);return r&&!o?-1:!r&&o?1:r&&o?qi.extractNumericId(t).compare(qi.extractNumericId(i)):ap(t,i)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return rr.fromString(t.substring(4,t.length-2))}}class fe extends qi{construct(t,i,r){return new fe(t,i,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const i=[];for(const r of t){if(r.indexOf("//")>=0)throw new pt(nt.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);i.push(...r.split("/").filter((o=>o.length>0)))}return new fe(i)}static emptyPath(){return new fe([])}}const GM=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class un extends qi{construct(t,i,r){return new un(t,i,r)}static isValidIdentifier(t){return GM.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),un.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Z1}static keyField(){return new un([Z1])}static fromServerFormat(t){const i=[];let r="",o=0;const u=()=>{if(r.length===0)throw new pt(nt.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(r),r=""};let c=!1;for(;o<t.length;){const m=t[o];if(m==="\\"){if(o+1===t.length)throw new pt(nt.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const p=t[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new pt(nt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=p,o+=2}else m==="`"?(c=!c,o++):m!=="."||c?(r+=m,o++):(u(),o++)}if(u(),c)throw new pt(nt.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new un(i)}static emptyPath(){return new un([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bt{constructor(t){this.path=t}static fromPath(t){return new bt(fe.fromString(t))}static fromName(t){return new bt(fe.fromString(t).popFirst(5))}static empty(){return new bt(fe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&fe.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,i){return fe.comparator(t.path,i.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new bt(new fe(t.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nx(n,t,i){if(!i)throw new pt(nt.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${t}.`)}function KM(n,t,i,r){if(t===!0&&r===!0)throw new pt(nt.INVALID_ARGUMENT,`${n} and ${i} cannot be used together.`)}function $1(n){if(!bt.isDocumentKey(n))throw new pt(nt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function J1(n){if(bt.isDocumentKey(n))throw new pt(nt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function ix(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function Bh(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const t=(function(r){return r.constructor?r.constructor.name:null})(n);return t?`a custom ${t} object`:"an object"}}return typeof n=="function"?"a function":St(12329,{type:typeof n})}function Ql(n,t){if("_delegate"in n&&(n=n._delegate),!(n instanceof t)){if(t.name===n.constructor.name)throw new pt(nt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Bh(n);throw new pt(nt.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return n}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qe(n,t){const i={typeString:n};return t&&(i.value=t),i}function _u(n,t){if(!ix(n))throw new pt(nt.INVALID_ARGUMENT,"JSON must be an object");let i;for(const r in t)if(t[r]){const o=t[r].typeString,u="value"in t[r]?{value:t[r].value}:void 0;if(!(r in n)){i=`JSON missing required field: '${r}'`;break}const c=n[r];if(o&&typeof c!==o){i=`JSON field '${r}' must be a ${o}.`;break}if(u!==void 0&&c!==u.value){i=`Expected '${r}' field to equal '${u.value}'`;break}}if(i)throw new pt(nt.INVALID_ARGUMENT,i);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W1=-62135596800,tT=1e6;class pe{static now(){return pe.fromMillis(Date.now())}static fromDate(t){return pe.fromMillis(t.getTime())}static fromMillis(t){const i=Math.floor(t/1e3),r=Math.floor((t-1e3*i)*tT);return new pe(i,r)}constructor(t,i){if(this.seconds=t,this.nanoseconds=i,i<0)throw new pt(nt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new pt(nt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(t<W1)throw new pt(nt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new pt(nt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/tT}_compareTo(t){return this.seconds===t.seconds?Ut(this.nanoseconds,t.nanoseconds):Ut(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:pe._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(_u(t,pe._jsonSchema))return new pe(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-W1;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}pe._jsonSchemaVersion="firestore/timestamp/1.0",pe._jsonSchema={type:qe("string",pe._jsonSchemaVersion),seconds:qe("number"),nanoseconds:qe("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ct{static fromTimestamp(t){return new Ct(t)}static min(){return new Ct(new pe(0,0))}static max(){return new Ct(new pe(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ou=-1;function YM(n,t){const i=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,o=Ct.fromTimestamp(r===1e9?new pe(i+1,0):new pe(i,r));return new ur(o,bt.empty(),t)}function QM(n){return new ur(n.readTime,n.key,ou)}class ur{constructor(t,i,r){this.readTime=t,this.documentKey=i,this.largestBatchId=r}static min(){return new ur(Ct.min(),bt.empty(),ou)}static max(){return new ur(Ct.max(),bt.empty(),ou)}}function XM(n,t){let i=n.readTime.compareTo(t.readTime);return i!==0?i:(i=bt.comparator(n.documentKey,t.documentKey),i!==0?i:Ut(n.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZM="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class $M{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vo(n){if(n.code!==nt.FAILED_PRECONDITION||n.message!==ZM)throw n;yt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class st{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(t){return this.next(void 0,t)}next(t,i){return this.callbackAttached&&St(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(t,this.result):new st(((r,o)=>{this.nextCallback=u=>{this.wrapSuccess(t,u).next(r,o)},this.catchCallback=u=>{this.wrapFailure(i,u).next(r,o)}}))}toPromise(){return new Promise(((t,i)=>{this.next(t,i)}))}wrapUserFunction(t){try{const i=t();return i instanceof st?i:st.resolve(i)}catch(i){return st.reject(i)}}wrapSuccess(t,i){return t?this.wrapUserFunction((()=>t(i))):st.resolve(i)}wrapFailure(t,i){return t?this.wrapUserFunction((()=>t(i))):st.reject(i)}static resolve(t){return new st(((i,r)=>{i(t)}))}static reject(t){return new st(((i,r)=>{r(t)}))}static waitFor(t){return new st(((i,r)=>{let o=0,u=0,c=!1;t.forEach((m=>{++o,m.next((()=>{++u,c&&u===o&&i()}),(p=>r(p)))})),c=!0,u===o&&i()}))}static or(t){let i=st.resolve(!1);for(const r of t)i=i.next((o=>o?st.resolve(o):r()));return i}static forEach(t,i){const r=[];return t.forEach(((o,u)=>{r.push(i.call(this,o,u))})),this.waitFor(r)}static mapArray(t,i){return new st(((r,o)=>{const u=t.length,c=new Array(u);let m=0;for(let p=0;p<u;p++){const g=p;i(t[g]).next((v=>{c[g]=v,++m,m===u&&r(c)}),(v=>o(v)))}}))}static doWhile(t,i){return new st(((r,o)=>{const u=()=>{t()===!0?i().next((()=>{u()}),o):r()};u()}))}}function JM(n){const t=n.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function Do(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qh{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>i.writeSequenceNumber(r))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}qh.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const og=-1;function Fh(n){return n==null}function Ah(n){return n===0&&1/n==-1/0}function WM(n){return typeof n=="number"&&Number.isInteger(n)&&!Ah(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sx="";function tN(n){let t="";for(let i=0;i<n.length;i++)t.length>0&&(t=eT(t)),t=eN(n.get(i),t);return eT(t)}function eN(n,t){let i=t;const r=n.length;for(let o=0;o<r;o++){const u=n.charAt(o);switch(u){case"\0":i+="";break;case sx:i+="";break;default:i+=u}}return i}function eT(n){return n+sx+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nT(n){let t=0;for(const i in n)Object.prototype.hasOwnProperty.call(n,i)&&t++;return t}function la(n,t){for(const i in n)Object.prototype.hasOwnProperty.call(n,i)&&t(i,n[i])}function rx(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ee{constructor(t,i){this.comparator=t,this.root=i||ln.EMPTY}insert(t,i){return new Ee(this.comparator,this.root.insert(t,i,this.comparator).copy(null,null,ln.BLACK,null,null))}remove(t){return new Ee(this.comparator,this.root.remove(t,this.comparator).copy(null,null,ln.BLACK,null,null))}get(t){let i=this.root;for(;!i.isEmpty();){const r=this.comparator(t,i.key);if(r===0)return i.value;r<0?i=i.left:r>0&&(i=i.right)}return null}indexOf(t){let i=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(t,r.key);if(o===0)return i+r.left.size;o<0?r=r.left:(i+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((i,r)=>(t(i,r),!1)))}toString(){const t=[];return this.inorderTraversal(((i,r)=>(t.push(`${i}:${r}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new th(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new th(this.root,t,this.comparator,!1)}getReverseIterator(){return new th(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new th(this.root,t,this.comparator,!0)}}class th{constructor(t,i,r,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!t.isEmpty();)if(u=i?r(t.key,i):1,i&&o&&(u*=-1),u<0)t=this.isReverse?t.left:t.right;else{if(u===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const i={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class ln{constructor(t,i,r,o,u){this.key=t,this.value=i,this.color=r??ln.RED,this.left=o??ln.EMPTY,this.right=u??ln.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,i,r,o,u){return new ln(t??this.key,i??this.value,r??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,r){let o=this;const u=r(t,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(t,i,r),null):u===0?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(t,i,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return ln.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,i){let r,o=this;if(i(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,i),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),i(t,o.key)===0){if(o.right.isEmpty())return ln.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,i))}return o.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,ln.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,ln.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw St(43730,{key:this.key,value:this.value});if(this.right.isRed())throw St(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw St(27949);return t+(this.isRed()?0:1)}}ln.EMPTY=null,ln.RED=!0,ln.BLACK=!1;ln.EMPTY=new class{constructor(){this.size=0}get key(){throw St(57766)}get value(){throw St(16141)}get color(){throw St(16727)}get left(){throw St(29726)}get right(){throw St(36894)}copy(t,i,r,o,u){return this}insert(t,i,r){return new ln(t,i)}remove(t,i){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ye{constructor(t){this.comparator=t,this.data=new Ee(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((i,r)=>(t(i),!1)))}forEachInRange(t,i){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,t[1])>=0)return;i(o.key)}}forEachWhile(t,i){let r;for(r=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const i=this.data.getIteratorFrom(t);return i.hasNext()?i.getNext().key:null}getIterator(){return new iT(this.data.getIterator())}getIteratorFrom(t){return new iT(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let i=this;return i.size<t.size&&(i=t,t=this),t.forEach((r=>{i=i.add(r)})),i}isEqual(t){if(!(t instanceof Ye)||this.size!==t.size)return!1;const i=this.data.getIterator(),r=t.data.getIterator();for(;i.hasNext();){const o=i.getNext().key,u=r.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((i=>{t.push(i)})),t}toString(){const t=[];return this.forEach((i=>t.push(i))),"SortedSet("+t.toString()+")"}copy(t){const i=new Ye(this.comparator);return i.data=t,i}}class iT{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gi{constructor(t){this.fields=t,t.sort(un.comparator)}static empty(){return new gi([])}unionWith(t){let i=new Ye(un.comparator);for(const r of this.fields)i=i.add(r);for(const r of t)i=i.add(r);return new gi(i.toArray())}covers(t){for(const i of this.fields)if(i.isPrefixOf(t))return!0;return!1}isEqual(t){return _o(this.fields,t.fields,((i,r)=>i.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ax extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cn{constructor(t){this.binaryString=t}static fromBase64String(t){const i=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new ax("Invalid base64 string: "+u):u}})(t);return new cn(i)}static fromUint8Array(t){const i=(function(o){let u="";for(let c=0;c<o.length;++c)u+=String.fromCharCode(o[c]);return u})(t);return new cn(i)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const r=new Uint8Array(i.length);for(let o=0;o<i.length;o++)r[o]=i.charCodeAt(o);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Ut(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}cn.EMPTY_BYTE_STRING=new cn("");const nN=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function cr(n){if(Wt(!!n,39018),typeof n=="string"){let t=0;const i=nN.exec(n);if(Wt(!!i,46558,{timestamp:n}),i[1]){let o=i[1];o=(o+"000000000").substr(0,9),t=Number(o)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:Ve(n.seconds),nanos:Ve(n.nanos)}}function Ve(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function hr(n){return typeof n=="string"?cn.fromBase64String(n):cn.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ox="server_timestamp",lx="__type__",ux="__previous_value__",cx="__local_write_time__";function lg(n){var i,r;return((r=(((i=n==null?void 0:n.mapValue)==null?void 0:i.fields)||{})[lx])==null?void 0:r.stringValue)===ox}function Hh(n){const t=n.mapValue.fields[ux];return lg(t)?Hh(t):t}function lu(n){const t=cr(n.mapValue.fields[cx].timestampValue);return new pe(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iN{constructor(t,i,r,o,u,c,m,p,g,v,E){this.databaseId=t,this.appId=i,this.persistenceKey=r,this.host=o,this.ssl=u,this.forceLongPolling=c,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=g,this.isUsingEmulator=v,this.apiKey=E}}const Sh="(default)";class uu{constructor(t,i){this.projectId=t,this.database=i||Sh}static empty(){return new uu("","")}get isDefaultDatabase(){return this.database===Sh}isEqual(t){return t instanceof uu&&t.projectId===this.projectId&&t.database===this.database}}function sN(n,t){if(!Object.prototype.hasOwnProperty.apply(n.options,["projectId"]))throw new pt(nt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new uu(n.options.projectId,t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hx="__type__",rN="__max__",eh={mapValue:{}},fx="__vector__",wh="value";function fr(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?lg(n)?4:oN(n)?9007199254740991:aN(n)?10:11:St(28295,{value:n})}function Qi(n,t){if(n===t)return!0;const i=fr(n);if(i!==fr(t))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===t.booleanValue;case 4:return lu(n).isEqual(lu(t));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const c=cr(o.timestampValue),m=cr(u.timestampValue);return c.seconds===m.seconds&&c.nanos===m.nanos})(n,t);case 5:return n.stringValue===t.stringValue;case 6:return(function(o,u){return hr(o.bytesValue).isEqual(hr(u.bytesValue))})(n,t);case 7:return n.referenceValue===t.referenceValue;case 8:return(function(o,u){return Ve(o.geoPointValue.latitude)===Ve(u.geoPointValue.latitude)&&Ve(o.geoPointValue.longitude)===Ve(u.geoPointValue.longitude)})(n,t);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return Ve(o.integerValue)===Ve(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const c=Ve(o.doubleValue),m=Ve(u.doubleValue);return c===m?Ah(c)===Ah(m):isNaN(c)&&isNaN(m)}return!1})(n,t);case 9:return _o(n.arrayValue.values||[],t.arrayValue.values||[],Qi);case 10:case 11:return(function(o,u){const c=o.mapValue.fields||{},m=u.mapValue.fields||{};if(nT(c)!==nT(m))return!1;for(const p in c)if(c.hasOwnProperty(p)&&(m[p]===void 0||!Qi(c[p],m[p])))return!1;return!0})(n,t);default:return St(52216,{left:n})}}function cu(n,t){return(n.values||[]).find((i=>Qi(i,t)))!==void 0}function To(n,t){if(n===t)return 0;const i=fr(n),r=fr(t);if(i!==r)return Ut(i,r);switch(i){case 0:case 9007199254740991:return 0;case 1:return Ut(n.booleanValue,t.booleanValue);case 2:return(function(u,c){const m=Ve(u.integerValue||u.doubleValue),p=Ve(c.integerValue||c.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1})(n,t);case 3:return sT(n.timestampValue,t.timestampValue);case 4:return sT(lu(n),lu(t));case 5:return ap(n.stringValue,t.stringValue);case 6:return(function(u,c){const m=hr(u),p=hr(c);return m.compareTo(p)})(n.bytesValue,t.bytesValue);case 7:return(function(u,c){const m=u.split("/"),p=c.split("/");for(let g=0;g<m.length&&g<p.length;g++){const v=Ut(m[g],p[g]);if(v!==0)return v}return Ut(m.length,p.length)})(n.referenceValue,t.referenceValue);case 8:return(function(u,c){const m=Ut(Ve(u.latitude),Ve(c.latitude));return m!==0?m:Ut(Ve(u.longitude),Ve(c.longitude))})(n.geoPointValue,t.geoPointValue);case 9:return rT(n.arrayValue,t.arrayValue);case 10:return(function(u,c){var x,M,B,K;const m=u.fields||{},p=c.fields||{},g=(x=m[wh])==null?void 0:x.arrayValue,v=(M=p[wh])==null?void 0:M.arrayValue,E=Ut(((B=g==null?void 0:g.values)==null?void 0:B.length)||0,((K=v==null?void 0:v.values)==null?void 0:K.length)||0);return E!==0?E:rT(g,v)})(n.mapValue,t.mapValue);case 11:return(function(u,c){if(u===eh.mapValue&&c===eh.mapValue)return 0;if(u===eh.mapValue)return 1;if(c===eh.mapValue)return-1;const m=u.fields||{},p=Object.keys(m),g=c.fields||{},v=Object.keys(g);p.sort(),v.sort();for(let E=0;E<p.length&&E<v.length;++E){const x=ap(p[E],v[E]);if(x!==0)return x;const M=To(m[p[E]],g[v[E]]);if(M!==0)return M}return Ut(p.length,v.length)})(n.mapValue,t.mapValue);default:throw St(23264,{he:i})}}function sT(n,t){if(typeof n=="string"&&typeof t=="string"&&n.length===t.length)return Ut(n,t);const i=cr(n),r=cr(t),o=Ut(i.seconds,r.seconds);return o!==0?o:Ut(i.nanos,r.nanos)}function rT(n,t){const i=n.values||[],r=t.values||[];for(let o=0;o<i.length&&o<r.length;++o){const u=To(i[o],r[o]);if(u)return u}return Ut(i.length,r.length)}function Eo(n){return op(n)}function op(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(i){const r=cr(i);return`time(${r.seconds},${r.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(i){return hr(i).toBase64()})(n.bytesValue):"referenceValue"in n?(function(i){return bt.fromName(i).toString()})(n.referenceValue):"geoPointValue"in n?(function(i){return`geo(${i.latitude},${i.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(i){let r="[",o=!0;for(const u of i.values||[])o?o=!1:r+=",",r+=op(u);return r+"]"})(n.arrayValue):"mapValue"in n?(function(i){const r=Object.keys(i.fields||{}).sort();let o="{",u=!0;for(const c of r)u?u=!1:o+=",",o+=`${c}:${op(i.fields[c])}`;return o+"}"})(n.mapValue):St(61005,{value:n})}function uh(n){switch(fr(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Hh(n);return t?16+uh(t):16;case 5:return 2*n.stringValue.length;case 6:return hr(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((o,u)=>o+uh(u)),0)})(n.arrayValue);case 10:case 11:return(function(r){let o=0;return la(r.fields,((u,c)=>{o+=u.length+uh(c)})),o})(n.mapValue);default:throw St(13486,{value:n})}}function aT(n,t){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${t.path.canonicalString()}`}}function lp(n){return!!n&&"integerValue"in n}function ug(n){return!!n&&"arrayValue"in n}function oT(n){return!!n&&"nullValue"in n}function lT(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function ch(n){return!!n&&"mapValue"in n}function aN(n){var i,r;return((r=(((i=n==null?void 0:n.mapValue)==null?void 0:i.fields)||{})[hx])==null?void 0:r.stringValue)===fx}function Xl(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const t={mapValue:{fields:{}}};return la(n.mapValue.fields,((i,r)=>t.mapValue.fields[i]=Xl(r))),t}if(n.arrayValue){const t={arrayValue:{values:[]}};for(let i=0;i<(n.arrayValue.values||[]).length;++i)t.arrayValue.values[i]=Xl(n.arrayValue.values[i]);return t}return{...n}}function oN(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===rN}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wn{constructor(t){this.value=t}static empty(){return new Wn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let i=this.value;for(let r=0;r<t.length-1;++r)if(i=(i.mapValue.fields||{})[t.get(r)],!ch(i))return null;return i=(i.mapValue.fields||{})[t.lastSegment()],i||null}}set(t,i){this.getFieldsMap(t.popLast())[t.lastSegment()]=Xl(i)}setAll(t){let i=un.emptyPath(),r={},o=[];t.forEach(((c,m)=>{if(!i.isImmediateParentOf(m)){const p=this.getFieldsMap(i);this.applyChanges(p,r,o),r={},o=[],i=m.popLast()}c?r[m.lastSegment()]=Xl(c):o.push(m.lastSegment())}));const u=this.getFieldsMap(i);this.applyChanges(u,r,o)}delete(t){const i=this.field(t.popLast());ch(i)&&i.mapValue.fields&&delete i.mapValue.fields[t.lastSegment()]}isEqual(t){return Qi(this.value,t.value)}getFieldsMap(t){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let r=0;r<t.length;++r){let o=i.mapValue.fields[t.get(r)];ch(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},i.mapValue.fields[t.get(r)]=o),i=o}return i.mapValue.fields}applyChanges(t,i,r){la(i,((o,u)=>t[o]=u));for(const o of r)delete t[o]}clone(){return new Wn(Xl(this.value))}}function dx(n){const t=[];return la(n.fields,((i,r)=>{const o=new un([i]);if(ch(r)){const u=dx(r.mapValue).fields;if(u.length===0)t.push(o);else for(const c of u)t.push(o.child(c))}else t.push(o)})),new gi(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mn{constructor(t,i,r,o,u,c,m){this.key=t,this.documentType=i,this.version=r,this.readTime=o,this.createTime=u,this.data=c,this.documentState=m}static newInvalidDocument(t){return new mn(t,0,Ct.min(),Ct.min(),Ct.min(),Wn.empty(),0)}static newFoundDocument(t,i,r,o){return new mn(t,1,i,Ct.min(),r,o,0)}static newNoDocument(t,i){return new mn(t,2,i,Ct.min(),Ct.min(),Wn.empty(),0)}static newUnknownDocument(t,i){return new mn(t,3,i,Ct.min(),Ct.min(),Wn.empty(),2)}convertToFoundDocument(t,i){return!this.createTime.isEqual(Ct.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Wn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Wn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ct.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof mn&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new mn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ch{constructor(t,i){this.position=t,this.inclusive=i}}function uT(n,t,i){let r=0;for(let o=0;o<n.position.length;o++){const u=t[o],c=n.position[o];if(u.field.isKeyField()?r=bt.comparator(bt.fromName(c.referenceValue),i.key):r=To(c,i.data.field(u.field)),u.dir==="desc"&&(r*=-1),r!==0)break}return r}function cT(n,t){if(n===null)return t===null;if(t===null||n.inclusive!==t.inclusive||n.position.length!==t.position.length)return!1;for(let i=0;i<n.position.length;i++)if(!Qi(n.position[i],t.position[i]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hu{constructor(t,i="asc"){this.field=t,this.dir=i}}function lN(n,t){return n.dir===t.dir&&n.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mx{}class Be extends mx{constructor(t,i,r){super(),this.field=t,this.op=i,this.value=r}static create(t,i,r){return t.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(t,i,r):new cN(t,i,r):i==="array-contains"?new dN(t,r):i==="in"?new mN(t,r):i==="not-in"?new pN(t,r):i==="array-contains-any"?new gN(t,r):new Be(t,i,r)}static createKeyFieldInFilter(t,i,r){return i==="in"?new hN(t,r):new fN(t,r)}matches(t){const i=t.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(To(i,this.value)):i!==null&&fr(this.value)===fr(i)&&this.matchesComparison(To(i,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return St(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class vi extends mx{constructor(t,i){super(),this.filters=t,this.op=i,this.Pe=null}static create(t,i){return new vi(t,i)}matches(t){return px(this)?this.filters.find((i=>!i.matches(t)))===void 0:this.filters.find((i=>i.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,i)=>t.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function px(n){return n.op==="and"}function gx(n){return uN(n)&&px(n)}function uN(n){for(const t of n.filters)if(t instanceof vi)return!1;return!0}function up(n){if(n instanceof Be)return n.field.canonicalString()+n.op.toString()+Eo(n.value);if(gx(n))return n.filters.map((t=>up(t))).join(",");{const t=n.filters.map((i=>up(i))).join(",");return`${n.op}(${t})`}}function yx(n,t){return n instanceof Be?(function(r,o){return o instanceof Be&&r.op===o.op&&r.field.isEqual(o.field)&&Qi(r.value,o.value)})(n,t):n instanceof vi?(function(r,o){return o instanceof vi&&r.op===o.op&&r.filters.length===o.filters.length?r.filters.reduce(((u,c,m)=>u&&yx(c,o.filters[m])),!0):!1})(n,t):void St(19439)}function vx(n){return n instanceof Be?(function(i){return`${i.field.canonicalString()} ${i.op} ${Eo(i.value)}`})(n):n instanceof vi?(function(i){return i.op.toString()+" {"+i.getFilters().map(vx).join(" ,")+"}"})(n):"Filter"}class cN extends Be{constructor(t,i,r){super(t,i,r),this.key=bt.fromName(r.referenceValue)}matches(t){const i=bt.comparator(t.key,this.key);return this.matchesComparison(i)}}class hN extends Be{constructor(t,i){super(t,"in",i),this.keys=_x("in",i)}matches(t){return this.keys.some((i=>i.isEqual(t.key)))}}class fN extends Be{constructor(t,i){super(t,"not-in",i),this.keys=_x("not-in",i)}matches(t){return!this.keys.some((i=>i.isEqual(t.key)))}}function _x(n,t){var i;return(((i=t.arrayValue)==null?void 0:i.values)||[]).map((r=>bt.fromName(r.referenceValue)))}class dN extends Be{constructor(t,i){super(t,"array-contains",i)}matches(t){const i=t.data.field(this.field);return ug(i)&&cu(i.arrayValue,this.value)}}class mN extends Be{constructor(t,i){super(t,"in",i)}matches(t){const i=t.data.field(this.field);return i!==null&&cu(this.value.arrayValue,i)}}class pN extends Be{constructor(t,i){super(t,"not-in",i)}matches(t){if(cu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=t.data.field(this.field);return i!==null&&i.nullValue===void 0&&!cu(this.value.arrayValue,i)}}class gN extends Be{constructor(t,i){super(t,"array-contains-any",i)}matches(t){const i=t.data.field(this.field);return!(!ug(i)||!i.arrayValue.values)&&i.arrayValue.values.some((r=>cu(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yN{constructor(t,i=null,r=[],o=[],u=null,c=null,m=null){this.path=t,this.collectionGroup=i,this.orderBy=r,this.filters=o,this.limit=u,this.startAt=c,this.endAt=m,this.Te=null}}function hT(n,t=null,i=[],r=[],o=null,u=null,c=null){return new yN(n,t,i,r,o,u,c)}function cg(n){const t=Dt(n);if(t.Te===null){let i=t.path.canonicalString();t.collectionGroup!==null&&(i+="|cg:"+t.collectionGroup),i+="|f:",i+=t.filters.map((r=>up(r))).join(","),i+="|ob:",i+=t.orderBy.map((r=>(function(u){return u.field.canonicalString()+u.dir})(r))).join(","),Fh(t.limit)||(i+="|l:",i+=t.limit),t.startAt&&(i+="|lb:",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((r=>Eo(r))).join(",")),t.endAt&&(i+="|ub:",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((r=>Eo(r))).join(",")),t.Te=i}return t.Te}function hg(n,t){if(n.limit!==t.limit||n.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<n.orderBy.length;i++)if(!lN(n.orderBy[i],t.orderBy[i]))return!1;if(n.filters.length!==t.filters.length)return!1;for(let i=0;i<n.filters.length;i++)if(!yx(n.filters[i],t.filters[i]))return!1;return n.collectionGroup===t.collectionGroup&&!!n.path.isEqual(t.path)&&!!cT(n.startAt,t.startAt)&&cT(n.endAt,t.endAt)}function cp(n){return bt.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mo{constructor(t,i=null,r=[],o=[],u=null,c="F",m=null,p=null){this.path=t,this.collectionGroup=i,this.explicitOrderBy=r,this.filters=o,this.limit=u,this.limitType=c,this.startAt=m,this.endAt=p,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function vN(n,t,i,r,o,u,c,m){return new Mo(n,t,i,r,o,u,c,m)}function fg(n){return new Mo(n)}function fT(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function _N(n){return bt.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}function Tx(n){return n.collectionGroup!==null}function Zl(n){const t=Dt(n);if(t.Ie===null){t.Ie=[];const i=new Set;for(const u of t.explicitOrderBy)t.Ie.push(u),i.add(u.field.canonicalString());const r=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(c){let m=new Ye(un.comparator);return c.filters.forEach((p=>{p.getFlattenedFilters().forEach((g=>{g.isInequality()&&(m=m.add(g.field))}))})),m})(t).forEach((u=>{i.has(u.canonicalString())||u.isKeyField()||t.Ie.push(new hu(u,r))})),i.has(un.keyField().canonicalString())||t.Ie.push(new hu(un.keyField(),r))}return t.Ie}function Gi(n){const t=Dt(n);return t.Ee||(t.Ee=TN(t,Zl(n))),t.Ee}function TN(n,t){if(n.limitType==="F")return hT(n.path,n.collectionGroup,t,n.filters,n.limit,n.startAt,n.endAt);{t=t.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new hu(o.field,u)}));const i=n.endAt?new Ch(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new Ch(n.startAt.position,n.startAt.inclusive):null;return hT(n.path,n.collectionGroup,t,n.filters,n.limit,i,r)}}function hp(n,t){const i=n.filters.concat([t]);return new Mo(n.path,n.collectionGroup,n.explicitOrderBy.slice(),i,n.limit,n.limitType,n.startAt,n.endAt)}function EN(n,t){const i=n.explicitOrderBy.concat([t]);return new Mo(n.path,n.collectionGroup,i,n.filters.slice(),n.limit,n.limitType,n.startAt,n.endAt)}function Rh(n,t,i){return new Mo(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),t,i,n.startAt,n.endAt)}function Gh(n,t){return hg(Gi(n),Gi(t))&&n.limitType===t.limitType}function Ex(n){return`${cg(Gi(n))}|lt:${n.limitType}`}function io(n){return`Query(target=${(function(i){let r=i.path.canonicalString();return i.collectionGroup!==null&&(r+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(r+=`, filters: [${i.filters.map((o=>vx(o))).join(", ")}]`),Fh(i.limit)||(r+=", limit: "+i.limit),i.orderBy.length>0&&(r+=`, orderBy: [${i.orderBy.map((o=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(o))).join(", ")}]`),i.startAt&&(r+=", startAt: ",r+=i.startAt.inclusive?"b:":"a:",r+=i.startAt.position.map((o=>Eo(o))).join(",")),i.endAt&&(r+=", endAt: ",r+=i.endAt.inclusive?"a:":"b:",r+=i.endAt.position.map((o=>Eo(o))).join(",")),`Target(${r})`})(Gi(n))}; limitType=${n.limitType})`}function Kh(n,t){return t.isFoundDocument()&&(function(r,o){const u=o.key.path;return r.collectionGroup!==null?o.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(u):bt.isDocumentKey(r.path)?r.path.isEqual(u):r.path.isImmediateParentOf(u)})(n,t)&&(function(r,o){for(const u of Zl(r))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(n,t)&&(function(r,o){for(const u of r.filters)if(!u.matches(o))return!1;return!0})(n,t)&&(function(r,o){return!(r.startAt&&!(function(c,m,p){const g=uT(c,m,p);return c.inclusive?g<=0:g<0})(r.startAt,Zl(r),o)||r.endAt&&!(function(c,m,p){const g=uT(c,m,p);return c.inclusive?g>=0:g>0})(r.endAt,Zl(r),o))})(n,t)}function bN(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function bx(n){return(t,i)=>{let r=!1;for(const o of Zl(n)){const u=xN(o,t,i);if(u!==0)return u;r=r||o.field.isKeyField()}return 0}}function xN(n,t,i){const r=n.field.isKeyField()?bt.comparator(t.key,i.key):(function(u,c,m){const p=c.data.field(u),g=m.data.field(u);return p!==null&&g!==null?To(p,g):St(42886)})(n.field,t,i);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return St(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ua{constructor(t,i){this.mapKeyFn=t,this.equalsFn=i,this.inner={},this.innerSize=0}get(t){const i=this.mapKeyFn(t),r=this.inner[i];if(r!==void 0){for(const[o,u]of r)if(this.equalsFn(o,t))return u}}has(t){return this.get(t)!==void 0}set(t,i){const r=this.mapKeyFn(t),o=this.inner[r];if(o===void 0)return this.inner[r]=[[t,i]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],t))return void(o[u]=[t,i]);o.push([t,i]),this.innerSize++}delete(t){const i=this.mapKeyFn(t),r=this.inner[i];if(r===void 0)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],t))return r.length===1?delete this.inner[i]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(t){la(this.inner,((i,r)=>{for(const[o,u]of r)t(o,u)}))}isEmpty(){return rx(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AN=new Ee(bt.comparator);function Es(){return AN}const xx=new Ee(bt.comparator);function Ul(...n){let t=xx;for(const i of n)t=t.insert(i.key,i);return t}function Ax(n){let t=xx;return n.forEach(((i,r)=>t=t.insert(i,r.overlayedDocument))),t}function Wr(){return $l()}function Sx(){return $l()}function $l(){return new ua((n=>n.toString()),((n,t)=>n.isEqual(t)))}const SN=new Ee(bt.comparator),wN=new Ye(bt.comparator);function Bt(...n){let t=wN;for(const i of n)t=t.add(i);return t}const CN=new Ye(Ut);function RN(){return CN}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dg(n,t){if(n.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ah(t)?"-0":t}}function wx(n){return{integerValue:""+n}}function VN(n,t){return WM(t)?wx(t):dg(n,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yh{constructor(){this._=void 0}}function DN(n,t,i){return n instanceof fu?(function(o,u){const c={fields:{[lx]:{stringValue:ox},[cx]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&lg(u)&&(u=Hh(u)),u&&(c.fields[ux]=u),{mapValue:c}})(i,t):n instanceof du?Rx(n,t):n instanceof mu?Vx(n,t):(function(o,u){const c=Cx(o,u),m=dT(c)+dT(o.Ae);return lp(c)&&lp(o.Ae)?wx(m):dg(o.serializer,m)})(n,t)}function MN(n,t,i){return n instanceof du?Rx(n,t):n instanceof mu?Vx(n,t):i}function Cx(n,t){return n instanceof Vh?(function(r){return lp(r)||(function(u){return!!u&&"doubleValue"in u})(r)})(t)?t:{integerValue:0}:null}class fu extends Yh{}class du extends Yh{constructor(t){super(),this.elements=t}}function Rx(n,t){const i=Dx(t);for(const r of n.elements)i.some((o=>Qi(o,r)))||i.push(r);return{arrayValue:{values:i}}}class mu extends Yh{constructor(t){super(),this.elements=t}}function Vx(n,t){let i=Dx(t);for(const r of n.elements)i=i.filter((o=>!Qi(o,r)));return{arrayValue:{values:i}}}class Vh extends Yh{constructor(t,i){super(),this.serializer=t,this.Ae=i}}function dT(n){return Ve(n.integerValue||n.doubleValue)}function Dx(n){return ug(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NN{constructor(t,i){this.field=t,this.transform=i}}function IN(n,t){return n.field.isEqual(t.field)&&(function(r,o){return r instanceof du&&o instanceof du||r instanceof mu&&o instanceof mu?_o(r.elements,o.elements,Qi):r instanceof Vh&&o instanceof Vh?Qi(r.Ae,o.Ae):r instanceof fu&&o instanceof fu})(n.transform,t.transform)}class ON{constructor(t,i){this.version=t,this.transformResults=i}}class gs{constructor(t,i){this.updateTime=t,this.exists=i}static none(){return new gs}static exists(t){return new gs(void 0,t)}static updateTime(t){return new gs(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function hh(n,t){return n.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(n.updateTime):n.exists===void 0||n.exists===t.isFoundDocument()}class Qh{}function Mx(n,t){if(!n.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return n.isNoDocument()?new Ix(n.key,gs.none()):new Tu(n.key,n.data,gs.none());{const i=n.data,r=Wn.empty();let o=new Ye(un.comparator);for(let u of t.fields)if(!o.has(u)){let c=i.field(u);c===null&&u.length>1&&(u=u.popLast(),c=i.field(u)),c===null?r.delete(u):r.set(u,c),o=o.add(u)}return new ca(n.key,r,new gi(o.toArray()),gs.none())}}function jN(n,t,i){n instanceof Tu?(function(o,u,c){const m=o.value.clone(),p=pT(o.fieldTransforms,u,c.transformResults);m.setAll(p),u.convertToFoundDocument(c.version,m).setHasCommittedMutations()})(n,t,i):n instanceof ca?(function(o,u,c){if(!hh(o.precondition,u))return void u.convertToUnknownDocument(c.version);const m=pT(o.fieldTransforms,u,c.transformResults),p=u.data;p.setAll(Nx(o)),p.setAll(m),u.convertToFoundDocument(c.version,p).setHasCommittedMutations()})(n,t,i):(function(o,u,c){u.convertToNoDocument(c.version).setHasCommittedMutations()})(0,t,i)}function Jl(n,t,i,r){return n instanceof Tu?(function(u,c,m,p){if(!hh(u.precondition,c))return m;const g=u.value.clone(),v=gT(u.fieldTransforms,p,c);return g.setAll(v),c.convertToFoundDocument(c.version,g).setHasLocalMutations(),null})(n,t,i,r):n instanceof ca?(function(u,c,m,p){if(!hh(u.precondition,c))return m;const g=gT(u.fieldTransforms,p,c),v=c.data;return v.setAll(Nx(u)),v.setAll(g),c.convertToFoundDocument(c.version,v).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((E=>E.field)))})(n,t,i,r):(function(u,c,m){return hh(u.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):m})(n,t,i)}function PN(n,t){let i=null;for(const r of n.fieldTransforms){const o=t.data.field(r.field),u=Cx(r.transform,o||null);u!=null&&(i===null&&(i=Wn.empty()),i.set(r.field,u))}return i||null}function mT(n,t){return n.type===t.type&&!!n.key.isEqual(t.key)&&!!n.precondition.isEqual(t.precondition)&&!!(function(r,o){return r===void 0&&o===void 0||!(!r||!o)&&_o(r,o,((u,c)=>IN(u,c)))})(n.fieldTransforms,t.fieldTransforms)&&(n.type===0?n.value.isEqual(t.value):n.type!==1||n.data.isEqual(t.data)&&n.fieldMask.isEqual(t.fieldMask))}class Tu extends Qh{constructor(t,i,r,o=[]){super(),this.key=t,this.value=i,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class ca extends Qh{constructor(t,i,r,o,u=[]){super(),this.key=t,this.data=i,this.fieldMask=r,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function Nx(n){const t=new Map;return n.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const r=n.data.field(i);t.set(i,r)}})),t}function pT(n,t,i){const r=new Map;Wt(n.length===i.length,32656,{Ve:i.length,de:n.length});for(let o=0;o<i.length;o++){const u=n[o],c=u.transform,m=t.data.field(u.field);r.set(u.field,MN(c,m,i[o]))}return r}function gT(n,t,i){const r=new Map;for(const o of n){const u=o.transform,c=i.data.field(o.field);r.set(o.field,DN(u,c,t))}return r}class Ix extends Qh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class LN extends Qh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kN{constructor(t,i,r,o){this.batchId=t,this.localWriteTime=i,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(t,i){const r=i.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(t.key)&&jN(u,t,r[o])}}applyToLocalView(t,i){for(const r of this.baseMutations)r.key.isEqual(t.key)&&(i=Jl(r,t,i,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(t.key)&&(i=Jl(r,t,i,this.localWriteTime));return i}applyToLocalDocumentSet(t,i){const r=Sx();return this.mutations.forEach((o=>{const u=t.get(o.key),c=u.overlayedDocument;let m=this.applyToLocalView(c,u.mutatedFields);m=i.has(o.key)?null:m;const p=Mx(c,m);p!==null&&r.set(o.key,p),c.isValidDocument()||c.convertToNoDocument(Ct.min())})),r}keys(){return this.mutations.reduce(((t,i)=>t.add(i.key)),Bt())}isEqual(t){return this.batchId===t.batchId&&_o(this.mutations,t.mutations,((i,r)=>mT(i,r)))&&_o(this.baseMutations,t.baseMutations,((i,r)=>mT(i,r)))}}class mg{constructor(t,i,r,o){this.batch=t,this.commitVersion=i,this.mutationResults=r,this.docVersions=o}static from(t,i,r){Wt(t.mutations.length===r.length,58842,{me:t.mutations.length,fe:r.length});let o=(function(){return SN})();const u=t.mutations;for(let c=0;c<u.length;c++)o=o.insert(u[c].key,r[c].version);return new mg(t,i,r,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zN{constructor(t,i){this.largestBatchId=t,this.mutation=i}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UN{constructor(t,i){this.count=t,this.unchangedNames=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ze,Ft;function BN(n){switch(n){case nt.OK:return St(64938);case nt.CANCELLED:case nt.UNKNOWN:case nt.DEADLINE_EXCEEDED:case nt.RESOURCE_EXHAUSTED:case nt.INTERNAL:case nt.UNAVAILABLE:case nt.UNAUTHENTICATED:return!1;case nt.INVALID_ARGUMENT:case nt.NOT_FOUND:case nt.ALREADY_EXISTS:case nt.PERMISSION_DENIED:case nt.FAILED_PRECONDITION:case nt.ABORTED:case nt.OUT_OF_RANGE:case nt.UNIMPLEMENTED:case nt.DATA_LOSS:return!0;default:return St(15467,{code:n})}}function Ox(n){if(n===void 0)return Ts("GRPC error has no .code"),nt.UNKNOWN;switch(n){case ze.OK:return nt.OK;case ze.CANCELLED:return nt.CANCELLED;case ze.UNKNOWN:return nt.UNKNOWN;case ze.DEADLINE_EXCEEDED:return nt.DEADLINE_EXCEEDED;case ze.RESOURCE_EXHAUSTED:return nt.RESOURCE_EXHAUSTED;case ze.INTERNAL:return nt.INTERNAL;case ze.UNAVAILABLE:return nt.UNAVAILABLE;case ze.UNAUTHENTICATED:return nt.UNAUTHENTICATED;case ze.INVALID_ARGUMENT:return nt.INVALID_ARGUMENT;case ze.NOT_FOUND:return nt.NOT_FOUND;case ze.ALREADY_EXISTS:return nt.ALREADY_EXISTS;case ze.PERMISSION_DENIED:return nt.PERMISSION_DENIED;case ze.FAILED_PRECONDITION:return nt.FAILED_PRECONDITION;case ze.ABORTED:return nt.ABORTED;case ze.OUT_OF_RANGE:return nt.OUT_OF_RANGE;case ze.UNIMPLEMENTED:return nt.UNIMPLEMENTED;case ze.DATA_LOSS:return nt.DATA_LOSS;default:return St(39323,{code:n})}}(Ft=ze||(ze={}))[Ft.OK=0]="OK",Ft[Ft.CANCELLED=1]="CANCELLED",Ft[Ft.UNKNOWN=2]="UNKNOWN",Ft[Ft.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ft[Ft.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ft[Ft.NOT_FOUND=5]="NOT_FOUND",Ft[Ft.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ft[Ft.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ft[Ft.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ft[Ft.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ft[Ft.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ft[Ft.ABORTED=10]="ABORTED",Ft[Ft.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ft[Ft.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ft[Ft.INTERNAL=13]="INTERNAL",Ft[Ft.UNAVAILABLE=14]="UNAVAILABLE",Ft[Ft.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qN(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FN=new rr([4294967295,4294967295],0);function yT(n){const t=qN().encode(n),i=new Qb;return i.update(t),new Uint8Array(i.digest())}function vT(n){const t=new DataView(n.buffer),i=t.getUint32(0,!0),r=t.getUint32(4,!0),o=t.getUint32(8,!0),u=t.getUint32(12,!0);return[new rr([i,r],0),new rr([o,u],0)]}class pg{constructor(t,i,r){if(this.bitmap=t,this.padding=i,this.hashCount=r,i<0||i>=8)throw new Bl(`Invalid padding: ${i}`);if(r<0)throw new Bl(`Invalid hash count: ${r}`);if(t.length>0&&this.hashCount===0)throw new Bl(`Invalid hash count: ${r}`);if(t.length===0&&i!==0)throw new Bl(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*t.length-i,this.pe=rr.fromNumber(this.ge)}ye(t,i,r){let o=t.add(i.multiply(rr.fromNumber(r)));return o.compare(FN)===1&&(o=new rr([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const i=yT(t),[r,o]=vT(i);for(let u=0;u<this.hashCount;u++){const c=this.ye(r,o,u);if(!this.we(c))return!1}return!0}static create(t,i,r){const o=t%8==0?0:8-t%8,u=new Uint8Array(Math.ceil(t/8)),c=new pg(u,o,i);return r.forEach((m=>c.insert(m))),c}insert(t){if(this.ge===0)return;const i=yT(t),[r,o]=vT(i);for(let u=0;u<this.hashCount;u++){const c=this.ye(r,o,u);this.be(c)}}be(t){const i=Math.floor(t/8),r=t%8;this.bitmap[i]|=1<<r}}class Bl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xh{constructor(t,i,r,o,u){this.snapshotVersion=t,this.targetChanges=i,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(t,i,r){const o=new Map;return o.set(t,Eu.createSynthesizedTargetChangeForCurrentChange(t,i,r)),new Xh(Ct.min(),o,new Ee(Ut),Es(),Bt())}}class Eu{constructor(t,i,r,o,u){this.resumeToken=t,this.current=i,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(t,i,r){return new Eu(r,i,Bt(),Bt(),Bt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fh{constructor(t,i,r,o){this.Se=t,this.removedTargetIds=i,this.key=r,this.De=o}}class jx{constructor(t,i){this.targetId=t,this.Ce=i}}class Px{constructor(t,i,r=cn.EMPTY_BYTE_STRING,o=null){this.state=t,this.targetIds=i,this.resumeToken=r,this.cause=o}}class _T{constructor(){this.ve=0,this.Fe=TT(),this.Me=cn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Bt(),i=Bt(),r=Bt();return this.Fe.forEach(((o,u)=>{switch(u){case 0:t=t.add(o);break;case 2:i=i.add(o);break;case 1:r=r.add(o);break;default:St(38017,{changeType:u})}})),new Eu(this.Me,this.xe,t,i,r)}Ke(){this.Oe=!1,this.Fe=TT()}qe(t,i){this.Oe=!0,this.Fe=this.Fe.insert(t,i)}Ue(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}$e(){this.ve+=1}We(){this.ve-=1,Wt(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class HN{constructor(t){this.Ge=t,this.ze=new Map,this.je=Es(),this.He=nh(),this.Je=nh(),this.Ze=new Ee(Ut)}Xe(t){for(const i of t.Se)t.De&&t.De.isFoundDocument()?this.Ye(i,t.De):this.et(i,t.key,t.De);for(const i of t.removedTargetIds)this.et(i,t.key,t.De)}tt(t){this.forEachTarget(t,(i=>{const r=this.nt(i);switch(t.state){case 0:this.rt(i)&&r.Le(t.resumeToken);break;case 1:r.We(),r.Ne||r.Ke(),r.Le(t.resumeToken);break;case 2:r.We(),r.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(r.Qe(),r.Le(t.resumeToken));break;case 4:this.rt(i)&&(this.it(i),r.Le(t.resumeToken));break;default:St(56790,{state:t.state})}}))}forEachTarget(t,i){t.targetIds.length>0?t.targetIds.forEach(i):this.ze.forEach(((r,o)=>{this.rt(o)&&i(o)}))}st(t){const i=t.targetId,r=t.Ce.count,o=this.ot(i);if(o){const u=o.target;if(cp(u))if(r===0){const c=new bt(u.path);this.et(i,c,mn.newNoDocument(c,Ct.min()))}else Wt(r===1,20013,{expectedCount:r});else{const c=this._t(i);if(c!==r){const m=this.ut(t),p=m?this.ct(m,t,c):1;if(p!==0){this.it(i);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(i,g)}}}}}ut(t){const i=t.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:r="",padding:o=0},hashCount:u=0}=i;let c,m;try{c=hr(r).toUint8Array()}catch(p){if(p instanceof ax)return aa("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new pg(c,o,u)}catch(p){return aa(p instanceof Bl?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.ge===0?null:m}ct(t,i,r){return i.Ce.count===r-this.Pt(t,i.targetId)?0:2}Pt(t,i){const r=this.Ge.getRemoteKeysForTarget(i);let o=0;return r.forEach((u=>{const c=this.Ge.ht(),m=`projects/${c.projectId}/databases/${c.database}/documents/${u.path.canonicalString()}`;t.mightContain(m)||(this.et(i,u,null),o++)})),o}Tt(t){const i=new Map;this.ze.forEach(((u,c)=>{const m=this.ot(c);if(m){if(u.current&&cp(m.target)){const p=new bt(m.target.path);this.It(p).has(c)||this.Et(c,p)||this.et(c,p,mn.newNoDocument(p,t))}u.Be&&(i.set(c,u.ke()),u.Ke())}}));let r=Bt();this.Je.forEach(((u,c)=>{let m=!0;c.forEachWhile((p=>{const g=this.ot(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(r=r.add(u))})),this.je.forEach(((u,c)=>c.setReadTime(t)));const o=new Xh(t,i,this.Ze,this.je,r);return this.je=Es(),this.He=nh(),this.Je=nh(),this.Ze=new Ee(Ut),o}Ye(t,i){if(!this.rt(t))return;const r=this.Et(t,i.key)?2:0;this.nt(t).qe(i.key,r),this.je=this.je.insert(i.key,i),this.He=this.He.insert(i.key,this.It(i.key).add(t)),this.Je=this.Je.insert(i.key,this.Rt(i.key).add(t))}et(t,i,r){if(!this.rt(t))return;const o=this.nt(t);this.Et(t,i)?o.qe(i,1):o.Ue(i),this.Je=this.Je.insert(i,this.Rt(i).delete(t)),this.Je=this.Je.insert(i,this.Rt(i).add(t)),r&&(this.je=this.je.insert(i,r))}removeTarget(t){this.ze.delete(t)}_t(t){const i=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+i.addedDocuments.size-i.removedDocuments.size}$e(t){this.nt(t).$e()}nt(t){let i=this.ze.get(t);return i||(i=new _T,this.ze.set(t,i)),i}Rt(t){let i=this.Je.get(t);return i||(i=new Ye(Ut),this.Je=this.Je.insert(t,i)),i}It(t){let i=this.He.get(t);return i||(i=new Ye(Ut),this.He=this.He.insert(t,i)),i}rt(t){const i=this.ot(t)!==null;return i||yt("WatchChangeAggregator","Detected inactive target",t),i}ot(t){const i=this.ze.get(t);return i&&i.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new _T),this.Ge.getRemoteKeysForTarget(t).forEach((i=>{this.et(t,i,null)}))}Et(t,i){return this.Ge.getRemoteKeysForTarget(t).has(i)}}function nh(){return new Ee(bt.comparator)}function TT(){return new Ee(bt.comparator)}const GN={asc:"ASCENDING",desc:"DESCENDING"},KN={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},YN={and:"AND",or:"OR"};class QN{constructor(t,i){this.databaseId=t,this.useProto3Json=i}}function fp(n,t){return n.useProto3Json||Fh(t)?t:{value:t}}function Dh(n,t){return n.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function Lx(n,t){return n.useProto3Json?t.toBase64():t.toUint8Array()}function XN(n,t){return Dh(n,t.toTimestamp())}function Ki(n){return Wt(!!n,49232),Ct.fromTimestamp((function(i){const r=cr(i);return new pe(r.seconds,r.nanos)})(n))}function gg(n,t){return dp(n,t).canonicalString()}function dp(n,t){const i=(function(o){return new fe(["projects",o.projectId,"databases",o.database])})(n).child("documents");return t===void 0?i:i.child(t)}function kx(n){const t=fe.fromString(n);return Wt(Fx(t),10190,{key:t.toString()}),t}function mp(n,t){return gg(n.databaseId,t.path)}function Cm(n,t){const i=kx(t);if(i.get(1)!==n.databaseId.projectId)throw new pt(nt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+n.databaseId.projectId);if(i.get(3)!==n.databaseId.database)throw new pt(nt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+n.databaseId.database);return new bt(Ux(i))}function zx(n,t){return gg(n.databaseId,t)}function ZN(n){const t=kx(n);return t.length===4?fe.emptyPath():Ux(t)}function pp(n){return new fe(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function Ux(n){return Wt(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function ET(n,t,i){return{name:mp(n,t),fields:i.value.mapValue.fields}}function $N(n,t){let i;if("targetChange"in t){t.targetChange;const r=(function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:St(39313,{state:g})})(t.targetChange.targetChangeType||"NO_CHANGE"),o=t.targetChange.targetIds||[],u=(function(g,v){return g.useProto3Json?(Wt(v===void 0||typeof v=="string",58123),cn.fromBase64String(v||"")):(Wt(v===void 0||v instanceof Buffer||v instanceof Uint8Array,16193),cn.fromUint8Array(v||new Uint8Array))})(n,t.targetChange.resumeToken),c=t.targetChange.cause,m=c&&(function(g){const v=g.code===void 0?nt.UNKNOWN:Ox(g.code);return new pt(v,g.message||"")})(c);i=new Px(r,o,u,m||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const o=Cm(n,r.document.name),u=Ki(r.document.updateTime),c=r.document.createTime?Ki(r.document.createTime):Ct.min(),m=new Wn({mapValue:{fields:r.document.fields}}),p=mn.newFoundDocument(o,u,c,m),g=r.targetIds||[],v=r.removedTargetIds||[];i=new fh(g,v,p.key,p)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const o=Cm(n,r.document),u=r.readTime?Ki(r.readTime):Ct.min(),c=mn.newNoDocument(o,u),m=r.removedTargetIds||[];i=new fh([],m,c.key,c)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const o=Cm(n,r.document),u=r.removedTargetIds||[];i=new fh([],u,o,null)}else{if(!("filter"in t))return St(11601,{Vt:t});{t.filter;const r=t.filter;r.targetId;const{count:o=0,unchangedNames:u}=r,c=new UN(o,u),m=r.targetId;i=new jx(m,c)}}return i}function JN(n,t){let i;if(t instanceof Tu)i={update:ET(n,t.key,t.value)};else if(t instanceof Ix)i={delete:mp(n,t.key)};else if(t instanceof ca)i={update:ET(n,t.key,t.data),updateMask:o3(t.fieldMask)};else{if(!(t instanceof LN))return St(16599,{dt:t.type});i={verify:mp(n,t.key)}}return t.fieldTransforms.length>0&&(i.updateTransforms=t.fieldTransforms.map((r=>(function(u,c){const m=c.transform;if(m instanceof fu)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof du)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof mu)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof Vh)return{fieldPath:c.field.canonicalString(),increment:m.Ae};throw St(20930,{transform:c.transform})})(0,r)))),t.precondition.isNone||(i.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:XN(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:St(27497)})(n,t.precondition)),i}function WN(n,t){return n&&n.length>0?(Wt(t!==void 0,14353),n.map((i=>(function(o,u){let c=o.updateTime?Ki(o.updateTime):Ki(u);return c.isEqual(Ct.min())&&(c=Ki(u)),new ON(c,o.transformResults||[])})(i,t)))):[]}function t3(n,t){return{documents:[zx(n,t.path)]}}function e3(n,t){const i={structuredQuery:{}},r=t.path;let o;t.collectionGroup!==null?(o=r,i.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(o=r.popLast(),i.structuredQuery.from=[{collectionId:r.lastSegment()}]),i.parent=zx(n,o);const u=(function(g){if(g.length!==0)return qx(vi.create(g,"and"))})(t.filters);u&&(i.structuredQuery.where=u);const c=(function(g){if(g.length!==0)return g.map((v=>(function(x){return{field:so(x.field),direction:s3(x.dir)}})(v)))})(t.orderBy);c&&(i.structuredQuery.orderBy=c);const m=fp(n,t.limit);return m!==null&&(i.structuredQuery.limit=m),t.startAt&&(i.structuredQuery.startAt=(function(g){return{before:g.inclusive,values:g.position}})(t.startAt)),t.endAt&&(i.structuredQuery.endAt=(function(g){return{before:!g.inclusive,values:g.position}})(t.endAt)),{ft:i,parent:o}}function n3(n){let t=ZN(n.parent);const i=n.structuredQuery,r=i.from?i.from.length:0;let o=null;if(r>0){Wt(r===1,65062);const v=i.from[0];v.allDescendants?o=v.collectionId:t=t.child(v.collectionId)}let u=[];i.where&&(u=(function(E){const x=Bx(E);return x instanceof vi&&gx(x)?x.getFilters():[x]})(i.where));let c=[];i.orderBy&&(c=(function(E){return E.map((x=>(function(B){return new hu(ro(B.field),(function(L){switch(L){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(B.direction))})(x)))})(i.orderBy));let m=null;i.limit&&(m=(function(E){let x;return x=typeof E=="object"?E.value:E,Fh(x)?null:x})(i.limit));let p=null;i.startAt&&(p=(function(E){const x=!!E.before,M=E.values||[];return new Ch(M,x)})(i.startAt));let g=null;return i.endAt&&(g=(function(E){const x=!E.before,M=E.values||[];return new Ch(M,x)})(i.endAt)),vN(t,o,c,u,m,"F",p,g)}function i3(n,t){const i=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return St(28987,{purpose:o})}})(t.purpose);return i==null?null:{"goog-listen-tags":i}}function Bx(n){return n.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const r=ro(i.unaryFilter.field);return Be.create(r,"==",{doubleValue:NaN});case"IS_NULL":const o=ro(i.unaryFilter.field);return Be.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=ro(i.unaryFilter.field);return Be.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=ro(i.unaryFilter.field);return Be.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return St(61313);default:return St(60726)}})(n):n.fieldFilter!==void 0?(function(i){return Be.create(ro(i.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return St(58110);default:return St(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(i){return vi.create(i.compositeFilter.filters.map((r=>Bx(r))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return St(1026)}})(i.compositeFilter.op))})(n):St(30097,{filter:n})}function s3(n){return GN[n]}function r3(n){return KN[n]}function a3(n){return YN[n]}function so(n){return{fieldPath:n.canonicalString()}}function ro(n){return un.fromServerFormat(n.fieldPath)}function qx(n){return n instanceof Be?(function(i){if(i.op==="=="){if(lT(i.value))return{unaryFilter:{field:so(i.field),op:"IS_NAN"}};if(oT(i.value))return{unaryFilter:{field:so(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(lT(i.value))return{unaryFilter:{field:so(i.field),op:"IS_NOT_NAN"}};if(oT(i.value))return{unaryFilter:{field:so(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:so(i.field),op:r3(i.op),value:i.value}}})(n):n instanceof vi?(function(i){const r=i.getFilters().map((o=>qx(o)));return r.length===1?r[0]:{compositeFilter:{op:a3(i.op),filters:r}}})(n):St(54877,{filter:n})}function o3(n){const t=[];return n.fields.forEach((i=>t.push(i.canonicalString()))),{fieldPaths:t}}function Fx(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}function Hx(n){return!!n&&typeof n._toProto=="function"&&n._protoValueType==="ProtoValue"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nr{constructor(t,i,r,o,u=Ct.min(),c=Ct.min(),m=cn.EMPTY_BYTE_STRING,p=null){this.target=t,this.targetId=i,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(t){return new nr(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,i){return new nr(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new nr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new nr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l3{constructor(t){this.yt=t}}function u3(n){const t=n3({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Rh(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c3{constructor(){this.Sn=new h3}addToCollectionParentIndex(t,i){return this.Sn.add(i),st.resolve()}getCollectionParents(t,i){return st.resolve(this.Sn.getEntries(i))}addFieldIndex(t,i){return st.resolve()}deleteFieldIndex(t,i){return st.resolve()}deleteAllFieldIndexes(t){return st.resolve()}createTargetIndexes(t,i){return st.resolve()}getDocumentsMatchingTarget(t,i){return st.resolve(null)}getIndexType(t,i){return st.resolve(0)}getFieldIndexes(t,i){return st.resolve([])}getNextCollectionGroupToUpdate(t){return st.resolve(null)}getMinOffset(t,i){return st.resolve(ur.min())}getMinOffsetFromCollectionGroup(t,i){return st.resolve(ur.min())}updateCollectionGroup(t,i,r){return st.resolve()}updateIndexEntries(t,i){return st.resolve()}}class h3{constructor(){this.index={}}add(t){const i=t.lastSegment(),r=t.popLast(),o=this.index[i]||new Ye(fe.comparator),u=!o.has(r);return this.index[i]=o.add(r),u}has(t){const i=t.lastSegment(),r=t.popLast(),o=this.index[i];return o&&o.has(r)}getEntries(t){return(this.index[t]||new Ye(fe.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Gx=41943040;class Cn{static withCacheSize(t){return new Cn(t,Cn.DEFAULT_COLLECTION_PERCENTILE,Cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,i,r){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Cn.DEFAULT_COLLECTION_PERCENTILE=10,Cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Cn.DEFAULT=new Cn(Gx,Cn.DEFAULT_COLLECTION_PERCENTILE,Cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Cn.DISABLED=new Cn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bo{constructor(t){this.sr=t}next(){return this.sr+=2,this.sr}static _r(){return new bo(0)}static ar(){return new bo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xT="LruGarbageCollector",f3=1048576;function AT([n,t],[i,r]){const o=Ut(n,i);return o===0?Ut(t,r):o}class d3{constructor(t){this.Pr=t,this.buffer=new Ye(AT),this.Tr=0}Ir(){return++this.Tr}Er(t){const i=[t,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(i);else{const r=this.buffer.last();AT(i,r)<0&&(this.buffer=this.buffer.delete(r).add(i))}}get maxValue(){return this.buffer.last()[0]}}class m3{constructor(t,i,r){this.garbageCollector=t,this.asyncQueue=i,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(t){yt(xT,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){Do(i)?yt(xT,"Ignoring IndexedDB error during garbage collection: ",i):await Vo(i)}await this.Ar(3e5)}))}}class p3{constructor(t,i){this.Vr=t,this.params=i}calculateTargetCount(t,i){return this.Vr.dr(t).next((r=>Math.floor(i/100*r)))}nthSequenceNumber(t,i){if(i===0)return st.resolve(qh.ce);const r=new d3(i);return this.Vr.forEachTarget(t,(o=>r.Er(o.sequenceNumber))).next((()=>this.Vr.mr(t,(o=>r.Er(o))))).next((()=>r.maxValue))}removeTargets(t,i,r){return this.Vr.removeTargets(t,i,r)}removeOrphanedDocuments(t,i){return this.Vr.removeOrphanedDocuments(t,i)}collect(t,i){return this.params.cacheSizeCollectionThreshold===-1?(yt("LruGarbageCollector","Garbage collection skipped; disabled"),st.resolve(bT)):this.getCacheSize(t).next((r=>r<this.params.cacheSizeCollectionThreshold?(yt("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),bT):this.gr(t,i)))}getCacheSize(t){return this.Vr.getCacheSize(t)}gr(t,i){let r,o,u,c,m,p,g;const v=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((E=>(E>this.params.maximumSequenceNumbersToCollect?(yt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${E}`),o=this.params.maximumSequenceNumbersToCollect):o=E,c=Date.now(),this.nthSequenceNumber(t,o)))).next((E=>(r=E,m=Date.now(),this.removeTargets(t,r,i)))).next((E=>(u=E,p=Date.now(),this.removeOrphanedDocuments(t,r)))).next((E=>(g=Date.now(),no()<=Ht.DEBUG&&yt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-v}ms
	Determined least recently used ${o} in `+(m-c)+`ms
	Removed ${u} targets in `+(p-m)+`ms
	Removed ${E} documents in `+(g-p)+`ms
Total Duration: ${g-v}ms`),st.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:E}))))}}function g3(n,t){return new p3(n,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y3{constructor(){this.changes=new ua((t=>t.toString()),((t,i)=>t.isEqual(i))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,i){this.assertNotApplied(),this.changes.set(t,mn.newInvalidDocument(t).setReadTime(i))}getEntry(t,i){this.assertNotApplied();const r=this.changes.get(i);return r!==void 0?st.resolve(r):this.getFromCache(t,i)}getEntries(t,i){return this.getAllFromCache(t,i)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v3{constructor(t,i){this.overlayedDocument=t,this.mutatedFields=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _3{constructor(t,i,r,o){this.remoteDocumentCache=t,this.mutationQueue=i,this.documentOverlayCache=r,this.indexManager=o}getDocument(t,i){let r=null;return this.documentOverlayCache.getOverlay(t,i).next((o=>(r=o,this.remoteDocumentCache.getEntry(t,i)))).next((o=>(r!==null&&Jl(r.mutation,o,gi.empty(),pe.now()),o)))}getDocuments(t,i){return this.remoteDocumentCache.getEntries(t,i).next((r=>this.getLocalViewOfDocuments(t,r,Bt()).next((()=>r))))}getLocalViewOfDocuments(t,i,r=Bt()){const o=Wr();return this.populateOverlays(t,o,i).next((()=>this.computeViews(t,i,o,r).next((u=>{let c=Ul();return u.forEach(((m,p)=>{c=c.insert(m,p.overlayedDocument)})),c}))))}getOverlayedDocuments(t,i){const r=Wr();return this.populateOverlays(t,r,i).next((()=>this.computeViews(t,i,r,Bt())))}populateOverlays(t,i,r){const o=[];return r.forEach((u=>{i.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(t,o).next((u=>{u.forEach(((c,m)=>{i.set(c,m)}))}))}computeViews(t,i,r,o){let u=Es();const c=$l(),m=(function(){return $l()})();return i.forEach(((p,g)=>{const v=r.get(g.key);o.has(g.key)&&(v===void 0||v.mutation instanceof ca)?u=u.insert(g.key,g):v!==void 0?(c.set(g.key,v.mutation.getFieldMask()),Jl(v.mutation,g,v.mutation.getFieldMask(),pe.now())):c.set(g.key,gi.empty())})),this.recalculateAndSaveOverlays(t,u).next((p=>(p.forEach(((g,v)=>c.set(g,v))),i.forEach(((g,v)=>m.set(g,new v3(v,c.get(g)??null)))),m)))}recalculateAndSaveOverlays(t,i){const r=$l();let o=new Ee(((c,m)=>c-m)),u=Bt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,i).next((c=>{for(const m of c)m.keys().forEach((p=>{const g=i.get(p);if(g===null)return;let v=r.get(p)||gi.empty();v=m.applyToLocalView(g,v),r.set(p,v);const E=(o.get(m.batchId)||Bt()).add(p);o=o.insert(m.batchId,E)}))})).next((()=>{const c=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),g=p.key,v=p.value,E=Sx();v.forEach((x=>{if(!u.has(x)){const M=Mx(i.get(x),r.get(x));M!==null&&E.set(x,M),u=u.add(x)}})),c.push(this.documentOverlayCache.saveOverlays(t,g,E))}return st.waitFor(c)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(t,i){return this.remoteDocumentCache.getEntries(t,i).next((r=>this.recalculateAndSaveOverlays(t,r)))}getDocumentsMatchingQuery(t,i,r,o){return _N(i)?this.getDocumentsMatchingDocumentQuery(t,i.path):Tx(i)?this.getDocumentsMatchingCollectionGroupQuery(t,i,r,o):this.getDocumentsMatchingCollectionQuery(t,i,r,o)}getNextDocuments(t,i,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(t,i,r,o).next((u=>{const c=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,i,r.largestBatchId,o-u.size):st.resolve(Wr());let m=ou,p=u;return c.next((g=>st.forEach(g,((v,E)=>(m<E.largestBatchId&&(m=E.largestBatchId),u.get(v)?st.resolve():this.remoteDocumentCache.getEntry(t,v).next((x=>{p=p.insert(v,x)}))))).next((()=>this.populateOverlays(t,g,u))).next((()=>this.computeViews(t,p,g,Bt()))).next((v=>({batchId:m,changes:Ax(v)})))))}))}getDocumentsMatchingDocumentQuery(t,i){return this.getDocument(t,new bt(i)).next((r=>{let o=Ul();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o}))}getDocumentsMatchingCollectionGroupQuery(t,i,r,o){const u=i.collectionGroup;let c=Ul();return this.indexManager.getCollectionParents(t,u).next((m=>st.forEach(m,(p=>{const g=(function(E,x){return new Mo(x,null,E.explicitOrderBy.slice(),E.filters.slice(),E.limit,E.limitType,E.startAt,E.endAt)})(i,p.child(u));return this.getDocumentsMatchingCollectionQuery(t,g,r,o).next((v=>{v.forEach(((E,x)=>{c=c.insert(E,x)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(t,i,r,o){let u;return this.documentOverlayCache.getOverlaysForCollection(t,i.path,r.largestBatchId).next((c=>(u=c,this.remoteDocumentCache.getDocumentsMatchingQuery(t,i,r,u,o)))).next((c=>{u.forEach(((p,g)=>{const v=g.getKey();c.get(v)===null&&(c=c.insert(v,mn.newInvalidDocument(v)))}));let m=Ul();return c.forEach(((p,g)=>{const v=u.get(p);v!==void 0&&Jl(v.mutation,g,gi.empty(),pe.now()),Kh(i,g)&&(m=m.insert(p,g))})),m}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T3{constructor(t){this.serializer=t,this.Nr=new Map,this.Br=new Map}getBundleMetadata(t,i){return st.resolve(this.Nr.get(i))}saveBundleMetadata(t,i){return this.Nr.set(i.id,(function(o){return{id:o.id,version:o.version,createTime:Ki(o.createTime)}})(i)),st.resolve()}getNamedQuery(t,i){return st.resolve(this.Br.get(i))}saveNamedQuery(t,i){return this.Br.set(i.name,(function(o){return{name:o.name,query:u3(o.bundledQuery),readTime:Ki(o.readTime)}})(i)),st.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E3{constructor(){this.overlays=new Ee(bt.comparator),this.Lr=new Map}getOverlay(t,i){return st.resolve(this.overlays.get(i))}getOverlays(t,i){const r=Wr();return st.forEach(i,(o=>this.getOverlay(t,o).next((u=>{u!==null&&r.set(o,u)})))).next((()=>r))}saveOverlays(t,i,r){return r.forEach(((o,u)=>{this.bt(t,i,u)})),st.resolve()}removeOverlaysForBatchId(t,i,r){const o=this.Lr.get(r);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.Lr.delete(r)),st.resolve()}getOverlaysForCollection(t,i,r){const o=Wr(),u=i.length+1,c=new bt(i.child("")),m=this.overlays.getIteratorFrom(c);for(;m.hasNext();){const p=m.getNext().value,g=p.getKey();if(!i.isPrefixOf(g.path))break;g.path.length===u&&p.largestBatchId>r&&o.set(p.getKey(),p)}return st.resolve(o)}getOverlaysForCollectionGroup(t,i,r,o){let u=new Ee(((g,v)=>g-v));const c=this.overlays.getIterator();for(;c.hasNext();){const g=c.getNext().value;if(g.getKey().getCollectionGroup()===i&&g.largestBatchId>r){let v=u.get(g.largestBatchId);v===null&&(v=Wr(),u=u.insert(g.largestBatchId,v)),v.set(g.getKey(),g)}}const m=Wr(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((g,v)=>m.set(g,v))),!(m.size()>=o)););return st.resolve(m)}bt(t,i,r){const o=this.overlays.get(r.key);if(o!==null){const c=this.Lr.get(o.largestBatchId).delete(r.key);this.Lr.set(o.largestBatchId,c)}this.overlays=this.overlays.insert(r.key,new zN(i,r));let u=this.Lr.get(i);u===void 0&&(u=Bt(),this.Lr.set(i,u)),this.Lr.set(i,u.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b3{constructor(){this.sessionToken=cn.EMPTY_BYTE_STRING}getSessionToken(t){return st.resolve(this.sessionToken)}setSessionToken(t,i){return this.sessionToken=i,st.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yg{constructor(){this.kr=new Ye(Je.Kr),this.qr=new Ye(Je.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(t,i){const r=new Je(t,i);this.kr=this.kr.add(r),this.qr=this.qr.add(r)}$r(t,i){t.forEach((r=>this.addReference(r,i)))}removeReference(t,i){this.Wr(new Je(t,i))}Qr(t,i){t.forEach((r=>this.removeReference(r,i)))}Gr(t){const i=new bt(new fe([])),r=new Je(i,t),o=new Je(i,t+1),u=[];return this.qr.forEachInRange([r,o],(c=>{this.Wr(c),u.push(c.key)})),u}zr(){this.kr.forEach((t=>this.Wr(t)))}Wr(t){this.kr=this.kr.delete(t),this.qr=this.qr.delete(t)}jr(t){const i=new bt(new fe([])),r=new Je(i,t),o=new Je(i,t+1);let u=Bt();return this.qr.forEachInRange([r,o],(c=>{u=u.add(c.key)})),u}containsKey(t){const i=new Je(t,0),r=this.kr.firstAfterOrEqual(i);return r!==null&&t.isEqual(r.key)}}class Je{constructor(t,i){this.key=t,this.Hr=i}static Kr(t,i){return bt.comparator(t.key,i.key)||Ut(t.Hr,i.Hr)}static Ur(t,i){return Ut(t.Hr,i.Hr)||bt.comparator(t.key,i.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x3{constructor(t,i){this.indexManager=t,this.referenceDelegate=i,this.mutationQueue=[],this.Yn=1,this.Jr=new Ye(Je.Kr)}checkEmpty(t){return st.resolve(this.mutationQueue.length===0)}addMutationBatch(t,i,r,o){const u=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new kN(u,i,r,o);this.mutationQueue.push(c);for(const m of o)this.Jr=this.Jr.add(new Je(m.key,u)),this.indexManager.addToCollectionParentIndex(t,m.key.path.popLast());return st.resolve(c)}lookupMutationBatch(t,i){return st.resolve(this.Zr(i))}getNextMutationBatchAfterBatchId(t,i){const r=i+1,o=this.Xr(r),u=o<0?0:o;return st.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return st.resolve(this.mutationQueue.length===0?og:this.Yn-1)}getAllMutationBatches(t){return st.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,i){const r=new Je(i,0),o=new Je(i,Number.POSITIVE_INFINITY),u=[];return this.Jr.forEachInRange([r,o],(c=>{const m=this.Zr(c.Hr);u.push(m)})),st.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(t,i){let r=new Ye(Ut);return i.forEach((o=>{const u=new Je(o,0),c=new Je(o,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([u,c],(m=>{r=r.add(m.Hr)}))})),st.resolve(this.Yr(r))}getAllMutationBatchesAffectingQuery(t,i){const r=i.path,o=r.length+1;let u=r;bt.isDocumentKey(u)||(u=u.child(""));const c=new Je(new bt(u),0);let m=new Ye(Ut);return this.Jr.forEachWhile((p=>{const g=p.key.path;return!!r.isPrefixOf(g)&&(g.length===o&&(m=m.add(p.Hr)),!0)}),c),st.resolve(this.Yr(m))}Yr(t){const i=[];return t.forEach((r=>{const o=this.Zr(r);o!==null&&i.push(o)})),i}removeMutationBatch(t,i){Wt(this.ei(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Jr;return st.forEach(i.mutations,(o=>{const u=new Je(o.key,i.batchId);return r=r.delete(u),this.referenceDelegate.markPotentiallyOrphaned(t,o.key)})).next((()=>{this.Jr=r}))}nr(t){}containsKey(t,i){const r=new Je(i,0),o=this.Jr.firstAfterOrEqual(r);return st.resolve(i.isEqual(o&&o.key))}performConsistencyCheck(t){return this.mutationQueue.length,st.resolve()}ei(t,i){return this.Xr(t)}Xr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Zr(t){const i=this.Xr(t);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A3{constructor(t){this.ti=t,this.docs=(function(){return new Ee(bt.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,i){const r=i.key,o=this.docs.get(r),u=o?o.size:0,c=this.ti(i);return this.docs=this.docs.insert(r,{document:i.mutableCopy(),size:c}),this.size+=c-u,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const i=this.docs.get(t);i&&(this.docs=this.docs.remove(t),this.size-=i.size)}getEntry(t,i){const r=this.docs.get(i);return st.resolve(r?r.document.mutableCopy():mn.newInvalidDocument(i))}getEntries(t,i){let r=Es();return i.forEach((o=>{const u=this.docs.get(o);r=r.insert(o,u?u.document.mutableCopy():mn.newInvalidDocument(o))})),st.resolve(r)}getDocumentsMatchingQuery(t,i,r,o){let u=Es();const c=i.path,m=new bt(c.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:g,value:{document:v}}=p.getNext();if(!c.isPrefixOf(g.path))break;g.path.length>c.length+1||XM(QM(v),r)<=0||(o.has(v.key)||Kh(i,v))&&(u=u.insert(v.key,v.mutableCopy()))}return st.resolve(u)}getAllFromCollectionGroup(t,i,r,o){St(9500)}ni(t,i){return st.forEach(this.docs,(r=>i(r)))}newChangeBuffer(t){return new S3(this)}getSize(t){return st.resolve(this.size)}}class S3 extends y3{constructor(t){super(),this.Mr=t}applyChanges(t){const i=[];return this.changes.forEach(((r,o)=>{o.isValidDocument()?i.push(this.Mr.addEntry(t,o)):this.Mr.removeEntry(r)})),st.waitFor(i)}getFromCache(t,i){return this.Mr.getEntry(t,i)}getAllFromCache(t,i){return this.Mr.getEntries(t,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w3{constructor(t){this.persistence=t,this.ri=new ua((i=>cg(i)),hg),this.lastRemoteSnapshotVersion=Ct.min(),this.highestTargetId=0,this.ii=0,this.si=new yg,this.targetCount=0,this.oi=bo._r()}forEachTarget(t,i){return this.ri.forEach(((r,o)=>i(o))),st.resolve()}getLastRemoteSnapshotVersion(t){return st.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return st.resolve(this.ii)}allocateTargetId(t){return this.highestTargetId=this.oi.next(),st.resolve(this.highestTargetId)}setTargetsMetadata(t,i,r){return r&&(this.lastRemoteSnapshotVersion=r),i>this.ii&&(this.ii=i),st.resolve()}lr(t){this.ri.set(t.target,t);const i=t.targetId;i>this.highestTargetId&&(this.oi=new bo(i),this.highestTargetId=i),t.sequenceNumber>this.ii&&(this.ii=t.sequenceNumber)}addTargetData(t,i){return this.lr(i),this.targetCount+=1,st.resolve()}updateTargetData(t,i){return this.lr(i),st.resolve()}removeTargetData(t,i){return this.ri.delete(i.target),this.si.Gr(i.targetId),this.targetCount-=1,st.resolve()}removeTargets(t,i,r){let o=0;const u=[];return this.ri.forEach(((c,m)=>{m.sequenceNumber<=i&&r.get(m.targetId)===null&&(this.ri.delete(c),u.push(this.removeMatchingKeysForTargetId(t,m.targetId)),o++)})),st.waitFor(u).next((()=>o))}getTargetCount(t){return st.resolve(this.targetCount)}getTargetData(t,i){const r=this.ri.get(i)||null;return st.resolve(r)}addMatchingKeys(t,i,r){return this.si.$r(i,r),st.resolve()}removeMatchingKeys(t,i,r){this.si.Qr(i,r);const o=this.persistence.referenceDelegate,u=[];return o&&i.forEach((c=>{u.push(o.markPotentiallyOrphaned(t,c))})),st.waitFor(u)}removeMatchingKeysForTargetId(t,i){return this.si.Gr(i),st.resolve()}getMatchingKeysForTargetId(t,i){const r=this.si.jr(i);return st.resolve(r)}containsKey(t,i){return st.resolve(this.si.containsKey(i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kx{constructor(t,i){this._i={},this.overlays={},this.ai=new qh(0),this.ui=!1,this.ui=!0,this.ci=new b3,this.referenceDelegate=t(this),this.li=new w3(this),this.indexManager=new c3,this.remoteDocumentCache=(function(o){return new A3(o)})((r=>this.referenceDelegate.hi(r))),this.serializer=new l3(i),this.Pi=new T3(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let i=this.overlays[t.toKey()];return i||(i=new E3,this.overlays[t.toKey()]=i),i}getMutationQueue(t,i){let r=this._i[t.toKey()];return r||(r=new x3(i,this.referenceDelegate),this._i[t.toKey()]=r),r}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(t,i,r){yt("MemoryPersistence","Starting transaction:",t);const o=new C3(this.ai.next());return this.referenceDelegate.Ti(),r(o).next((u=>this.referenceDelegate.Ii(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ei(t,i){return st.or(Object.values(this._i).map((r=>()=>r.containsKey(t,i))))}}class C3 extends $M{constructor(t){super(),this.currentSequenceNumber=t}}class vg{constructor(t){this.persistence=t,this.Ri=new yg,this.Ai=null}static Vi(t){return new vg(t)}get di(){if(this.Ai)return this.Ai;throw St(60996)}addReference(t,i,r){return this.Ri.addReference(r,i),this.di.delete(r.toString()),st.resolve()}removeReference(t,i,r){return this.Ri.removeReference(r,i),this.di.add(r.toString()),st.resolve()}markPotentiallyOrphaned(t,i){return this.di.add(i.toString()),st.resolve()}removeTarget(t,i){this.Ri.Gr(i.targetId).forEach((o=>this.di.add(o.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,i.targetId).next((o=>{o.forEach((u=>this.di.add(u.toString())))})).next((()=>r.removeTargetData(t,i)))}Ti(){this.Ai=new Set}Ii(t){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return st.forEach(this.di,(r=>{const o=bt.fromPath(r);return this.mi(t,o).next((u=>{u||i.removeEntry(o,Ct.min())}))})).next((()=>(this.Ai=null,i.apply(t))))}updateLimboDocument(t,i){return this.mi(t,i).next((r=>{r?this.di.delete(i.toString()):this.di.add(i.toString())}))}hi(t){return 0}mi(t,i){return st.or([()=>st.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(t,i),()=>this.persistence.Ei(t,i)])}}class Mh{constructor(t,i){this.persistence=t,this.fi=new ua((r=>tN(r.path)),((r,o)=>r.isEqual(o))),this.garbageCollector=g3(this,i)}static Vi(t,i){return new Mh(t,i)}Ti(){}Ii(t){return st.resolve()}forEachTarget(t,i){return this.persistence.getTargetCache().forEachTarget(t,i)}dr(t){const i=this.pr(t);return this.persistence.getTargetCache().getTargetCount(t).next((r=>i.next((o=>r+o))))}pr(t){let i=0;return this.mr(t,(r=>{i++})).next((()=>i))}mr(t,i){return st.forEach(this.fi,((r,o)=>this.wr(t,r,o).next((u=>u?st.resolve():i(o)))))}removeTargets(t,i,r){return this.persistence.getTargetCache().removeTargets(t,i,r)}removeOrphanedDocuments(t,i){let r=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ni(t,(c=>this.wr(t,c,i).next((m=>{m||(r++,u.removeEntry(c,Ct.min()))})))).next((()=>u.apply(t))).next((()=>r))}markPotentiallyOrphaned(t,i){return this.fi.set(i,t.currentSequenceNumber),st.resolve()}removeTarget(t,i){const r=i.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,r)}addReference(t,i,r){return this.fi.set(r,t.currentSequenceNumber),st.resolve()}removeReference(t,i,r){return this.fi.set(r,t.currentSequenceNumber),st.resolve()}updateLimboDocument(t,i){return this.fi.set(i,t.currentSequenceNumber),st.resolve()}hi(t){let i=t.key.toString().length;return t.isFoundDocument()&&(i+=uh(t.data.value)),i}wr(t,i,r){return st.or([()=>this.persistence.Ei(t,i),()=>this.persistence.getTargetCache().containsKey(t,i),()=>{const o=this.fi.get(i);return st.resolve(o!==void 0&&o>r)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _g{constructor(t,i,r,o){this.targetId=t,this.fromCache=i,this.Ts=r,this.Is=o}static Es(t,i){let r=Bt(),o=Bt();for(const u of i.docChanges)switch(u.type){case 0:r=r.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new _g(t,i.fromCache,r,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R3{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V3{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return yD()?8:JM(pD())>0?6:4})()}initialize(t,i){this.fs=t,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(t,i,r,o){const u={result:null};return this.gs(t,i).next((c=>{u.result=c})).next((()=>{if(!u.result)return this.ps(t,i,o,r).next((c=>{u.result=c}))})).next((()=>{if(u.result)return;const c=new R3;return this.ys(t,i,c).next((m=>{if(u.result=m,this.As)return this.ws(t,i,c,m.size)}))})).next((()=>u.result))}ws(t,i,r,o){return r.documentReadCount<this.Vs?(no()<=Ht.DEBUG&&yt("QueryEngine","SDK will not create cache indexes for query:",io(i),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),st.resolve()):(no()<=Ht.DEBUG&&yt("QueryEngine","Query:",io(i),"scans",r.documentReadCount,"local documents and returns",o,"documents as results."),r.documentReadCount>this.ds*o?(no()<=Ht.DEBUG&&yt("QueryEngine","The SDK decides to create cache indexes for query:",io(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Gi(i))):st.resolve())}gs(t,i){if(fT(i))return st.resolve(null);let r=Gi(i);return this.indexManager.getIndexType(t,r).next((o=>o===0?null:(i.limit!==null&&o===1&&(i=Rh(i,null,"F"),r=Gi(i)),this.indexManager.getDocumentsMatchingTarget(t,r).next((u=>{const c=Bt(...u);return this.fs.getDocuments(t,c).next((m=>this.indexManager.getMinOffset(t,r).next((p=>{const g=this.bs(i,m);return this.Ss(i,g,c,p.readTime)?this.gs(t,Rh(i,null,"F")):this.Ds(t,g,i,p)}))))})))))}ps(t,i,r,o){return fT(i)||o.isEqual(Ct.min())?st.resolve(null):this.fs.getDocuments(t,r).next((u=>{const c=this.bs(i,u);return this.Ss(i,c,r,o)?st.resolve(null):(no()<=Ht.DEBUG&&yt("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),io(i)),this.Ds(t,c,i,YM(o,ou)).next((m=>m)))}))}bs(t,i){let r=new Ye(bx(t));return i.forEach(((o,u)=>{Kh(t,u)&&(r=r.add(u))})),r}Ss(t,i,r,o){if(t.limit===null)return!1;if(r.size!==i.size)return!0;const u=t.limitType==="F"?i.last():i.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}ys(t,i,r){return no()<=Ht.DEBUG&&yt("QueryEngine","Using full collection scan to execute query:",io(i)),this.fs.getDocumentsMatchingQuery(t,i,ur.min(),r)}Ds(t,i,r,o){return this.fs.getDocumentsMatchingQuery(t,r,o).next((u=>(i.forEach((c=>{u=u.insert(c.key,c)})),u)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tg="LocalStore",D3=3e8;class M3{constructor(t,i,r,o){this.persistence=t,this.Cs=i,this.serializer=o,this.vs=new Ee(Ut),this.Fs=new ua((u=>cg(u)),hg),this.Ms=new Map,this.xs=t.getRemoteDocumentCache(),this.li=t.getTargetCache(),this.Pi=t.getBundleCache(),this.Os(r)}Os(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new _3(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>t.collect(i,this.vs)))}}function N3(n,t,i,r){return new M3(n,t,i,r)}async function Yx(n,t){const i=Dt(n);return await i.persistence.runTransaction("Handle user change","readonly",(r=>{let o;return i.mutationQueue.getAllMutationBatches(r).next((u=>(o=u,i.Os(t),i.mutationQueue.getAllMutationBatches(r)))).next((u=>{const c=[],m=[];let p=Bt();for(const g of o){c.push(g.batchId);for(const v of g.mutations)p=p.add(v.key)}for(const g of u){m.push(g.batchId);for(const v of g.mutations)p=p.add(v.key)}return i.localDocuments.getDocuments(r,p).next((g=>({Ns:g,removedBatchIds:c,addedBatchIds:m})))}))}))}function I3(n,t){const i=Dt(n);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const o=t.batch.keys(),u=i.xs.newChangeBuffer({trackRemovals:!0});return(function(m,p,g,v){const E=g.batch,x=E.keys();let M=st.resolve();return x.forEach((B=>{M=M.next((()=>v.getEntry(p,B))).next((K=>{const L=g.docVersions.get(B);Wt(L!==null,48541),K.version.compareTo(L)<0&&(E.applyToRemoteDocument(K,g),K.isValidDocument()&&(K.setReadTime(g.commitVersion),v.addEntry(K)))}))})),M.next((()=>m.mutationQueue.removeMutationBatch(p,E)))})(i,r,t,u).next((()=>u.apply(r))).next((()=>i.mutationQueue.performConsistencyCheck(r))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(r,o,t.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(m){let p=Bt();for(let g=0;g<m.mutationResults.length;++g)m.mutationResults[g].transformResults.length>0&&(p=p.add(m.batch.mutations[g].key));return p})(t)))).next((()=>i.localDocuments.getDocuments(r,o)))}))}function Qx(n){const t=Dt(n);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>t.li.getLastRemoteSnapshotVersion(i)))}function O3(n,t){const i=Dt(n),r=t.snapshotVersion;let o=i.vs;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const c=i.xs.newChangeBuffer({trackRemovals:!0});o=i.vs;const m=[];t.targetChanges.forEach(((v,E)=>{const x=o.get(E);if(!x)return;m.push(i.li.removeMatchingKeys(u,v.removedDocuments,E).next((()=>i.li.addMatchingKeys(u,v.addedDocuments,E))));let M=x.withSequenceNumber(u.currentSequenceNumber);t.targetMismatches.get(E)!==null?M=M.withResumeToken(cn.EMPTY_BYTE_STRING,Ct.min()).withLastLimboFreeSnapshotVersion(Ct.min()):v.resumeToken.approximateByteSize()>0&&(M=M.withResumeToken(v.resumeToken,r)),o=o.insert(E,M),(function(K,L,J){return K.resumeToken.approximateByteSize()===0||L.snapshotVersion.toMicroseconds()-K.snapshotVersion.toMicroseconds()>=D3?!0:J.addedDocuments.size+J.modifiedDocuments.size+J.removedDocuments.size>0})(x,M,v)&&m.push(i.li.updateTargetData(u,M))}));let p=Es(),g=Bt();if(t.documentUpdates.forEach((v=>{t.resolvedLimboDocuments.has(v)&&m.push(i.persistence.referenceDelegate.updateLimboDocument(u,v))})),m.push(j3(u,c,t.documentUpdates).next((v=>{p=v.Bs,g=v.Ls}))),!r.isEqual(Ct.min())){const v=i.li.getLastRemoteSnapshotVersion(u).next((E=>i.li.setTargetsMetadata(u,u.currentSequenceNumber,r)));m.push(v)}return st.waitFor(m).next((()=>c.apply(u))).next((()=>i.localDocuments.getLocalViewOfDocuments(u,p,g))).next((()=>p))})).then((u=>(i.vs=o,u)))}function j3(n,t,i){let r=Bt(),o=Bt();return i.forEach((u=>r=r.add(u))),t.getEntries(n,r).next((u=>{let c=Es();return i.forEach(((m,p)=>{const g=u.get(m);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(Ct.min())?(t.removeEntry(m,p.readTime),c=c.insert(m,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(t.addEntry(p),c=c.insert(m,p)):yt(Tg,"Ignoring outdated watch update for ",m,". Current version:",g.version," Watch version:",p.version)})),{Bs:c,Ls:o}}))}function P3(n,t){const i=Dt(n);return i.persistence.runTransaction("Get next mutation batch","readonly",(r=>(t===void 0&&(t=og),i.mutationQueue.getNextMutationBatchAfterBatchId(r,t))))}function L3(n,t){const i=Dt(n);return i.persistence.runTransaction("Allocate target","readwrite",(r=>{let o;return i.li.getTargetData(r,t).next((u=>u?(o=u,st.resolve(o)):i.li.allocateTargetId(r).next((c=>(o=new nr(t,c,"TargetPurposeListen",r.currentSequenceNumber),i.li.addTargetData(r,o).next((()=>o)))))))})).then((r=>{const o=i.vs.get(r.targetId);return(o===null||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(i.vs=i.vs.insert(r.targetId,r),i.Fs.set(t,r.targetId)),r}))}async function gp(n,t,i){const r=Dt(n),o=r.vs.get(t),u=i?"readwrite":"readwrite-primary";try{i||await r.persistence.runTransaction("Release target",u,(c=>r.persistence.referenceDelegate.removeTarget(c,o)))}catch(c){if(!Do(c))throw c;yt(Tg,`Failed to update sequence numbers for target ${t}: ${c}`)}r.vs=r.vs.remove(t),r.Fs.delete(o.target)}function ST(n,t,i){const r=Dt(n);let o=Ct.min(),u=Bt();return r.persistence.runTransaction("Execute query","readwrite",(c=>(function(p,g,v){const E=Dt(p),x=E.Fs.get(v);return x!==void 0?st.resolve(E.vs.get(x)):E.li.getTargetData(g,v)})(r,c,Gi(t)).next((m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,r.li.getMatchingKeysForTargetId(c,m.targetId).next((p=>{u=p}))})).next((()=>r.Cs.getDocumentsMatchingQuery(c,t,i?o:Ct.min(),i?u:Bt()))).next((m=>(k3(r,bN(t),m),{documents:m,ks:u})))))}function k3(n,t,i){let r=n.Ms.get(t)||Ct.min();i.forEach(((o,u)=>{u.readTime.compareTo(r)>0&&(r=u.readTime)})),n.Ms.set(t,r)}class wT{constructor(){this.activeTargetIds=RN()}Qs(t){this.activeTargetIds=this.activeTargetIds.add(t)}Gs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Ws(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class z3{constructor(){this.vo=new wT,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,i,r){}addLocalQueryTarget(t,i=!0){return i&&this.vo.Qs(t),this.Fo[t]||"not-current"}updateQueryState(t,i,r){this.Fo[t]=i}removeLocalQueryTarget(t){this.vo.Gs(t)}isLocalQueryTarget(t){return this.vo.activeTargetIds.has(t)}clearQueryState(t){delete this.Fo[t]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(t){return this.vo.activeTargetIds.has(t)}start(){return this.vo=new wT,Promise.resolve()}handleUserChange(t,i,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U3{Mo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CT="ConnectivityMonitor";class RT{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(t){this.Lo.push(t)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){yt(CT,"Network connectivity changed: AVAILABLE");for(const t of this.Lo)t(0)}Bo(){yt(CT,"Network connectivity changed: UNAVAILABLE");for(const t of this.Lo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ih=null;function yp(){return ih===null?ih=(function(){return 268435456+Math.round(2147483648*Math.random())})():ih++,"0x"+ih.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rm="RestConnection",B3={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class q3{get Ko(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.qo=i+"://"+t.host,this.Uo=`projects/${r}/databases/${o}`,this.$o=this.databaseId.database===Sh?`project_id=${r}`:`project_id=${r}&database_id=${o}`}Wo(t,i,r,o,u){const c=yp(),m=this.Qo(t,i.toUriEncodedString());yt(Rm,`Sending RPC '${t}' ${c}:`,m,r);const p={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(p,o,u);const{host:g}=new URL(m),v=ig(g);return this.zo(t,m,p,r,v).then((E=>(yt(Rm,`Received RPC '${t}' ${c}: `,E),E)),(E=>{throw aa(Rm,`RPC '${t}' ${c} failed with error: `,E,"url: ",m,"request:",r),E}))}jo(t,i,r,o,u,c){return this.Wo(t,i,r,o,u)}Go(t,i,r){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Ro})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((o,u)=>t[u]=o)),r&&r.headers.forEach(((o,u)=>t[u]=o))}Qo(t,i){const r=B3[t];let o=`${this.qo}/v1/${i}:${r}`;return this.databaseInfo.apiKey&&(o=`${o}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),o}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F3{constructor(t){this.Ho=t.Ho,this.Jo=t.Jo}Zo(t){this.Xo=t}Yo(t){this.e_=t}t_(t){this.n_=t}onMessage(t){this.r_=t}close(){this.Jo()}send(t){this.Ho(t)}i_(){this.Xo()}s_(){this.e_()}o_(t){this.n_(t)}__(t){this.r_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fn="WebChannelConnection",Ll=(n,t,i)=>{n.listen(t,(r=>{try{i(r)}catch(o){setTimeout((()=>{throw o}),0)}}))};class mo extends q3{constructor(t){super(t),this.a_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}static u_(){if(!mo.c_){const t=Jb();Ll(t,$b.STAT_EVENT,(i=>{i.stat===rp.PROXY?yt(fn,"STAT_EVENT: detected buffering proxy"):i.stat===rp.NOPROXY&&yt(fn,"STAT_EVENT: detected no buffering proxy")})),mo.c_=!0}}zo(t,i,r,o,u){const c=yp();return new Promise(((m,p)=>{const g=new Xb;g.setWithCredentials(!0),g.listenOnce(Zb.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case lh.NO_ERROR:const E=g.getResponseJson();yt(fn,`XHR for RPC '${t}' ${c} received:`,JSON.stringify(E)),m(E);break;case lh.TIMEOUT:yt(fn,`RPC '${t}' ${c} timed out`),p(new pt(nt.DEADLINE_EXCEEDED,"Request time out"));break;case lh.HTTP_ERROR:const x=g.getStatus();if(yt(fn,`RPC '${t}' ${c} failed with status:`,x,"response text:",g.getResponseText()),x>0){let M=g.getResponseJson();Array.isArray(M)&&(M=M[0]);const B=M==null?void 0:M.error;if(B&&B.status&&B.message){const K=(function(J){const it=J.toLowerCase().replace(/_/g,"-");return Object.values(nt).indexOf(it)>=0?it:nt.UNKNOWN})(B.status);p(new pt(K,B.message))}else p(new pt(nt.UNKNOWN,"Server responded with status "+g.getStatus()))}else p(new pt(nt.UNAVAILABLE,"Connection failed."));break;default:St(9055,{l_:t,streamId:c,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{yt(fn,`RPC '${t}' ${c} completed.`)}}));const v=JSON.stringify(o);yt(fn,`RPC '${t}' ${c} sending request:`,o),g.send(i,"POST",v,r,15)}))}T_(t,i,r){const o=yp(),u=[this.qo,"/","google.firestore.v1.Firestore","/",t,"/channel"],c=this.createWebChannelTransport(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(m.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(m.useFetchStreams=!0),this.Go(m.initMessageHeaders,i,r),m.encodeInitMessageHeaders=!0;const g=u.join("");yt(fn,`Creating RPC '${t}' stream ${o}: ${g}`,m);const v=c.createWebChannel(g,m);this.I_(v);let E=!1,x=!1;const M=new F3({Ho:B=>{x?yt(fn,`Not sending because RPC '${t}' stream ${o} is closed:`,B):(E||(yt(fn,`Opening RPC '${t}' stream ${o} transport.`),v.open(),E=!0),yt(fn,`RPC '${t}' stream ${o} sending:`,B),v.send(B))},Jo:()=>v.close()});return Ll(v,zl.EventType.OPEN,(()=>{x||(yt(fn,`RPC '${t}' stream ${o} transport opened.`),M.i_())})),Ll(v,zl.EventType.CLOSE,(()=>{x||(x=!0,yt(fn,`RPC '${t}' stream ${o} transport closed`),M.o_(),this.E_(v))})),Ll(v,zl.EventType.ERROR,(B=>{x||(x=!0,aa(fn,`RPC '${t}' stream ${o} transport errored. Name:`,B.name,"Message:",B.message),M.o_(new pt(nt.UNAVAILABLE,"The operation could not be completed")))})),Ll(v,zl.EventType.MESSAGE,(B=>{var K;if(!x){const L=B.data[0];Wt(!!L,16349);const J=L,it=(J==null?void 0:J.error)||((K=J[0])==null?void 0:K.error);if(it){yt(fn,`RPC '${t}' stream ${o} received error:`,it);const et=it.status;let mt=(function(R){const C=ze[R];if(C!==void 0)return Ox(C)})(et),ht=it.message;et==="NOT_FOUND"&&ht.includes("database")&&ht.includes("does not exist")&&ht.includes(this.databaseId.database)&&aa(`Database '${this.databaseId.database}' not found. Please check your project configuration.`),mt===void 0&&(mt=nt.INTERNAL,ht="Unknown error status: "+et+" with message "+it.message),x=!0,M.o_(new pt(mt,ht)),v.close()}else yt(fn,`RPC '${t}' stream ${o} received:`,L),M.__(L)}})),mo.u_(),setTimeout((()=>{M.s_()}),0),M}terminate(){this.a_.forEach((t=>t.close())),this.a_=[]}I_(t){this.a_.push(t)}E_(t){this.a_=this.a_.filter((i=>i===t))}Go(t,i,r){super.Go(t,i,r),this.databaseInfo.apiKey&&(t["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return Wb()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H3(n){return new mo(n)}function Vm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zh(n){return new QN(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */mo.c_=!1;class Xx{constructor(t,i,r=1e3,o=1.5,u=6e4){this.Ci=t,this.timerId=i,this.R_=r,this.A_=o,this.V_=u,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(t){this.cancel();const i=Math.floor(this.d_+this.y_()),r=Math.max(0,Date.now()-this.f_),o=Math.max(0,i-r);o>0&&yt("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.d_} ms, delay with jitter: ${i} ms, last attempt: ${r} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),t()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VT="PersistentStream";class Zx{constructor(t,i,r,o,u,c,m,p){this.Ci=t,this.b_=r,this.S_=o,this.connection=u,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Xx(t,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(t){this.q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,i){this.q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():i&&i.code===nt.RESOURCE_EXHAUSTED?(Ts(i.toString()),Ts("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===nt.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.t_(i)}W_(){}auth(){this.state=1;const t=this.Q_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,o])=>{this.D_===i&&this.G_(r,o)}),(r=>{t((()=>{const o=new pt(nt.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(o)}))}))}G_(t,i){const r=this.Q_(this.D_);this.stream=this.j_(t,i),this.stream.Zo((()=>{r((()=>this.listener.Zo()))})),this.stream.Yo((()=>{r((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((o=>{r((()=>this.z_(o)))})),this.stream.onMessage((o=>{r((()=>++this.F_==1?this.H_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return yt(VT,`close with error: ${t}`),this.stream=null,this.close(4,t)}Q_(t){return i=>{this.Ci.enqueueAndForget((()=>this.D_===t?i():(yt(VT,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class G3 extends Zx{constructor(t,i,r,o,u,c){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,r,o,c),this.serializer=u}j_(t,i){return this.connection.T_("Listen",t,i)}H_(t){return this.onNext(t)}onNext(t){this.M_.reset();const i=$N(this.serializer,t),r=(function(u){if(!("targetChange"in u))return Ct.min();const c=u.targetChange;return c.targetIds&&c.targetIds.length?Ct.min():c.readTime?Ki(c.readTime):Ct.min()})(t);return this.listener.J_(i,r)}Z_(t){const i={};i.database=pp(this.serializer),i.addTarget=(function(u,c){let m;const p=c.target;if(m=cp(p)?{documents:t3(u,p)}:{query:e3(u,p).ft},m.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){m.resumeToken=Lx(u,c.resumeToken);const g=fp(u,c.expectedCount);g!==null&&(m.expectedCount=g)}else if(c.snapshotVersion.compareTo(Ct.min())>0){m.readTime=Dh(u,c.snapshotVersion.toTimestamp());const g=fp(u,c.expectedCount);g!==null&&(m.expectedCount=g)}return m})(this.serializer,t);const r=i3(this.serializer,t);r&&(i.labels=r),this.K_(i)}X_(t){const i={};i.database=pp(this.serializer),i.removeTarget=t,this.K_(i)}}class K3 extends Zx{constructor(t,i,r,o,u,c){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,r,o,c),this.serializer=u}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(t,i){return this.connection.T_("Write",t,i)}H_(t){return Wt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Wt(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Wt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const i=WN(t.writeResults,t.commitTime),r=Ki(t.commitTime);return this.listener.na(r,i)}ra(){const t={};t.database=pp(this.serializer),this.K_(t)}ea(t){const i={streamToken:this.lastStreamToken,writes:t.map((r=>JN(this.serializer,r)))};this.K_(i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y3{}class Q3 extends Y3{constructor(t,i,r,o){super(),this.authCredentials=t,this.appCheckCredentials=i,this.connection=r,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new pt(nt.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(t,i,r,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,c])=>this.connection.Wo(t,dp(i,r),o,u,c))).catch((u=>{throw u.name==="FirebaseError"?(u.code===nt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new pt(nt.UNKNOWN,u.toString())}))}jo(t,i,r,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,m])=>this.connection.jo(t,dp(i,r),o,c,m,u))).catch((c=>{throw c.name==="FirebaseError"?(c.code===nt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new pt(nt.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function X3(n,t,i,r){return new Q3(n,t,i,r)}class Z3{constructor(t,i){this.asyncQueue=t,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const i=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Ts(i),this.aa=!1):yt("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oa="RemoteStore";class $3{constructor(t,i,r,o,u){this.localStore=t,this.datastore=i,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=u,this.Aa.Mo((c=>{r.enqueueAndForget((async()=>{ha(this)&&(yt(oa,"Restarting streams for network reachability change."),await(async function(p){const g=Dt(p);g.Ea.add(4),await bu(g),g.Va.set("Unknown"),g.Ea.delete(4),await $h(g)})(this))}))})),this.Va=new Z3(r,o)}}async function $h(n){if(ha(n))for(const t of n.Ra)await t(!0)}async function bu(n){for(const t of n.Ra)await t(!1)}function $x(n,t){const i=Dt(n);i.Ia.has(t.targetId)||(i.Ia.set(t.targetId,t),Ag(i)?xg(i):No(i).O_()&&bg(i,t))}function Eg(n,t){const i=Dt(n),r=No(i);i.Ia.delete(t),r.O_()&&Jx(i,t),i.Ia.size===0&&(r.O_()?r.L_():ha(i)&&i.Va.set("Unknown"))}function bg(n,t){if(n.da.$e(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Ct.min())>0){const i=n.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(i)}No(n).Z_(t)}function Jx(n,t){n.da.$e(t),No(n).X_(t)}function xg(n){n.da=new HN({getRemoteKeysForTarget:t=>n.remoteSyncer.getRemoteKeysForTarget(t),At:t=>n.Ia.get(t)||null,ht:()=>n.datastore.serializer.databaseId}),No(n).start(),n.Va.ua()}function Ag(n){return ha(n)&&!No(n).x_()&&n.Ia.size>0}function ha(n){return Dt(n).Ea.size===0}function Wx(n){n.da=void 0}async function J3(n){n.Va.set("Online")}async function W3(n){n.Ia.forEach(((t,i)=>{bg(n,t)}))}async function t6(n,t){Wx(n),Ag(n)?(n.Va.ha(t),xg(n)):n.Va.set("Unknown")}async function e6(n,t,i){if(n.Va.set("Online"),t instanceof Px&&t.state===2&&t.cause)try{await(async function(o,u){const c=u.cause;for(const m of u.targetIds)o.Ia.has(m)&&(await o.remoteSyncer.rejectListen(m,c),o.Ia.delete(m),o.da.removeTarget(m))})(n,t)}catch(r){yt(oa,"Failed to remove targets %s: %s ",t.targetIds.join(","),r),await Nh(n,r)}else if(t instanceof fh?n.da.Xe(t):t instanceof jx?n.da.st(t):n.da.tt(t),!i.isEqual(Ct.min()))try{const r=await Qx(n.localStore);i.compareTo(r)>=0&&await(function(u,c){const m=u.da.Tt(c);return m.targetChanges.forEach(((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const v=u.Ia.get(g);v&&u.Ia.set(g,v.withResumeToken(p.resumeToken,c))}})),m.targetMismatches.forEach(((p,g)=>{const v=u.Ia.get(p);if(!v)return;u.Ia.set(p,v.withResumeToken(cn.EMPTY_BYTE_STRING,v.snapshotVersion)),Jx(u,p);const E=new nr(v.target,p,g,v.sequenceNumber);bg(u,E)})),u.remoteSyncer.applyRemoteEvent(m)})(n,i)}catch(r){yt(oa,"Failed to raise snapshot:",r),await Nh(n,r)}}async function Nh(n,t,i){if(!Do(t))throw t;n.Ea.add(1),await bu(n),n.Va.set("Offline"),i||(i=()=>Qx(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{yt(oa,"Retrying IndexedDB access"),await i(),n.Ea.delete(1),await $h(n)}))}function tA(n,t){return t().catch((i=>Nh(n,i,t)))}async function Jh(n){const t=Dt(n),i=dr(t);let r=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:og;for(;n6(t);)try{const o=await P3(t.localStore,r);if(o===null){t.Ta.length===0&&i.L_();break}r=o.batchId,i6(t,o)}catch(o){await Nh(t,o)}eA(t)&&nA(t)}function n6(n){return ha(n)&&n.Ta.length<10}function i6(n,t){n.Ta.push(t);const i=dr(n);i.O_()&&i.Y_&&i.ea(t.mutations)}function eA(n){return ha(n)&&!dr(n).x_()&&n.Ta.length>0}function nA(n){dr(n).start()}async function s6(n){dr(n).ra()}async function r6(n){const t=dr(n);for(const i of n.Ta)t.ea(i.mutations)}async function a6(n,t,i){const r=n.Ta.shift(),o=mg.from(r,t,i);await tA(n,(()=>n.remoteSyncer.applySuccessfulWrite(o))),await Jh(n)}async function o6(n,t){t&&dr(n).Y_&&await(async function(r,o){if((function(c){return BN(c)&&c!==nt.ABORTED})(o.code)){const u=r.Ta.shift();dr(r).B_(),await tA(r,(()=>r.remoteSyncer.rejectFailedWrite(u.batchId,o))),await Jh(r)}})(n,t),eA(n)&&nA(n)}async function DT(n,t){const i=Dt(n);i.asyncQueue.verifyOperationInProgress(),yt(oa,"RemoteStore received new credentials");const r=ha(i);i.Ea.add(3),await bu(i),r&&i.Va.set("Unknown"),await i.remoteSyncer.handleCredentialChange(t),i.Ea.delete(3),await $h(i)}async function l6(n,t){const i=Dt(n);t?(i.Ea.delete(2),await $h(i)):t||(i.Ea.add(2),await bu(i),i.Va.set("Unknown"))}function No(n){return n.ma||(n.ma=(function(i,r,o){const u=Dt(i);return u.sa(),new G3(r,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(n.datastore,n.asyncQueue,{Zo:J3.bind(null,n),Yo:W3.bind(null,n),t_:t6.bind(null,n),J_:e6.bind(null,n)}),n.Ra.push((async t=>{t?(n.ma.B_(),Ag(n)?xg(n):n.Va.set("Unknown")):(await n.ma.stop(),Wx(n))}))),n.ma}function dr(n){return n.fa||(n.fa=(function(i,r,o){const u=Dt(i);return u.sa(),new K3(r,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(n.datastore,n.asyncQueue,{Zo:()=>Promise.resolve(),Yo:s6.bind(null,n),t_:o6.bind(null,n),ta:r6.bind(null,n),na:a6.bind(null,n)}),n.Ra.push((async t=>{t?(n.fa.B_(),await Jh(n)):(await n.fa.stop(),n.Ta.length>0&&(yt(oa,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))}))),n.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sg{constructor(t,i,r,o,u){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=r,this.op=o,this.removalCallback=u,this.deferred=new na,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,i,r,o,u){const c=Date.now()+r,m=new Sg(t,i,c,o,u);return m.start(r),m}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new pt(nt.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function wg(n,t){if(Ts("AsyncQueue",`${t}: ${n}`),Do(n))return new pt(nt.UNAVAILABLE,`${t}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class po{static emptySet(t){return new po(t.comparator)}constructor(t){this.comparator=t?(i,r)=>t(i,r)||bt.comparator(i.key,r.key):(i,r)=>bt.comparator(i.key,r.key),this.keyedMap=Ul(),this.sortedSet=new Ee(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const i=this.keyedMap.get(t);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((i,r)=>(t(i),!1)))}add(t){const i=this.delete(t.key);return i.copy(i.keyedMap.insert(t.key,t),i.sortedSet.insert(t,null))}delete(t){const i=this.get(t);return i?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(i)):this}isEqual(t){if(!(t instanceof po)||this.size!==t.size)return!1;const i=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;i.hasNext();){const o=i.getNext().key,u=r.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const t=[];return this.forEach((i=>{t.push(i.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,i){const r=new po;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=i,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MT{constructor(){this.ga=new Ee(bt.comparator)}track(t){const i=t.doc.key,r=this.ga.get(i);r?t.type!==0&&r.type===3?this.ga=this.ga.insert(i,t):t.type===3&&r.type!==1?this.ga=this.ga.insert(i,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.ga=this.ga.insert(i,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.ga=this.ga.remove(i):t.type===1&&r.type===2?this.ga=this.ga.insert(i,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):St(63341,{Vt:t,pa:r}):this.ga=this.ga.insert(i,t)}ya(){const t=[];return this.ga.inorderTraversal(((i,r)=>{t.push(r)})),t}}class xo{constructor(t,i,r,o,u,c,m,p,g){this.query=t,this.docs=i,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=u,this.fromCache=c,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(t,i,r,o,u){const c=[];return i.forEach((m=>{c.push({type:0,doc:m})})),new xo(t,i,po.emptySet(i),c,r,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Gh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const i=this.docChanges,r=t.docChanges;if(i.length!==r.length)return!1;for(let o=0;o<i.length;o++)if(i[o].type!==r[o].type||!i[o].doc.isEqual(r[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u6{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((t=>t.Da()))}}class c6{constructor(){this.queries=NT(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,r){const o=Dt(i),u=o.queries;o.queries=NT(),u.forEach(((c,m)=>{for(const p of m.ba)p.onError(r)}))})(this,new pt(nt.ABORTED,"Firestore shutting down"))}}function NT(){return new ua((n=>Ex(n)),Gh)}async function h6(n,t){const i=Dt(n);let r=3;const o=t.query;let u=i.queries.get(o);u?!u.Sa()&&t.Da()&&(r=2):(u=new u6,r=t.Da()?0:1);try{switch(r){case 0:u.wa=await i.onListen(o,!0);break;case 1:u.wa=await i.onListen(o,!1);break;case 2:await i.onFirstRemoteStoreListen(o)}}catch(c){const m=wg(c,`Initialization of query '${io(t.query)}' failed`);return void t.onError(m)}i.queries.set(o,u),u.ba.push(t),t.va(i.onlineState),u.wa&&t.Fa(u.wa)&&Cg(i)}async function f6(n,t){const i=Dt(n),r=t.query;let o=3;const u=i.queries.get(r);if(u){const c=u.ba.indexOf(t);c>=0&&(u.ba.splice(c,1),u.ba.length===0?o=t.Da()?0:1:!u.Sa()&&t.Da()&&(o=2))}switch(o){case 0:return i.queries.delete(r),i.onUnlisten(r,!0);case 1:return i.queries.delete(r),i.onUnlisten(r,!1);case 2:return i.onLastRemoteStoreUnlisten(r);default:return}}function d6(n,t){const i=Dt(n);let r=!1;for(const o of t){const u=o.query,c=i.queries.get(u);if(c){for(const m of c.ba)m.Fa(o)&&(r=!0);c.wa=o}}r&&Cg(i)}function m6(n,t,i){const r=Dt(n),o=r.queries.get(t);if(o)for(const u of o.ba)u.onError(i);r.queries.delete(t)}function Cg(n){n.Ca.forEach((t=>{t.next()}))}var vp,IT;(IT=vp||(vp={})).Ma="default",IT.Cache="cache";class p6{constructor(t,i,r){this.query=t,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(t){if(!this.options.includeMetadataChanges){const r=[];for(const o of t.docChanges)o.type!==3&&r.push(o);t=new xo(t.query,t.docs,t.oldDocs,r,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let i=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),i=!0):this.La(t,this.onlineState)&&(this.ka(t),i=!0),this.Na=t,i}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),i=!0),i}La(t,i){if(!t.fromCache||!this.Da())return!0;const r=i!=="Offline";return(!this.options.Ka||!r)&&(!t.docs.isEmpty()||t.hasCachedResults||i==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(t){t=xo.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==vp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iA{constructor(t){this.key=t}}class sA{constructor(t){this.key=t}}class g6{constructor(t,i){this.query=t,this.Za=i,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Bt(),this.mutatedKeys=Bt(),this.eu=bx(t),this.tu=new po(this.eu)}get nu(){return this.Za}ru(t,i){const r=i?i.iu:new MT,o=i?i.tu:this.tu;let u=i?i.mutatedKeys:this.mutatedKeys,c=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(t.inorderTraversal(((v,E)=>{const x=o.get(v),M=Kh(this.query,E)?E:null,B=!!x&&this.mutatedKeys.has(x.key),K=!!M&&(M.hasLocalMutations||this.mutatedKeys.has(M.key)&&M.hasCommittedMutations);let L=!1;x&&M?x.data.isEqual(M.data)?B!==K&&(r.track({type:3,doc:M}),L=!0):this.su(x,M)||(r.track({type:2,doc:M}),L=!0,(p&&this.eu(M,p)>0||g&&this.eu(M,g)<0)&&(m=!0)):!x&&M?(r.track({type:0,doc:M}),L=!0):x&&!M&&(r.track({type:1,doc:x}),L=!0,(p||g)&&(m=!0)),L&&(M?(c=c.add(M),u=K?u.add(v):u.delete(v)):(c=c.delete(v),u=u.delete(v)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const v=this.query.limitType==="F"?c.last():c.first();c=c.delete(v.key),u=u.delete(v.key),r.track({type:1,doc:v})}return{tu:c,iu:r,Ss:m,mutatedKeys:u}}su(t,i){return t.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(t,i,r,o){const u=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const c=t.iu.ya();c.sort(((v,E)=>(function(M,B){const K=L=>{switch(L){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return St(20277,{Vt:L})}};return K(M)-K(B)})(v.type,E.type)||this.eu(v.doc,E.doc))),this.ou(r),o=o??!1;const m=i&&!o?this._u():[],p=this.Ya.size===0&&this.current&&!o?1:0,g=p!==this.Xa;return this.Xa=p,c.length!==0||g?{snapshot:new xo(this.query,t.tu,u,c,t.mutatedKeys,p===0,g,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new MT,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(t){return!this.Za.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((i=>this.Za=this.Za.add(i))),t.modifiedDocuments.forEach((i=>{})),t.removedDocuments.forEach((i=>this.Za=this.Za.delete(i))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Ya;this.Ya=Bt(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Ya=this.Ya.add(r.key))}));const i=[];return t.forEach((r=>{this.Ya.has(r)||i.push(new sA(r))})),this.Ya.forEach((r=>{t.has(r)||i.push(new iA(r))})),i}cu(t){this.Za=t.ks,this.Ya=Bt();const i=this.ru(t.documents);return this.applyChanges(i,!0)}lu(){return xo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const Rg="SyncEngine";class y6{constructor(t,i,r){this.query=t,this.targetId=i,this.view=r}}class v6{constructor(t){this.key=t,this.hu=!1}}class _6{constructor(t,i,r,o,u,c){this.localStore=t,this.remoteStore=i,this.eventManager=r,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new ua((m=>Ex(m)),Gh),this.Iu=new Map,this.Eu=new Set,this.Ru=new Ee(bt.comparator),this.Au=new Map,this.Vu=new yg,this.du={},this.mu=new Map,this.fu=bo.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function T6(n,t,i=!0){const r=cA(n);let o;const u=r.Tu.get(t);return u?(r.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await rA(r,t,i,!0),o}async function E6(n,t){const i=cA(n);await rA(i,t,!0,!1)}async function rA(n,t,i,r){const o=await L3(n.localStore,Gi(t)),u=o.targetId,c=n.sharedClientState.addLocalQueryTarget(u,i);let m;return r&&(m=await b6(n,t,u,c==="current",o.resumeToken)),n.isPrimaryClient&&i&&$x(n.remoteStore,o),m}async function b6(n,t,i,r,o){n.pu=(E,x,M)=>(async function(K,L,J,it){let et=L.view.ru(J);et.Ss&&(et=await ST(K.localStore,L.query,!1).then((({documents:R})=>L.view.ru(R,et))));const mt=it&&it.targetChanges.get(L.targetId),ht=it&&it.targetMismatches.get(L.targetId)!=null,dt=L.view.applyChanges(et,K.isPrimaryClient,mt,ht);return jT(K,L.targetId,dt.au),dt.snapshot})(n,E,x,M);const u=await ST(n.localStore,t,!0),c=new g6(t,u.ks),m=c.ru(u.documents),p=Eu.createSynthesizedTargetChangeForCurrentChange(i,r&&n.onlineState!=="Offline",o),g=c.applyChanges(m,n.isPrimaryClient,p);jT(n,i,g.au);const v=new y6(t,i,c);return n.Tu.set(t,v),n.Iu.has(i)?n.Iu.get(i).push(t):n.Iu.set(i,[t]),g.snapshot}async function x6(n,t,i){const r=Dt(n),o=r.Tu.get(t),u=r.Iu.get(o.targetId);if(u.length>1)return r.Iu.set(o.targetId,u.filter((c=>!Gh(c,t)))),void r.Tu.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(o.targetId),r.sharedClientState.isActiveQueryTarget(o.targetId)||await gp(r.localStore,o.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(o.targetId),i&&Eg(r.remoteStore,o.targetId),_p(r,o.targetId)})).catch(Vo)):(_p(r,o.targetId),await gp(r.localStore,o.targetId,!0))}async function A6(n,t){const i=Dt(n),r=i.Tu.get(t),o=i.Iu.get(r.targetId);i.isPrimaryClient&&o.length===1&&(i.sharedClientState.removeLocalQueryTarget(r.targetId),Eg(i.remoteStore,r.targetId))}async function S6(n,t,i){const r=N6(n);try{const o=await(function(c,m){const p=Dt(c),g=pe.now(),v=m.reduce(((M,B)=>M.add(B.key)),Bt());let E,x;return p.persistence.runTransaction("Locally write mutations","readwrite",(M=>{let B=Es(),K=Bt();return p.xs.getEntries(M,v).next((L=>{B=L,B.forEach(((J,it)=>{it.isValidDocument()||(K=K.add(J))}))})).next((()=>p.localDocuments.getOverlayedDocuments(M,B))).next((L=>{E=L;const J=[];for(const it of m){const et=PN(it,E.get(it.key).overlayedDocument);et!=null&&J.push(new ca(it.key,et,dx(et.value.mapValue),gs.exists(!0)))}return p.mutationQueue.addMutationBatch(M,g,J,m)})).next((L=>{x=L;const J=L.applyToLocalDocumentSet(E,K);return p.documentOverlayCache.saveOverlays(M,L.batchId,J)}))})).then((()=>({batchId:x.batchId,changes:Ax(E)})))})(r.localStore,t);r.sharedClientState.addPendingMutation(o.batchId),(function(c,m,p){let g=c.du[c.currentUser.toKey()];g||(g=new Ee(Ut)),g=g.insert(m,p),c.du[c.currentUser.toKey()]=g})(r,o.batchId,i),await xu(r,o.changes),await Jh(r.remoteStore)}catch(o){const u=wg(o,"Failed to persist write");i.reject(u)}}async function aA(n,t){const i=Dt(n);try{const r=await O3(i.localStore,t);t.targetChanges.forEach(((o,u)=>{const c=i.Au.get(u);c&&(Wt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?c.hu=!0:o.modifiedDocuments.size>0?Wt(c.hu,14607):o.removedDocuments.size>0&&(Wt(c.hu,42227),c.hu=!1))})),await xu(i,r,t)}catch(r){await Vo(r)}}function OT(n,t,i){const r=Dt(n);if(r.isPrimaryClient&&i===0||!r.isPrimaryClient&&i===1){const o=[];r.Tu.forEach(((u,c)=>{const m=c.view.va(t);m.snapshot&&o.push(m.snapshot)})),(function(c,m){const p=Dt(c);p.onlineState=m;let g=!1;p.queries.forEach(((v,E)=>{for(const x of E.ba)x.va(m)&&(g=!0)})),g&&Cg(p)})(r.eventManager,t),o.length&&r.Pu.J_(o),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function w6(n,t,i){const r=Dt(n);r.sharedClientState.updateQueryState(t,"rejected",i);const o=r.Au.get(t),u=o&&o.key;if(u){let c=new Ee(bt.comparator);c=c.insert(u,mn.newNoDocument(u,Ct.min()));const m=Bt().add(u),p=new Xh(Ct.min(),new Map,new Ee(Ut),c,m);await aA(r,p),r.Ru=r.Ru.remove(u),r.Au.delete(t),Vg(r)}else await gp(r.localStore,t,!1).then((()=>_p(r,t,i))).catch(Vo)}async function C6(n,t){const i=Dt(n),r=t.batch.batchId;try{const o=await I3(i.localStore,t);lA(i,r,null),oA(i,r),i.sharedClientState.updateMutationState(r,"acknowledged"),await xu(i,o)}catch(o){await Vo(o)}}async function R6(n,t,i){const r=Dt(n);try{const o=await(function(c,m){const p=Dt(c);return p.persistence.runTransaction("Reject batch","readwrite-primary",(g=>{let v;return p.mutationQueue.lookupMutationBatch(g,m).next((E=>(Wt(E!==null,37113),v=E.keys(),p.mutationQueue.removeMutationBatch(g,E)))).next((()=>p.mutationQueue.performConsistencyCheck(g))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(g,v,m))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,v))).next((()=>p.localDocuments.getDocuments(g,v)))}))})(r.localStore,t);lA(r,t,i),oA(r,t),r.sharedClientState.updateMutationState(t,"rejected",i),await xu(r,o)}catch(o){await Vo(o)}}function oA(n,t){(n.mu.get(t)||[]).forEach((i=>{i.resolve()})),n.mu.delete(t)}function lA(n,t,i){const r=Dt(n);let o=r.du[r.currentUser.toKey()];if(o){const u=o.get(t);u&&(i?u.reject(i):u.resolve(),o=o.remove(t)),r.du[r.currentUser.toKey()]=o}}function _p(n,t,i=null){n.sharedClientState.removeLocalQueryTarget(t);for(const r of n.Iu.get(t))n.Tu.delete(r),i&&n.Pu.yu(r,i);n.Iu.delete(t),n.isPrimaryClient&&n.Vu.Gr(t).forEach((r=>{n.Vu.containsKey(r)||uA(n,r)}))}function uA(n,t){n.Eu.delete(t.path.canonicalString());const i=n.Ru.get(t);i!==null&&(Eg(n.remoteStore,i),n.Ru=n.Ru.remove(t),n.Au.delete(i),Vg(n))}function jT(n,t,i){for(const r of i)r instanceof iA?(n.Vu.addReference(r.key,t),V6(n,r)):r instanceof sA?(yt(Rg,"Document no longer in limbo: "+r.key),n.Vu.removeReference(r.key,t),n.Vu.containsKey(r.key)||uA(n,r.key)):St(19791,{wu:r})}function V6(n,t){const i=t.key,r=i.path.canonicalString();n.Ru.get(i)||n.Eu.has(r)||(yt(Rg,"New document in limbo: "+i),n.Eu.add(r),Vg(n))}function Vg(n){for(;n.Eu.size>0&&n.Ru.size<n.maxConcurrentLimboResolutions;){const t=n.Eu.values().next().value;n.Eu.delete(t);const i=new bt(fe.fromString(t)),r=n.fu.next();n.Au.set(r,new v6(i)),n.Ru=n.Ru.insert(i,r),$x(n.remoteStore,new nr(Gi(fg(i.path)),r,"TargetPurposeLimboResolution",qh.ce))}}async function xu(n,t,i){const r=Dt(n),o=[],u=[],c=[];r.Tu.isEmpty()||(r.Tu.forEach(((m,p)=>{c.push(r.pu(p,t,i).then((g=>{var v;if((g||i)&&r.isPrimaryClient){const E=g?!g.fromCache:(v=i==null?void 0:i.targetChanges.get(p.targetId))==null?void 0:v.current;r.sharedClientState.updateQueryState(p.targetId,E?"current":"not-current")}if(g){o.push(g);const E=_g.Es(p.targetId,g);u.push(E)}})))})),await Promise.all(c),r.Pu.J_(o),await(async function(p,g){const v=Dt(p);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",(E=>st.forEach(g,(x=>st.forEach(x.Ts,(M=>v.persistence.referenceDelegate.addReference(E,x.targetId,M))).next((()=>st.forEach(x.Is,(M=>v.persistence.referenceDelegate.removeReference(E,x.targetId,M)))))))))}catch(E){if(!Do(E))throw E;yt(Tg,"Failed to update sequence numbers: "+E)}for(const E of g){const x=E.targetId;if(!E.fromCache){const M=v.vs.get(x),B=M.snapshotVersion,K=M.withLastLimboFreeSnapshotVersion(B);v.vs=v.vs.insert(x,K)}}})(r.localStore,u))}async function D6(n,t){const i=Dt(n);if(!i.currentUser.isEqual(t)){yt(Rg,"User change. New user:",t.toKey());const r=await Yx(i.localStore,t);i.currentUser=t,(function(u,c){u.mu.forEach((m=>{m.forEach((p=>{p.reject(new pt(nt.CANCELLED,c))}))})),u.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),await xu(i,r.Ns)}}function M6(n,t){const i=Dt(n),r=i.Au.get(t);if(r&&r.hu)return Bt().add(r.key);{let o=Bt();const u=i.Iu.get(t);if(!u)return o;for(const c of u){const m=i.Tu.get(c);o=o.unionWith(m.view.nu)}return o}}function cA(n){const t=Dt(n);return t.remoteStore.remoteSyncer.applyRemoteEvent=aA.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=M6.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=w6.bind(null,t),t.Pu.J_=d6.bind(null,t.eventManager),t.Pu.yu=m6.bind(null,t.eventManager),t}function N6(n){const t=Dt(n);return t.remoteStore.remoteSyncer.applySuccessfulWrite=C6.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=R6.bind(null,t),t}class Ih{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Zh(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,i){return null}Mu(t,i){return null}vu(t){return N3(this.persistence,new V3,t.initialUser,this.serializer)}Cu(t){return new Kx(vg.Vi,this.serializer)}Du(t){return new z3}async terminate(){var t,i;(t=this.gcScheduler)==null||t.stop(),(i=this.indexBackfillerScheduler)==null||i.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Ih.provider={build:()=>new Ih};class I6 extends Ih{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,i){Wt(this.persistence.referenceDelegate instanceof Mh,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new m3(r,t.asyncQueue,i)}Cu(t){const i=this.cacheSizeBytes!==void 0?Cn.withCacheSize(this.cacheSizeBytes):Cn.DEFAULT;return new Kx((r=>Mh.Vi(r,i)),this.serializer)}}class Tp{async initialize(t,i){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>OT(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=D6.bind(null,this.syncEngine),await l6(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new c6})()}createDatastore(t){const i=Zh(t.databaseInfo.databaseId),r=H3(t.databaseInfo);return X3(t.authCredentials,t.appCheckCredentials,r,i)}createRemoteStore(t){return(function(r,o,u,c,m){return new $3(r,o,u,c,m)})(this.localStore,this.datastore,t.asyncQueue,(i=>OT(this.syncEngine,i,0)),(function(){return RT.v()?new RT:new U3})())}createSyncEngine(t,i){return(function(o,u,c,m,p,g,v){const E=new _6(o,u,c,m,p,g);return v&&(E.gu=!0),E})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}async terminate(){var t,i;await(async function(o){const u=Dt(o);yt(oa,"RemoteStore shutting down."),u.Ea.add(5),await bu(u),u.Aa.shutdown(),u.Va.set("Unknown")})(this.remoteStore),(t=this.datastore)==null||t.terminate(),(i=this.eventManager)==null||i.terminate()}}Tp.provider={build:()=>new Tp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O6{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):Ts("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,i){setTimeout((()=>{this.muted||t(i)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mr="FirestoreClient";class j6{constructor(t,i,r,o,u){this.authCredentials=t,this.appCheckCredentials=i,this.asyncQueue=r,this._databaseInfo=o,this.user=dn.UNAUTHENTICATED,this.clientId=ag.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(r,(async c=>{yt(mr,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(r,(c=>(yt(mr,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new na;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(i){const r=wg(i,"Failed to shutdown persistence");t.reject(r)}})),t.promise}}async function Dm(n,t){n.asyncQueue.verifyOperationInProgress(),yt(mr,"Initializing OfflineComponentProvider");const i=n.configuration;await t.initialize(i);let r=i.initialUser;n.setCredentialChangeListener((async o=>{r.isEqual(o)||(await Yx(t.localStore,o),r=o)})),t.persistence.setDatabaseDeletedListener((()=>n.terminate())),n._offlineComponents=t}async function PT(n,t){n.asyncQueue.verifyOperationInProgress();const i=await P6(n);yt(mr,"Initializing OnlineComponentProvider"),await t.initialize(i,n.configuration),n.setCredentialChangeListener((r=>DT(t.remoteStore,r))),n.setAppCheckTokenChangeListener(((r,o)=>DT(t.remoteStore,o))),n._onlineComponents=t}async function P6(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){yt(mr,"Using user provided OfflineComponentProvider");try{await Dm(n,n._uninitializedComponentsProvider._offline)}catch(t){const i=t;if(!(function(o){return o.name==="FirebaseError"?o.code===nt.FAILED_PRECONDITION||o.code===nt.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(i))throw i;aa("Error using user provided cache. Falling back to memory cache: "+i),await Dm(n,new Ih)}}else yt(mr,"Using default OfflineComponentProvider"),await Dm(n,new I6(void 0));return n._offlineComponents}async function hA(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(yt(mr,"Using user provided OnlineComponentProvider"),await PT(n,n._uninitializedComponentsProvider._online)):(yt(mr,"Using default OnlineComponentProvider"),await PT(n,new Tp))),n._onlineComponents}function L6(n){return hA(n).then((t=>t.syncEngine))}async function LT(n){const t=await hA(n),i=t.eventManager;return i.onListen=T6.bind(null,t.syncEngine),i.onUnlisten=x6.bind(null,t.syncEngine),i.onFirstRemoteStoreListen=E6.bind(null,t.syncEngine),i.onLastRemoteStoreUnlisten=A6.bind(null,t.syncEngine),i}function k6(n,t,i,r){const o=new O6(r),u=new p6(t,o,i);return n.asyncQueue.enqueueAndForget((async()=>h6(await LT(n),u))),()=>{o.Nu(),n.asyncQueue.enqueueAndForget((async()=>f6(await LT(n),u)))}}function z6(n,t){const i=new na;return n.asyncQueue.enqueueAndForget((async()=>S6(await L6(n),t,i))),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fA(n){const t={};return n.timeoutSeconds!==void 0&&(t.timeoutSeconds=n.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U6="ComponentProvider",kT=new Map;function B6(n,t,i,r,o){return new iN(n,t,i,o.host,o.ssl,o.experimentalForceLongPolling,o.experimentalAutoDetectLongPolling,fA(o.experimentalLongPollingOptions),o.useFetchStreams,o.isUsingEmulator,r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dA="firestore.googleapis.com",zT=!0;class UT{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new pt(nt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=dA,this.ssl=zT}else this.host=t.host,this.ssl=t.ssl??zT;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=Gx;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<f3)throw new pt(nt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}KM("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=fA(t.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new pt(nt.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new pt(nt.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new pt(nt.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(r,o){return r.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Wh{constructor(t,i,r,o){this._authCredentials=t,this._appCheckCredentials=i,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new UT({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new pt(nt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new pt(nt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new UT(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new PM;switch(r.type){case"firstParty":return new UM(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new pt(nt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const r=kT.get(i);r&&(yt(U6,"Removing Datastore"),kT.delete(i),r.terminate())})(this),Promise.resolve()}}function q6(n,t,i,r={}){var g;n=Ql(n,Wh);const o=ig(t),u=n._getSettings(),c={...u,emulatorOptions:n._getEmulatorOptions()},m=`${t}:${i}`;o&&(cD(`https://${m}`),mD("Firestore",!0)),u.host!==dA&&u.host!==m&&aa("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...u,host:m,ssl:o,emulatorOptions:r};if(!Eh(p,c)&&(n._setSettings(p),r.mockUserToken)){let v,E;if(typeof r.mockUserToken=="string")v=r.mockUserToken,E=dn.MOCK_USER;else{v=hD(r.mockUserToken,(g=n._app)==null?void 0:g.options.projectId);const x=r.mockUserToken.sub||r.mockUserToken.user_id;if(!x)throw new pt(nt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new dn(x)}n._authCredentials=new LM(new ex(v,E))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gr{constructor(t,i,r){this.converter=i,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new gr(this.firestore,t,this._query)}}class Ke{constructor(t,i,r){this.converter=i,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ar(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Ke(this.firestore,t,this._key)}toJSON(){return{type:Ke._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,i,r){if(_u(i,Ke._jsonSchema))return new Ke(t,r||null,new bt(fe.fromString(i.referencePath)))}}Ke._jsonSchemaVersion="firestore/documentReference/1.0",Ke._jsonSchema={type:qe("string",Ke._jsonSchemaVersion),referencePath:qe("string")};class ar extends gr{constructor(t,i,r){super(t,i,fg(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Ke(this.firestore,null,new bt(t))}withConverter(t){return new ar(this.firestore,t,this._path)}}function mA(n,t,...i){if(n=sa(n),nx("collection","path",t),n instanceof Wh){const r=fe.fromString(t,...i);return J1(r),new ar(n,null,r)}{if(!(n instanceof Ke||n instanceof ar))throw new pt(nt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(fe.fromString(t,...i));return J1(r),new ar(n.firestore,null,r)}}function F6(n,t,...i){if(n=sa(n),arguments.length===1&&(t=ag.newId()),nx("doc","path",t),n instanceof Wh){const r=fe.fromString(t,...i);return $1(r),new Ke(n,null,new bt(r))}{if(!(n instanceof Ke||n instanceof ar))throw new pt(nt.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(fe.fromString(t,...i));return $1(r),new Ke(n.firestore,n instanceof ar?n.converter:null,new bt(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BT="AsyncQueue";class qT{constructor(t=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Xx(this,"async_queue_retry"),this._c=()=>{const r=Vm();r&&yt(BT,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=t;const i=Vm();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const i=Vm();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new na;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Yu.push(t),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(t){if(!Do(t))throw t;yt(BT,"Operation failed with retryable error: "+t)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const i=this.ac.then((()=>(this.rc=!0,t().catch((r=>{throw this.nc=r,this.rc=!1,Ts("INTERNAL UNHANDLED ERROR: ",FT(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=i,i}enqueueAfterDelay(t,i,r){this.uc(),this.oc.indexOf(t)>-1&&(i=0);const o=Sg.createAndSchedule(this,t,i,r,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&St(47125,{Pc:FT(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const i of this.tc)if(i.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((i,r)=>i.targetTimeMs-r.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),t!=="all"&&i.timerId===t)break;return this.Tc()}))}Rc(t){this.oc.push(t)}hc(t){const i=this.tc.indexOf(t);this.tc.splice(i,1)}}function FT(n){let t=n.message||"";return n.stack&&(t=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),t}class Oh extends Wh{constructor(t,i,r,o){super(t,i,r,o),this.type="firestore",this._queue=new qT,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new qT(t),this._firestoreClient=void 0,await t}}}function H6(n,t){const i=typeof n=="object"?n:AM(),r=typeof n=="string"?n:Sh,o=_M(i,"firestore").getImmediate({identifier:r});if(!o._initialized){const u=lD("firestore");u&&q6(o,...u)}return o}function pA(n){if(n._terminated)throw new pt(nt.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||G6(n),n._firestoreClient}function G6(n){var r,o,u,c;const t=n._freezeSettings(),i=B6(n._databaseId,((r=n._app)==null?void 0:r.options.appId)||"",n._persistenceKey,(o=n._app)==null?void 0:o.options.apiKey,t);n._componentsProvider||(u=t.localCache)!=null&&u._offlineComponentProvider&&((c=t.localCache)!=null&&c._onlineComponentProvider)&&(n._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),n._firestoreClient=new j6(n._authCredentials,n._appCheckCredentials,n._queue,i,n._componentsProvider&&(function(p){const g=p==null?void 0:p._online.build();return{_offline:p==null?void 0:p._offline.build(g),_online:g}})(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ti{constructor(t){this._byteString=t}static fromBase64String(t){try{return new ti(cn.fromBase64String(t))}catch(i){throw new pt(nt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(t){return new ti(cn.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:ti._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(_u(t,ti._jsonSchema))return ti.fromBase64String(t.bytes)}}ti._jsonSchemaVersion="firestore/bytes/1.0",ti._jsonSchema={type:qe("string",ti._jsonSchemaVersion),bytes:qe("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gA{constructor(...t){for(let i=0;i<t.length;++i)if(t[i].length===0)throw new pt(nt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new un(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dg{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yi{constructor(t,i){if(!isFinite(t)||t<-90||t>90)throw new pt(nt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(i)||i<-180||i>180)throw new pt(nt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=t,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Ut(this._lat,t._lat)||Ut(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Yi._jsonSchemaVersion}}static fromJSON(t){if(_u(t,Yi._jsonSchema))return new Yi(t.latitude,t.longitude)}}Yi._jsonSchemaVersion="firestore/geoPoint/1.0",Yi._jsonSchema={type:qe("string",Yi._jsonSchemaVersion),latitude:qe("number"),longitude:qe("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yi{constructor(t){this._values=(t||[]).map((i=>i))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(r,o){if(r.length!==o.length)return!1;for(let u=0;u<r.length;++u)if(r[u]!==o[u])return!1;return!0})(this._values,t._values)}toJSON(){return{type:yi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(_u(t,yi._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((i=>typeof i=="number")))return new yi(t.vectorValues);throw new pt(nt.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}yi._jsonSchemaVersion="firestore/vectorValue/1.0",yi._jsonSchema={type:qe("string",yi._jsonSchemaVersion),vectorValues:qe("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K6=/^__.*__$/;class Y6{constructor(t,i,r){this.data=t,this.fieldMask=i,this.fieldTransforms=r}toMutation(t,i){return this.fieldMask!==null?new ca(t,this.data,this.fieldMask,i,this.fieldTransforms):new Tu(t,this.data,i,this.fieldTransforms)}}function yA(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw St(40011,{dataSource:n})}}class Mg{constructor(t,i,r,o,u,c){this.settings=t,this.databaseId=i,this.serializer=r,this.ignoreUndefinedProperties=o,u===void 0&&this.validatePath(),this.fieldTransforms=u||[],this.fieldMask=c||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(t){return new Mg({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(t){var o;const i=(o=this.path)==null?void 0:o.child(t),r=this.contextWith({path:i,arrayElement:!1});return r.validatePathSegment(t),r}childContextForFieldPath(t){var o;const i=(o=this.path)==null?void 0:o.child(t),r=this.contextWith({path:i,arrayElement:!1});return r.validatePath(),r}childContextForArray(t){return this.contextWith({path:void 0,arrayElement:!0})}createError(t){return jh(t,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(t){return this.fieldMask.find((i=>t.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>t.isPrefixOf(i.field)))!==void 0}validatePath(){if(this.path)for(let t=0;t<this.path.length;t++)this.validatePathSegment(this.path.get(t))}validatePathSegment(t){if(t.length===0)throw this.createError("Document fields must not be empty");if(yA(this.dataSource)&&K6.test(t))throw this.createError('Document fields cannot begin and end with "__"')}}class Q6{constructor(t,i,r){this.databaseId=t,this.ignoreUndefinedProperties=i,this.serializer=r||Zh(t)}createContext(t,i,r,o=!1){return new Mg({dataSource:t,methodName:i,targetDoc:r,path:un.emptyPath(),arrayElement:!1,hasConverter:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function vA(n){const t=n._freezeSettings(),i=Zh(n._databaseId);return new Q6(n._databaseId,!!t.ignoreUndefinedProperties,i)}function X6(n,t,i,r,o,u={}){const c=n.createContext(u.merge||u.mergeFields?2:0,t,i,o);EA("Data must be an object, but it was:",c,r);const m=_A(r,c);let p,g;if(u.merge)p=new gi(c.fieldMask),g=c.fieldTransforms;else if(u.mergeFields){const v=[];for(const E of u.mergeFields){const x=tf(t,E,i);if(!c.contains(x))throw new pt(nt.INVALID_ARGUMENT,`Field '${x}' is specified in your field mask but missing from your input data.`);W6(v,x)||v.push(x)}p=new gi(v),g=c.fieldTransforms.filter((E=>p.covers(E.field)))}else p=null,g=c.fieldTransforms;return new Y6(new Wn(m),p,g)}class Ng extends Dg{_toFieldTransform(t){return new NN(t.path,new fu)}isEqual(t){return t instanceof Ng}}function Z6(n,t,i,r=!1){return Ig(i,n.createContext(r?4:3,t))}function Ig(n,t){if(TA(n=sa(n)))return EA("Unsupported field value:",t,n),_A(n,t);if(n instanceof Dg)return(function(r,o){if(!yA(o.dataSource))throw o.createError(`${r._methodName}() can only be used with update() and set()`);if(!o.path)throw o.createError(`${r._methodName}() is not currently supported inside arrays`);const u=r._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(n,t),null;if(n===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),n instanceof Array){if(t.settings.arrayElement&&t.dataSource!==4)throw t.createError("Nested arrays are not supported");return(function(r,o){const u=[];let c=0;for(const m of r){let p=Ig(m,o.childContextForArray(c));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),c++}return{arrayValue:{values:u}}})(n,t)}return(function(r,o){if((r=sa(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return VN(o.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const u=pe.fromDate(r);return{timestampValue:Dh(o.serializer,u)}}if(r instanceof pe){const u=new pe(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Dh(o.serializer,u)}}if(r instanceof Yi)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof ti)return{bytesValue:Lx(o.serializer,r._byteString)};if(r instanceof Ke){const u=o.databaseId,c=r.firestore._databaseId;if(!c.isEqual(u))throw o.createError(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:gg(r.firestore._databaseId||o.databaseId,r._key.path)}}if(r instanceof yi)return(function(c,m){const p=c instanceof yi?c.toArray():c;return{mapValue:{fields:{[hx]:{stringValue:fx},[wh]:{arrayValue:{values:p.map((v=>{if(typeof v!="number")throw m.createError("VectorValues must only contain numeric values.");return dg(m.serializer,v)}))}}}}}})(r,o);if(Hx(r))return r._toProto(o.serializer);throw o.createError(`Unsupported field value: ${Bh(r)}`)})(n,t)}function _A(n,t){const i={};return rx(n)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):la(n,((r,o)=>{const u=Ig(o,t.childContextForField(r));u!=null&&(i[r]=u)})),{mapValue:{fields:i}}}function TA(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof pe||n instanceof Yi||n instanceof ti||n instanceof Ke||n instanceof Dg||n instanceof yi||Hx(n))}function EA(n,t,i){if(!TA(i)||!ix(i)){const r=Bh(i);throw r==="an object"?t.createError(n+" a custom object"):t.createError(n+" "+r)}}function tf(n,t,i){if((t=sa(t))instanceof gA)return t._internalPath;if(typeof t=="string")return J6(n,t);throw jh("Field path arguments must be of type string or ",n,!1,void 0,i)}const $6=new RegExp("[~\\*/\\[\\]]");function J6(n,t,i){if(t.search($6)>=0)throw jh(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,i);try{return new gA(...t.split("."))._internalPath}catch{throw jh(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,i)}}function jh(n,t,i,r,o){const u=r&&!r.isEmpty(),c=o!==void 0;let m=`Function ${t}() called with invalid data`;i&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(u||c)&&(p+=" (found",u&&(p+=` in field ${r}`),c&&(p+=` in document ${o}`),p+=")"),new pt(nt.INVALID_ARGUMENT,m+n+p)}function W6(n,t){return n.some((i=>i.isEqual(t)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tI{convertValue(t,i="none"){switch(fr(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Ve(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,i);case 5:return t.stringValue;case 6:return this.convertBytes(hr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,i);case 11:return this.convertObject(t.mapValue,i);case 10:return this.convertVectorValue(t.mapValue);default:throw St(62114,{value:t})}}convertObject(t,i){return this.convertObjectMap(t.fields,i)}convertObjectMap(t,i="none"){const r={};return la(t,((o,u)=>{r[o]=this.convertValue(u,i)})),r}convertVectorValue(t){var r,o,u;const i=(u=(o=(r=t.fields)==null?void 0:r[wh].arrayValue)==null?void 0:o.values)==null?void 0:u.map((c=>Ve(c.doubleValue)));return new yi(i)}convertGeoPoint(t){return new Yi(Ve(t.latitude),Ve(t.longitude))}convertArray(t,i){return(t.values||[]).map((r=>this.convertValue(r,i)))}convertServerTimestamp(t,i){switch(i){case"previous":const r=Hh(t);return r==null?null:this.convertValue(r,i);case"estimate":return this.convertTimestamp(lu(t));default:return null}}convertTimestamp(t){const i=cr(t);return new pe(i.seconds,i.nanos)}convertDocumentKey(t,i){const r=fe.fromString(t);Wt(Fx(r),9688,{name:t});const o=new uu(r.get(1),r.get(3)),u=new bt(r.popFirst(5));return o.isEqual(i)||Ts(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),u}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bA extends tI{constructor(t){super(),this.firestore=t}convertBytes(t){return new ti(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new Ke(this.firestore,null,i)}}function eI(){return new Ng("serverTimestamp")}const HT="@firebase/firestore",GT="4.11.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KT(n){return(function(i,r){if(typeof i!="object"||i===null)return!1;const o=i;for(const u of r)if(u in o&&typeof o[u]=="function")return!0;return!1})(n,["next","error","complete"])}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xA{constructor(t,i,r,o,u){this._firestore=t,this._userDataWriter=i,this._key=r,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Ke(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new nI(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){var t;return((t=this._document)==null?void 0:t.data.clone().value.mapValue.fields)??void 0}get(t){if(this._document){const i=this._document.data.field(tf("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i)}}}class nI extends xA{data(){return super.data()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iI(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new pt(nt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Og{}class jg extends Og{}function sI(n,t,...i){let r=[];t instanceof Og&&r.push(t),r=r.concat(i),(function(u){const c=u.filter((p=>p instanceof Lg)).length,m=u.filter((p=>p instanceof Pg)).length;if(c>1||c>0&&m>0)throw new pt(nt.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const o of r)n=o._apply(n);return n}class Pg extends jg{constructor(t,i,r){super(),this._field=t,this._op=i,this._value=r,this.type="where"}static _create(t,i,r){return new Pg(t,i,r)}_apply(t){const i=this._parse(t);return AA(t._query,i),new gr(t.firestore,t.converter,hp(t._query,i))}_parse(t){const i=vA(t.firestore);return(function(u,c,m,p,g,v,E){let x;if(g.isKeyField()){if(v==="array-contains"||v==="array-contains-any")throw new pt(nt.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if(v==="in"||v==="not-in"){QT(E,v);const B=[];for(const K of E)B.push(YT(p,u,K));x={arrayValue:{values:B}}}else x=YT(p,u,E)}else v!=="in"&&v!=="not-in"&&v!=="array-contains-any"||QT(E,v),x=Z6(m,c,E,v==="in"||v==="not-in");return Be.create(g,v,x)})(t._query,"where",i,t.firestore._databaseId,this._field,this._op,this._value)}}class Lg extends Og{constructor(t,i){super(),this.type=t,this._queryConstraints=i}static _create(t,i){return new Lg(t,i)}_parse(t){const i=this._queryConstraints.map((r=>r._parse(t))).filter((r=>r.getFilters().length>0));return i.length===1?i[0]:vi.create(i,this._getOperator())}_apply(t){const i=this._parse(t);return i.getFilters().length===0?t:((function(o,u){let c=o;const m=u.getFlattenedFilters();for(const p of m)AA(c,p),c=hp(c,p)})(t._query,i),new gr(t.firestore,t.converter,hp(t._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class kg extends jg{constructor(t,i){super(),this._field=t,this._direction=i,this.type="orderBy"}static _create(t,i){return new kg(t,i)}_apply(t){const i=(function(o,u,c){if(o.startAt!==null)throw new pt(nt.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new pt(nt.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new hu(u,c)})(t._query,this._field,this._direction);return new gr(t.firestore,t.converter,EN(t._query,i))}}function rI(n,t="asc"){const i=t,r=tf("orderBy",n);return kg._create(r,i)}class zg extends jg{constructor(t,i,r){super(),this.type=t,this._limit=i,this._limitType=r}static _create(t,i,r){return new zg(t,i,r)}_apply(t){return new gr(t.firestore,t.converter,Rh(t._query,this._limit,this._limitType))}}function aI(n){return zg._create("limit",n,"F")}function YT(n,t,i){if(typeof(i=sa(i))=="string"){if(i==="")throw new pt(nt.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Tx(t)&&i.indexOf("/")!==-1)throw new pt(nt.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const r=t.path.child(fe.fromString(i));if(!bt.isDocumentKey(r))throw new pt(nt.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return aT(n,new bt(r))}if(i instanceof Ke)return aT(n,i._key);throw new pt(nt.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Bh(i)}.`)}function QT(n,t){if(!Array.isArray(n)||n.length===0)throw new pt(nt.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function AA(n,t){const i=(function(o,u){for(const c of o)for(const m of c.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null})(n.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(t.op));if(i!==null)throw i===t.op?new pt(nt.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new pt(nt.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${i.toString()}' filters.`)}function oI(n,t,i){let r;return r=n?n.toFirestore(t):t,r}class ql{constructor(t,i){this.hasPendingWrites=t,this.fromCache=i}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class ia extends xA{constructor(t,i,r,o,u,c){super(t,i,r,o,c),this._firestore=t,this._firestoreImpl=t,this.metadata=u}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const i=new dh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,i={}){if(this._document){const r=this._document.data.field(tf("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new pt(nt.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,i={};return i.type=ia._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}ia._jsonSchemaVersion="firestore/documentSnapshot/1.0",ia._jsonSchema={type:qe("string",ia._jsonSchemaVersion),bundleSource:qe("string","DocumentSnapshot"),bundleName:qe("string"),bundle:qe("string")};class dh extends ia{data(t={}){return super.data(t)}}class go{constructor(t,i,r,o){this._firestore=t,this._userDataWriter=i,this._snapshot=o,this.metadata=new ql(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const t=[];return this.forEach((i=>t.push(i))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,i){this._snapshot.docs.forEach((r=>{t.call(i,new dh(this._firestore,this._userDataWriter,r.key,r,new ql(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const i=!!t.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new pt(nt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let c=0;return o._snapshot.docChanges.map((m=>{const p=new dh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new ql(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:c++}}))}{let c=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((m=>u||m.type!==3)).map((m=>{const p=new dh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new ql(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,v=-1;return m.type!==0&&(g=c.indexOf(m.doc.key),c=c.delete(m.doc.key)),m.type!==1&&(c=c.add(m.doc),v=c.indexOf(m.doc.key)),{type:lI(m.type),doc:p,oldIndex:g,newIndex:v}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new pt(nt.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=go._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=ag.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],r=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(i.push(u._document),r.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function lI(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return St(61501,{type:n})}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */go._jsonSchemaVersion="firestore/querySnapshot/1.0",go._jsonSchema={type:qe("string",go._jsonSchemaVersion),bundleSource:qe("string","QuerySnapshot"),bundleName:qe("string"),bundle:qe("string")};function uI(n,t){const i=Ql(n.firestore,Oh),r=F6(n),o=oI(n.converter,t),u=vA(n.firestore);return hI(i,[X6(u,"addDoc",r._key,o,n.converter!==null,{}).toMutation(r._key,gs.exists(!1))]).then((()=>r))}function cI(n,...t){var g,v,E;n=sa(n);let i={includeMetadataChanges:!1,source:"default"},r=0;typeof t[r]!="object"||KT(t[r])||(i=t[r++]);const o={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(KT(t[r])){const x=t[r];t[r]=(g=x.next)==null?void 0:g.bind(x),t[r+1]=(v=x.error)==null?void 0:v.bind(x),t[r+2]=(E=x.complete)==null?void 0:E.bind(x)}let u,c,m;if(n instanceof Ke)c=Ql(n.firestore,Oh),m=fg(n._key.path),u={next:x=>{t[r]&&t[r](fI(c,n,x))},error:t[r+1],complete:t[r+2]};else{const x=Ql(n,gr);c=Ql(x.firestore,Oh),m=x._query;const M=new bA(c);u={next:B=>{t[r]&&t[r](new go(c,M,x,B))},error:t[r+1],complete:t[r+2]},iI(n._query)}const p=pA(c);return k6(p,m,o,u)}function hI(n,t){const i=pA(n);return z6(i,t)}function fI(n,t,i){const r=i.docs.get(t._key),o=new bA(n);return new ia(n,o,t._key,r,new ql(i.hasPendingWrites,i.fromCache),t.converter)}(function(t,i=!0){jM(xM),xh(new ru("firestore",((r,{instanceIdentifier:o,options:u})=>{const c=r.getProvider("app").getImmediate(),m=new Oh(new kM(r.getProvider("auth-internal")),new BM(c,r.getProvider("app-check-internal")),sN(c,o),c);return u={useFetchStreams:i,...u},m._setSettings(u),m}),"PUBLIC").setMultipleInstances(!0)),fo(HT,GT,t),fo(HT,GT,"esm2020")})();var dI="firebase",mI="12.9.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */fo(dI,mI,"app");const SA={apiKey:void 0,authDomain:void 0,projectId:void 0,storageBucket:void 0,messagingSenderId:void 0,appId:void 0},Wl=Object.values(SA).every(n=>typeof n=="string"&&n.trim().length>0),XT=Wl?Gb(SA):null,Ph=XT?H6(XT):null,ZT=()=>{const n={spread:70,ticks:120,gravity:.95,decay:.94,scalar:.9,colors:["#f59e0b","#fb923c","#fcd34d","#fff7c2"]};P1({...n,particleCount:90,origin:{x:.25,y:.55}}),P1({...n,particleCount:90,origin:{x:.75,y:.55}})},pI=()=>{const[n,t]=ot.useState(""),[i,r]=ot.useState("1"),[o,u]=ot.useState(""),[c,m]=ot.useState(null),[p,g]=ot.useState(""),[v,E]=ot.useState(""),[x,M]=ot.useState(!1),B=L=>{m(L),L==="yes"&&ZT()},K=async L=>{if(L.preventDefault(),!n||!c)return;if(M(!0),Ph&&Wl)try{await uI(mA(Ph,"loveWallMessages"),{name:n,attendance:c,guests:Number(i),family:o,message:v.trim(),dietaryRestrictions:p.trim(),createdAt:eI()})}catch(mt){console.error("Error al guardar RSVP en Firebase:",mt)}const J="525588150830";let it="";c==="yes"?(it=`Hola! Soy *${n}* ${o?`(Familia ${o})`:""}.

 *Confirmo mi asistencia* a los XV de Skarleth para *${i} persona(s)*.

`,p&&(it+=` Restricciones alimentarias: ${p}

`),v&&(it+=` Mensaje: ${v}

`),it+="Gracias! "):(it=`Hola! Soy *${n}* ${o?`(Familia ${o})`:""}.

 Lamentablemente *no podr asistir* a los XV de Skarleth.

`,v&&(it+=` Mensaje: ${v}

`),it+="Les deseo lo mejor en su celebracin. ");const et=`https://wa.me/${J}?text=${encodeURIComponent(it)}`;window.open(et,"_blank"),c==="yes"&&ZT(),M(!1)};return A.jsxs("section",{id:"rsvp",className:"py-20 relative overflow-hidden bg-white",children:[A.jsx("div",{className:"absolute top-0 left-0 w-64 h-64 bg-xv-pink/20 rounded-full blur-3xl -translate-x-1/2 -translate-y-1/2"}),A.jsx("div",{className:"absolute bottom-0 right-0 w-64 h-64 bg-xv-rose/20 rounded-full blur-3xl translate-x-1/2 translate-y-1/2"}),A.jsx("div",{className:"container mx-auto px-4 relative z-10 max-w-2xl",children:A.jsxs("div",{className:"bg-white/80 backdrop-blur-xl border border-white shadow-[0_10px_40px_rgba(225,173,186,0.2)] rounded-3xl p-8 md:p-12 relative",children:[A.jsx("div",{className:"absolute -top-6 left-1/2 transform -translate-x-1/2 bg-white p-3 rounded-full shadow-lg text-xv-rose-gold",children:A.jsx(ps,{fill:"currentColor",size:32})}),A.jsxs("div",{className:"text-center mb-10 mt-4",children:[A.jsx("h2",{className:"titulos-cursiva text-5xl md:text-6xl text-xv-rose-dark mb-4",children:"Confirmacin"}),A.jsxs("p",{className:"font-mont text-gray-500 leading-relaxed font-light",children:["Nos encantara compartir este momento mgico contigo. ",A.jsx("br",{}),"Por favor confirma tu asistencia antes del"," ",A.jsx("strong",{className:"text-xv-wine",children:"1 de Mayo, 2026"}),"."]})]}),A.jsxs("form",{onSubmit:K,className:"space-y-6",children:[A.jsxs("div",{children:[A.jsx("label",{className:"block texto-general text-xv-wine text-xs mb-3 ml-1 tracking-wider",children:"Podrs asistir?"}),A.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[A.jsxs("button",{type:"button",onClick:()=>B("yes"),className:`flex items-center justify-center gap-2 py-4 rounded-xl border-2 transition-all duration-300 font-mont text-sm ${c==="yes"?"border-green-500 bg-green-50 text-green-700":"border-gray-200 hover:border-green-300 text-gray-600"}`,children:[A.jsx(N1,{size:20}),A.jsx("span",{children:"S, asistir"})]}),A.jsxs("button",{type:"button",onClick:()=>B("no"),className:`flex items-center justify-center gap-2 py-4 rounded-xl border-2 transition-all duration-300 font-mont text-sm ${c==="no"?"border-red-400 bg-red-50 text-red-600":"border-gray-200 hover:border-red-300 text-gray-600"}`,children:[A.jsx(h4,{size:20}),A.jsx("span",{children:"No podr ir"})]})]})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block texto-general text-xv-wine text-xs mb-2 ml-1 tracking-wider",children:"Nombre Completo *"}),A.jsx("input",{type:"text",value:n,onChange:L=>t(L.target.value),placeholder:"Ej. Juan Prez",className:"w-full bg-xv-bg border border-xv-rose/30 rounded-xl px-4 py-3 text-gray-700 placeholder-gray-400 focus:outline-none focus:border-xv-rose-gold focus:ring-1 focus:ring-xv-rose-gold transition-colors font-mont",required:!0})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block texto-general text-xv-wine text-xs mb-2 ml-1 tracking-wider",children:"Apellidos de la Familia"}),A.jsx("input",{type:"text",value:o,onChange:L=>u(L.target.value),placeholder:"Ej. Familia Prez Lpez",className:"w-full bg-xv-bg border border-xv-rose/30 rounded-xl px-4 py-3 text-gray-700 placeholder-gray-400 focus:outline-none focus:border-xv-rose-gold focus:ring-1 focus:ring-xv-rose-gold transition-colors font-mont"})]}),c==="yes"&&A.jsxs(A.Fragment,{children:[A.jsxs("div",{children:[A.jsx("label",{className:"block texto-general text-xv-wine text-xs mb-2 ml-1 tracking-wider",children:"N de Asistentes"}),A.jsx("select",{value:i,onChange:L=>r(L.target.value),className:"w-full bg-xv-bg border border-xv-rose/30 rounded-xl px-4 py-3 text-gray-700 focus:outline-none focus:border-xv-rose-gold focus:ring-1 focus:ring-xv-rose-gold transition-colors font-mont",children:[1,2,3,4,5,6].map(L=>A.jsxs("option",{value:L,className:"text-gray-700",children:[L," ",L===1?"Persona":"Personas"]},L))})]}),A.jsxs("div",{children:[A.jsxs("label",{className:"block texto-general text-xv-wine text-xs mb-2 ml-1 tracking-wider",children:[A.jsx(k4,{size:14,className:"inline mr-2"}),"Restricciones Alimentarias (opcional)"]}),A.jsx("input",{type:"text",value:p,onChange:L=>g(L.target.value),placeholder:"Ej. Vegetariano, sin gluten, alergia a mariscos...",className:"w-full bg-xv-bg border border-xv-rose/30 rounded-xl px-4 py-3 text-gray-700 placeholder-gray-400 focus:outline-none focus:border-xv-rose-gold focus:ring-1 focus:ring-xv-rose-gold transition-colors font-mont text-sm"})]})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block texto-general text-xv-wine text-xs mb-2 ml-1 tracking-wider",children:"Mensaje para Skarleth (opcional)"}),A.jsx("textarea",{value:v,onChange:L=>E(L.target.value),placeholder:"Escribe un mensaje especial...",rows:3,className:"w-full bg-xv-bg border border-xv-rose/30 rounded-xl px-4 py-3 text-gray-700 placeholder-gray-400 focus:outline-none focus:border-xv-rose-gold focus:ring-1 focus:ring-xv-rose-gold transition-colors font-mont resize-none"})]}),A.jsxs("button",{type:"submit",disabled:!c||!n||x,className:"w-full bg-gradient-to-r from-xv-rose-dark to-xv-wine text-white font-mont text-sm font-bold py-4 rounded-xl shadow-lg hover:shadow-xl hover:shadow-xv-rose/40 transform hover:-translate-y-1 transition-all duration-300 flex items-center justify-center gap-3 mt-6 disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none",children:[A.jsx(j4,{size:18}),A.jsx("span",{children:x?"Enviando...":"Enviar Confirmacin por WhatsApp"})]})]}),A.jsxs("div",{className:"mt-8 grid grid-cols-1 md:grid-cols-2 gap-3",children:[A.jsxs("div",{className:"flex items-center justify-center gap-2 text-xv-wine/60 text-sm font-mont bg-xv-bg/50 py-2 rounded-lg",children:[A.jsx(N1,{size:16}),A.jsx("span",{children:"Vestimenta: Formal"})]}),A.jsxs("div",{className:"flex items-center justify-center gap-2 text-xv-wine/60 text-sm font-mont bg-xv-bg/50 py-2 rounded-lg",children:[A.jsx(ps,{size:16}),A.jsx("span",{children:"Fecha lmite: 1 Mayo"})]})]})]})})]})},gI=()=>{const n="#LosXVDeSkarleth",t=()=>{navigator.clipboard.writeText(n)};return A.jsxs("section",{className:"py-12 bg-gradient-to-r from-xv-wine via-xv-rose-dark to-xv-wine relative overflow-hidden",children:[A.jsx("div",{className:"absolute inset-0 opacity-20",children:[...Array(10)].map((i,r)=>A.jsx(Lt.div,{animate:{y:[-20,20,-20],x:[-10,10,-10]},transition:{duration:3+r,repeat:1/0,delay:r*.5},className:"absolute text-white/20",style:{left:`${r*10}%`,top:`${Math.random()*100}%`},children:A.jsx(E4,{size:24+r*4})},r))}),A.jsx("div",{className:"container mx-auto px-4 relative z-10",children:A.jsxs(Lt.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"text-center",children:[A.jsxs("div",{className:"flex items-center justify-center gap-3 mb-4",children:[A.jsx(e4,{className:"text-white/70",size:24}),A.jsx("span",{className:"font-mont text-white/80 text-sm uppercase tracking-widest",children:"Comparte tus fotos con"}),A.jsx(A4,{className:"text-white/70",size:24})]}),A.jsxs(Lt.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:t,className:"group relative",children:[A.jsx("h2",{className:"titulos-cursiva text-4xl md:text-6xl text-white drop-shadow-lg cursor-pointer",children:n}),A.jsx("span",{className:"absolute -bottom-6 left-1/2 transform -translate-x-1/2 font-mont text-xs text-white/60 opacity-0 group-hover:opacity-100 transition-opacity",children:"Click para copiar"})]}),A.jsx(Lt.p,{initial:{opacity:0},whileInView:{opacity:1},viewport:{once:!0},transition:{delay:.3},className:"font-mont text-white/60 text-sm mt-8",children:"Queremos ver tus mejores momentos! "})]})})]})},yI=()=>A.jsx("footer",{className:"bg-xv-bg text-xv-wine/60 py-10 text-center border-t border-xv-rose/20",children:A.jsxs("div",{className:"container mx-auto px-4",children:[A.jsx("p",{className:"nombre-skarleth text-4xl mb-2 text-xv-rose-dark",children:"Skarleth Guadalupe"}),A.jsx("p",{className:"texto-general text-xs uppercase tracking-[0.3em] mb-4 text-xv-rose-gold",children:"Mis Quince Aos"}),A.jsx("p",{className:"text-[10px] font-mont opacity-50",children:" 2026. Hecho con  para una noche de ensueo."}),A.jsx("p",{className:"font-mont text-xs text-xv-rose-gold/60 mt-2",children:"#LosXVDeSkarleth"})]})}),$T={name:"Mi Princesa - David Bisbal",src:"/music/mi-princesa-david-bisbal.mp3"},vI=()=>{const n=ot.useRef(null),[t,i]=ot.useState(!1),[r,o]=ot.useState(!0),[u,c]=ot.useState(!1);ot.useEffect(()=>{const g=n.current;g&&(g.muted=!0,g.play().then(()=>i(!0)).catch(()=>i(!1)))},[]);const m=async()=>{const g=n.current;if(g){if(t){g.pause(),i(!1);return}try{await g.play(),i(!0)}catch{i(!1)}}},p=()=>{const g=n.current;if(!g)return;const v=!r;g.muted=v,o(v)};return A.jsxs("div",{className:"fixed left-4 bottom-6 z-[56] flex flex-col items-start gap-2 max-w-[240px]",children:[A.jsx("audio",{ref:n,src:$T.src,loop:!0,preload:"auto",onError:()=>c(!0)}),A.jsx("div",{className:"bg-white/95 backdrop-blur border border-xv-rose-gold/40 text-xv-rose-dark text-[11px] font-mont py-2 px-3 rounded-full shadow-lg",children:t?` ${$T.name}`:" Vals ambiental"}),A.jsxs("div",{className:"flex items-center gap-2",children:[A.jsx("button",{onClick:m,className:"w-12 h-12 rounded-full bg-white border-2 border-xv-rose-gold shadow-lg flex items-center justify-center hover:scale-105 transition-transform",title:t?"Pausar":"Reproducir",children:t?A.jsx(M4,{size:20,className:"text-xv-rose-dark"}):A.jsx(I4,{size:20,className:"text-xv-rose-dark ml-0.5"})}),A.jsx("button",{onClick:p,className:"w-10 h-10 rounded-full bg-white border border-xv-rose-gold/60 shadow-md flex items-center justify-center hover:scale-105 transition-transform",title:r?"Activar sonido":"Silenciar",children:r?A.jsx(q4,{size:16,className:"text-xv-rose-dark"}):A.jsx(U4,{size:16,className:"text-xv-rose-dark"})}),A.jsx("div",{className:"w-10 h-10 rounded-full bg-xv-rose-dark text-white flex items-center justify-center shadow-md",children:A.jsx(jb,{size:16})})]}),u&&A.jsxs("p",{className:"text-[10px] font-mont text-red-600 bg-white rounded-md px-2 py-1 border border-red-200",children:["No se encontr el archivo del vals en ",A.jsx("code",{children:"/public/music/mi-princesa-david-bisbal.mp3"}),"."]})]})},_I=({color:n,delay:t})=>A.jsxs("div",{className:"w-12 h-16 md:w-20 md:h-28 relative origin-top animate-sway",style:{animationDelay:t},children:[A.jsx("div",{className:"absolute -top-2 left-0 right-0 h-1 bg-white/80 -z-10 shadow-sm"}),A.jsx("div",{className:`w-full h-full ${n} shadow-md relative opacity-90`,style:{clipPath:"polygon(0% 0%, 100% 0%, 100% 100%, 50% 85%, 0% 100%)",maskImage:"radial-gradient(circle at 50% 50%, transparent 10%, black 10%)",maskSize:"100% 100%",WebkitMaskImage:"radial-gradient(circle at 50% 40%, transparent 15%, black 15%), radial-gradient(circle at 20% 70%, transparent 8%, black 8%), radial-gradient(circle at 80% 70%, transparent 8%, black 8%)"},children:A.jsx("div",{className:"absolute inset-2 border border-white/40 rounded-sm"})})]}),TI=()=>{const n=[{color:"bg-xv-rose-dark",delay:"0s"},{color:"bg-white",delay:"0.2s"},{color:"bg-xv-pink",delay:"0.4s"},{color:"bg-green-600",delay:"0.6s"},{color:"bg-xv-rose-gold",delay:"0.8s"},{color:"bg-xv-rose-dark",delay:"0.1s"},{color:"bg-white",delay:"0.3s"},{color:"bg-xv-pink",delay:"0.5s"},{color:"bg-green-600",delay:"0.7s"},{color:"bg-xv-rose-gold",delay:"0.9s"},{color:"bg-xv-rose-dark",delay:"0s"},{color:"bg-white",delay:"0.2s"}];return A.jsx("div",{className:"fixed top-0 left-0 w-full z-40 pointer-events-none flex justify-between px-2 -mt-2 overflow-hidden",children:[...n,...n].map((t,i)=>A.jsx(_I,{color:t.color,delay:t.delay},i))})},EI="SKARLETH".split(""),bI=({onEnter:n})=>(ot.useEffect(()=>{const t=window.setTimeout(n,4200);return()=>window.clearTimeout(t)},[n]),A.jsx(YE,{children:A.jsxs(Lt.div,{initial:{opacity:1},exit:{opacity:0},animate:{opacity:[1,1,0]},transition:{duration:4.2,times:[0,.78,1]},className:"fixed inset-0 z-[120] flex items-center justify-center bg-[radial-gradient(circle_at_20%_20%,rgba(251,191,36,0.24),transparent_40%),radial-gradient(circle_at_80%_80%,rgba(194,65,12,0.30),transparent_45%),linear-gradient(145deg,#0f0804,#2f130b,#150904)]",children:[A.jsx("div",{className:"absolute inset-0 opacity-40 bg-[url('https://www.transparenttextures.com/patterns/asfalt-light.png')]"}),A.jsxs(Lt.div,{initial:{scale:.9,opacity:0},animate:{scale:[.9,1,1.08],opacity:[0,1,0]},transition:{duration:4,times:[0,.35,1]},className:"relative text-center px-4",children:[A.jsx("p",{className:"font-mont uppercase text-[10px] md:text-xs tracking-[0.6em] text-amber-100/70 mb-6",children:"Invitacion Exclusiva"}),A.jsx("h1",{className:"nombre-skarleth text-5xl sm:text-6xl md:text-8xl tracking-[0.2em] text-amber-100 flex justify-center gap-1 md:gap-2",children:EI.map((t,i)=>A.jsx(Lt.span,{initial:{opacity:0,y:28,filter:"blur(6px)"},animate:{opacity:1,y:0,filter:"blur(0px)"},transition:{duration:.6,delay:i*.14},className:"gold-shimmer",children:t},`${t}-${i}`))}),A.jsx(Lt.p,{initial:{opacity:0},animate:{opacity:1},transition:{delay:1.9},className:"titulos-cursiva text-amber-200/90 mt-6 text-3xl",children:"XV AOS"})]})]})})),xI=()=>A.jsx("a",{href:"#rsvp",className:"fixed right-4 bottom-6 z-[55] bg-gradient-to-r from-xv-rose-dark to-xv-wine text-white px-5 py-3 rounded-full shadow-xl text-xs md:text-sm font-mont tracking-wide hover:scale-105 transition-transform",children:"Asistirs? "}),AI=()=>{const[n,t]=ot.useState([]);return ot.useEffect(()=>{if(!Ph||!Wl)return;const i=sI(mA(Ph,"loveWallMessages"),rI("createdAt","desc"),aI(12)),r=cI(i,o=>{const u=o.docs.map(c=>{const m=c.data();return{id:c.id,name:m.name||"Invitado",message:m.message||(m.attendance==="yes"?"Nos vemos en la fiesta!":"Te mando un abrazo enorme."),attendance:m.attendance==="no"?"no":"yes",createdAt:m.createdAt}});t(u)});return()=>r()},[]),A.jsx("section",{className:"py-20 bg-xv-bg/60",children:A.jsxs("div",{className:"container mx-auto px-4 max-w-5xl",children:[A.jsxs("div",{className:"text-center mb-10",children:[A.jsx(ps,{className:"mx-auto text-xv-rose-gold mb-3",fill:"currentColor"}),A.jsx("h2",{className:"titulos-cursiva text-5xl text-xv-rose-dark mb-2",children:"Muro de Amor"}),A.jsx("p",{className:"font-mont text-sm text-xv-wine/70",children:"Mensajes en vivo de nuestros invitados"})]}),!Wl&&A.jsxs("div",{className:"text-center bg-white border border-xv-rose/20 rounded-2xl p-6 font-mont text-sm text-gray-500",children:["Configura las variables ",A.jsx("code",{children:"VITE_FIREBASE_*"})," para activar el muro en tiempo real."]}),Wl&&n.length===0&&A.jsx("div",{className:"text-center bg-white border border-xv-rose/20 rounded-2xl p-6 font-mont text-sm text-gray-500",children:"An no hay mensajes. S el primero en dejar uno al confirmar asistencia."}),n.length>0&&A.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:n.map(i=>A.jsxs("article",{className:"bg-white rounded-2xl p-5 border border-xv-rose/20 shadow-sm",children:[A.jsxs("div",{className:"flex items-center justify-between mb-3",children:[A.jsx("h3",{className:"font-cormorant text-2xl text-xv-rose-dark",children:i.name}),A.jsx("span",{className:`text-xs font-mont px-2 py-1 rounded-full ${i.attendance==="yes"?"bg-green-100 text-green-700":"bg-red-100 text-red-600"}`,children:i.attendance==="yes"?"Asiste":"No asiste"})]}),A.jsxs("p",{className:"font-mont text-sm text-gray-600 leading-relaxed",children:["",i.message,""]})]},i.id))})]})})},SI=()=>{const[n,t]=ot.useState(!0);return A.jsxs(A.Fragment,{children:[n&&A.jsx(bI,{onEnter:()=>t(!1)}),A.jsxs("div",{className:`min-h-screen relative transition-opacity duration-1000 ${n?"opacity-0 pointer-events-none":"opacity-100"}`,children:[A.jsx(TI,{}),A.jsx(vI,{}),A.jsx(xI,{}),A.jsxs("main",{className:"relative z-10",children:[A.jsx(KV,{}),A.jsx(QV,{targetDate:"2026-05-23T16:00:00"}),A.jsx(H4,{}),A.jsx(K4,{}),A.jsx(Y4,{}),A.jsx(Q4,{}),A.jsx(X4,{}),A.jsx(Z4,{}),A.jsx($4,{}),A.jsx(pI,{}),A.jsx(gI,{}),A.jsx(AI,{})]}),A.jsx(yI,{})]})]})},wA=document.getElementById("root");if(!wA)throw new Error("Could not find root element to mount to");const wI=dS.createRoot(wA);wI.render(A.jsx(WT.StrictMode,{children:A.jsx(SI,{})}));
